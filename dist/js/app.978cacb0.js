(function(){"use strict";var a={6254:function(a,t,e){var s=e(3751),l=e(641);function o(a,t){const e=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(e)])}var n=e(6262);const i={},r=(0,n.A)(i,[["render",o]]);var d=r,c=e(5220),m=e(33);const u={class:"section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4"},h={class:"container"},p={class:"row justify-content-center"},k={class:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center"},g=(0,l.Lk)("div",{class:"d-flex justify-content-center py-4"},[(0,l.Lk)("a",{href:"",class:"logo d-flex align-items-center w-auto"},[(0,l.Lk)("img",{src:"#",alt:""}),(0,l.Lk)("span",{class:"d-none d-lg-block"},"Sinar Tanjung Group")])],-1),b={class:"card mb-3"},f={class:"card-body"},y=(0,l.Lk)("div",{class:"pt-4 pb-2"},[(0,l.Lk)("h5",{class:"card-title text-center pb-0 fs-4"},"Login"),(0,l.Lk)("p",{class:"text-center small"},"Enter your username & password to login")],-1),L={class:"col-12"},_=(0,l.Lk)("label",{for:"yourUsername",class:"form-label"},"Email",-1),v={class:"input-group has-validation"},w=(0,l.Lk)("span",{class:"input-group-text",id:"inputGroupPrepend"},"@",-1),x=(0,l.Lk)("div",{class:"invalid-feedback"},"Please enter your email.",-1),C={key:0,class:"text-danger fst-italic text-start"},D={class:"col-12"},P=(0,l.Lk)("label",{for:"yourPassword",class:"form-label"},"Password",-1),T=(0,l.Lk)("div",{class:"invalid-feedback"},"Please enter your password!",-1),I={class:"text-danger fst-italic text-start"},S={class:"col-12"},A={class:"form-check"},E=(0,l.Lk)("label",{class:"form-check-label",for:"rememberMe"},"Remember me",-1),j={class:"col-12"},B=(0,l.Lk)("div",{class:"credits"},[(0,l.eW)("Designed by "),(0,l.Lk)("a",{href:"#"},"STG V.00.01")],-1);function K(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("section",u,[(0,l.Lk)("div",h,[(0,l.Lk)("div",p,[(0,l.Lk)("div",k,[g,(0,l.Lk)("div",b,[(0,l.Lk)("div",f,[y,(0,l.Lk)("form",{onSubmit:t[5]||(t[5]=(0,s.D$)(((...a)=>i.login&&i.login(...a)),["prevent"])),class:"row g-3 needs-validation",novalidate:""},[(0,l.Lk)("div",L,[_,(0,l.Lk)("div",v,[w,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.email=a),type:"email",name:"email",class:"form-control",onInput:t[1]||(t[1]=(...a)=>i.validateEmail&&i.validateEmail(...a)),id:"yourEmail",required:""},null,544),[[s.Jo,n.formData.email]]),x]),n.errResponse.err_email?((0,l.uX)(),(0,l.CE)("div",C,(0,m.v_)(n.errResponse.err_email),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",D,[P,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.password=a),type:"password",name:"password",class:"form-control",id:"yourPassword",required:""},null,512),[[s.Jo,n.formData.password]]),T,(0,l.Lk)("div",I,(0,m.v_)(n.errResponse.err_password),1)]),(0,l.Lk)("div",S,[(0,l.Lk)("div",A,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>n.remember=a),name:"remember",value:"true",id:"rememberMe"},null,512),[[s.lH,n.remember]]),E])]),(0,l.Lk)("div",j,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...a)=>i.login&&i.login(...a)),class:"btn btn-primary w-100",type:"submit"},"Login")])],32)])]),B])])])])}e(4114);var M=e(1250);const F="http://103.127.98.129:3000/";var U=e(8465),N=e.n(U);const R={success(a,t){return N().fire({title:a,text:t,icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"OK"})},error(a,t){return N().fire({title:a,text:t,icon:"error",confirmButtonColor:"#d33",confirmButtonText:"OK"})},confirm(a,t){return N().fire({title:a,text:t,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"})}};var $=R,J={name:"LoginView",data(){return{formData:{email:"",password:""},errResponse:{err_email:"",err_password:""},remember:!1}},methods:{validateEmail(){const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.test(this.formData.email)?this.errResponse.err_email="":this.errResponse.err_email="Format email tidak valid."},login(){M.A.post(`${F}login`,this.formData).then((a=>{a&&200===a.status&&($.success("Berhasil!",a.data.msg),this.remember,localStorage.setItem("accessToken",a.data.data.accessToken))})).then((()=>{sw.push("/")})).catch((a=>{a.response?404===a.response.status?this.errResponse.err_email="Email belum didaftarkan.":401===a.response.status?this.errResponse.err_password="Password salah.":sw.push({name:"Error",params:{msg:a}}):console.error("Unexpected error:",a)}))}},mounted(){const a=localStorage.getItem("accessToken");a&&sw.push("/")}};const X=(0,n.A)(J,[["render",K]]);var q=X,G=e.p+"img/stg.5503ef6d.jpg";const V={id:"header",class:"header fixed-top d-flex align-items-center"},O={class:"d-flex align-items-center justify-content-between"},H=(0,l.Lk)("img",{src:G,alt:""},null,-1),z={class:"d-none d-lg-block"},W={class:"search-bar"},Y={class:"search-form d-flex align-items-center"},Q=(0,l.Lk)("button",{type:"submit",title:"Search"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1),Z={class:"header-nav ms-auto"},aa={class:"d-flex align-items-center"},ta=(0,l.Fv)('<li class="nav-item dropdown"><a class="nav-link nav-icon text-decoration-none" href="#" data-bs-toggle="dropdown"><i class="bi bi-bell"></i><span class="badge bg-primary badge-number">4</span></a><ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications"><li class="dropdown-header"> You have 4 new notifications <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a></li><li><hr class="dropdown-divider"></li><li class="notification-item"><i class="bi bi-exclamation-circle text-warning"></i><div><h4>Lorem Ipsum</h4><p>Quae dolorem earum veritatis oditseno</p><p>30 min. ago</p></div></li><li><hr class="dropdown-divider"></li><li class="notification-item"><i class="bi bi-x-circle text-danger"></i><div><h4>Atque rerum nesciunt</h4><p>Quae dolorem earum veritatis oditseno</p><p>1 hr. ago</p></div></li><li><hr class="dropdown-divider"></li><li class="notification-item"><i class="bi bi-check-circle text-success"></i><div><h4>Sit rerum fuga</h4><p>Quae dolorem earum veritatis oditseno</p><p>2 hrs. ago</p></div></li><li><hr class="dropdown-divider"></li><li class="notification-item"><i class="bi bi-info-circle text-primary"></i><div><h4>Dicta reprehenderit</h4><p>Quae dolorem earum veritatis oditseno</p><p>4 hrs. ago</p></div></li><li><hr class="dropdown-divider"></li><li class="dropdown-footer"><a href="#">Show all notifications</a></li></ul></li>',1),ea={class:"nav-item dropdown pe-3"},sa={class:"nav-link nav-profile d-flex align-items-center pe-0",href:"#","data-bs-toggle":"dropdown"},la=["src"],oa={class:"d-none d-md-block dropdown-toggle ps-2"},na={class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow profile"},ia={class:"dropdown-header"},ra=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1),da=(0,l.Lk)("i",{class:"bi bi-person"},null,-1),ca=(0,l.Lk)("span",null,"My Profile",-1),ma=(0,l.Fv)('<li><hr class="dropdown-divider"></li><li><a class="dropdown-item d-flex align-items-center" href=""><i class="bi bi-gear"></i><span>Account Settings</span></a></li><li><hr class="dropdown-divider"></li><li><a class="dropdown-item d-flex align-items-center" href=""><i class="bi bi-question-circle"></i><span>Need Help?</span></a></li><li><hr class="dropdown-divider"></li>',5),ua=(0,l.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1),ha=(0,l.Lk)("span",null,"Log Out",-1),pa=[ua,ha],ka={class:"sidebar"},ga={class:"sidebar-nav",id:"sidebar-nav"},ba={class:"nav-item"},fa=(0,l.Lk)("i",{class:"bi bi-grid"},null,-1),ya=(0,l.Lk)("span",null,"Dashboard",-1),La={class:"nav-item"},_a=(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1),va=(0,l.Lk)("span",null,"Presensi",-1),wa={class:"nav-item"},xa=(0,l.Lk)("i",{class:"bi bi-ticket-detailed"},null,-1),Ca=(0,l.Lk)("span",null,"Data Absensi",-1),Da={class:"nav-item"},Pa=(0,l.Lk)("i",{class:"bi bi-ticket-detailed"},null,-1),Ta=(0,l.Lk)("span",null,"Data Produksi",-1),Ia={class:"nav-item"},Sa=(0,l.Lk)("i",{class:"bi bi-envelope-paper"},null,-1),Aa=(0,l.Lk)("span",null,"Pengajuan Izin",-1),Ea={class:"nav-item"},ja=(0,l.Lk)("a",{class:"nav-link collapsed","data-bs-target":"#components-nav","data-bs-toggle":"collapse",href:"#"},[(0,l.Lk)("i",{class:"bi bi-menu-button-wide"}),(0,l.Lk)("span",null,"Data Master"),(0,l.Lk)("i",{class:"bi bi-chevron-down ms-auto"})],-1),Ba={id:"components-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},Ka=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Ma=(0,l.Lk)("span",null,"Data Karyawan",-1),Fa=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Ua=(0,l.Lk)("span",null,"Data Esk Karyawan",-1),Na=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Ra=(0,l.Lk)("span",null,"Data Gaji",-1),$a=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Ja=(0,l.Lk)("span",null,"Data Lokasi",-1),Xa=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),qa=(0,l.Lk)("span",null,"Data Users",-1),Ga=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Va=(0,l.Lk)("span",null,"Data Hak Akses",-1),Oa={class:"nav-item"},Ha=(0,l.Lk)("a",{class:"nav-link collapsed","data-bs-target":"#forms-nav","data-bs-toggle":"collapse",href:"#"},[(0,l.Lk)("i",{class:"bi bi-journal-text"}),(0,l.Lk)("span",null,"Pencatatan Kehadiran"),(0,l.Lk)("i",{class:"bi bi-chevron-down ms-auto"})],-1),za={id:"forms-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},Wa=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Ya=(0,l.Lk)("span",null,"Check In",-1),Qa=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),Za=(0,l.Lk)("span",null,"Check Out",-1),at=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),tt=(0,l.Lk)("span",null,"Pemulihan",-1),et=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),st=(0,l.Lk)("span",null,"Data Absensi",-1),lt=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),ot=(0,l.Lk)("span",null,"Data Produksi",-1),nt={class:"nav-item"},it=(0,l.Lk)("a",{class:"nav-link collapsed","data-bs-target":"#tables-nav","data-bs-toggle":"collapse",href:"#"},[(0,l.Lk)("i",{class:"bi bi-layout-text-window-reverse"}),(0,l.Lk)("span",null,"Laporan"),(0,l.Lk)("i",{class:"bi bi-chevron-down ms-auto"})],-1),rt={id:"tables-nav",class:"nav-content collapse","data-bs-parent":"#sidebar-nav"},dt=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),ct=(0,l.Lk)("span",null,"Laporan Absensi",-1),mt=(0,l.Lk)("i",{class:"bi bi-circle"},null,-1),ut=(0,l.Lk)("span",null,"Laporan Gaji",-1),ht=(0,l.Lk)("li",{class:"nav-heading"},"Pages",-1),pt={class:"nav-item"},kt=(0,l.Lk)("i",{class:"bi bi-person"},null,-1),gt=(0,l.Lk)("span",null,"Pengaturan",-1);function bt(a,t,e,o,n,i){const r=(0,l.g2)("router-link"),d=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("header",V,[(0,l.Lk)("div",O,[(0,l.bF)(r,{class:"logo d-flex align-items-center text-decoration-none",to:"/dashboard"},{default:(0,l.k6)((()=>[H,(0,l.Lk)("span",z,(0,m.v_)(n.dataProfilById.nama_alias),1)])),_:1}),(0,l.Lk)("i",{onClick:t[0]||(t[0]=(...a)=>i.toggleSidebar&&i.toggleSidebar(...a)),class:"bi bi-list toggle-sidebar-btn"})]),(0,l.Lk)("div",W,[(0,l.Lk)("div",Y,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.searchQuery=a),onInput:t[2]||(t[2]=(...t)=>a.onSearch&&a.onSearch(...t)),id:"cari",placeholder:"Search...",type:"text",title:"Enter search keyword"},null,544),[[s.Jo,n.searchQuery]]),Q])]),(0,l.Lk)("nav",Z,[(0,l.Lk)("ul",aa,[(0,l.Q3)("",!0),((0,l.uX)(),(0,l.CE)("button",{key:1,type:"button",onClick:t[3]||(t[3]=(...t)=>a.clear&&a.clear(...t)),class:"btn btn-outline-warning mx-1"},"Clear")),((0,l.uX)(),(0,l.CE)("button",{key:2,type:"button",onClick:t[4]||(t[4]=(...a)=>i._exports&&i._exports(...a)),class:"btn btn-outline-danger ms-1 me-3"},"Export")),ta,(0,l.Lk)("li",ea,[(0,l.Lk)("a",sa,[(0,l.Lk)("img",{src:i.getUrl(n.dataMe.doc?n.dataMe.doc.foto:""),alt:"Profile",class:"rounded-circle"},null,8,la),(0,l.Lk)("span",oa,(0,m.v_)(n.dataMe.nama),1)]),(0,l.Lk)("ul",na,[(0,l.Lk)("li",ia,[(0,l.Lk)("h6",null,(0,m.v_)(n.dataMe.nama),1),(0,l.Lk)("span",null,(0,m.v_)(n.dataMe.jabatan?n.dataMe.jabatan.nama:""),1)]),ra,(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"dropdown-item d-flex align-items-center",to:{path:`/profil-me/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[da,ca])),_:1},8,["to"])]),ma,(0,l.Lk)("li",null,[(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...a)=>i.logout&&i.logout(...a)),class:"dropdown-item d-flex align-items-center",href:"#"},pa)])])])])])]),(0,l.Lk)("aside",ka,[(0,l.Lk)("ul",ga,[(0,l.Lk)("li",ba,[(0,l.bF)(r,{class:"text-decoration-none nav-link",to:{path:"/"}},{default:(0,l.k6)((()=>[fa,ya])),_:1})]),(0,l.Lk)("li",La,[(0,l.bF)(r,{class:"text-decoration-none nav-link",to:{path:`/presensi-me/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[_a,va])),_:1},8,["to"])]),(0,l.Lk)("li",wa,[(0,l.bF)(r,{class:"text-decoration-none nav-link",to:{path:`/data-absensi-me/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[xa,Ca])),_:1},8,["to"])]),(0,l.Lk)("li",Da,[(0,l.bF)(r,{class:"text-decoration-none nav-link",to:{path:`/data-produksi-me/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Pa,Ta])),_:1},8,["to"])]),(0,l.Lk)("li",Ia,[(0,l.bF)(r,{class:"text-decoration-none nav-link",to:{path:`/pengajuan-izin/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Sa,Aa])),_:1},8,["to"])]),(0,l.Lk)("li",Ea,[ja,(0,l.Lk)("ul",Ba,[(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-karyawan/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Ka,Ma])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-karyawan-exp/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Fa,Ua])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-karyawan-gaji/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Na,Ra])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-karyawan-lokasi/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[$a,Ja])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-users/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Xa,qa])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-karyawan-hak-akses/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Ga,Va])),_:1},8,["to"])])])]),(0,l.Lk)("li",Oa,[Ha,(0,l.Lk)("ul",za,[(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/check-in/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Wa,Ya])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/check-out/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[Qa,Za])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/pemulihan/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[at,tt])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-absensi/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[et,st])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-produksi/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[lt,ot])),_:1},8,["to"])])])]),(0,l.Lk)("li",nt,[it,(0,l.Lk)("ul",rt,[(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-laporan-absensi/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[dt,ct])),_:1},8,["to"])]),(0,l.Lk)("li",null,[(0,l.bF)(r,{class:"text-decoration-none",to:{path:`/data-laporan-gaji/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[mt,ut])),_:1},8,["to"])])])]),ht,(0,l.Lk)("li",pt,[(0,l.bF)(r,{class:"text-decoration-none nav-link collapsed",to:{path:`/pengaturan/${i.randomString(100)}`}},{default:(0,l.k6)((()=>[kt,gt])),_:1},8,["to"])])])]),(0,l.bF)(d,{searchResults:n.searchQuery,exports_status:n.exports_,"data-me":n.dataMe},null,8,["searchResults","exports_status","data-me"])])}var ft={data(){return{isSidebarOpen:!1,searchQuery:"",exports_:!1,dataMe:{},dataProfilById:{}}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getProfilById(),this.getMe()):sw.push("/login")},methods:{randomString(a){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let o=0;o<a;o++){const a=Math.floor(Math.random()*t.length);e+=t.charAt(a)}const s=window.location.href,l=s;return localStorage.setItem("id-path",l),e},_exports(){this.exports_=!this.exports_},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen,this.isSidebarOpen?document.body.classList.add("toggle-sidebar"):document.body.classList.remove("toggle-sidebar")},logout(){$.confirm("Yakin keluar?","Jika keluar anda harus login kembali!").then((a=>{a.isConfirmed&&(localStorage.removeItem("accessToken"),localStorage.removeItem("shift"),localStorage.removeItem("uuid"),localStorage.removeItem("lokasi_by_id"),$.success("Berhasil!","Anda telah keluar."),sw.push("/login"))}))},getUrl(a){return`${F}${a}`},getMe(){const a=localStorage.getItem("accessToken");a?M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})):sw.push("/login")},getProfilById(){M.A.get(`${F}profil/1`).then((a=>{this.dataProfilById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}}};const yt=(0,n.A)(ft,[["render",bt]]);var Lt=yt;const _t={id:"main-padding",class:"main"},vt={class:"section dashboard"},wt={class:"row"},xt={class:"col-lg-8"},Ct={class:"card p-4"},Dt={class:"m-2",ref:"persentaseBulanan",style:{"max-height":"400px"}},Pt={class:"col-lg-4"},Tt={class:"card p-4"},It={class:"m-3",ref:"persentaseHariIni",style:{"max-height":"400px"}};function St(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul-vue"),r=(0,l.g2)("komponen-spinner");return(0,l.uX)(),(0,l.CE)("main",_t,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.loading?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("section",vt,[(0,l.Lk)("div",wt,[(0,l.Lk)("div",xt,[(0,l.Lk)("div",Ct,[(0,l.Lk)("canvas",Dt,null,512)])]),(0,l.Lk)("div",Pt,[(0,l.Lk)("div",Tt,[(0,l.Lk)("canvas",It,null,512)])])])])])}var At=e(8293);const Et={class:"pagetitle"},jt={class:"breadcrumb"},Bt=(0,l.Lk)("li",{class:"breadcrumb-item"},[(0,l.Lk)("a",{href:""},"Home")],-1),Kt={class:"breadcrumb-item active"};function Mt(a,t,e,s,o,n){return(0,l.uX)(),(0,l.CE)("div",Et,[(0,l.Lk)("h1",null,(0,m.v_)(e.title),1),(0,l.Lk)("nav",null,[(0,l.Lk)("ol",jt,[Bt,(0,l.Lk)("li",Kt,(0,m.v_)(e.title),1)])])])}var Ft={name:"KomponenJudul",props:{title:String}};const Ut=(0,n.A)(Ft,[["render",Mt]]);var Nt=Ut;const Rt={class:"position-absolute top-50 start-50 translate-middle",style:{"z-index":"99"}},$t=(0,l.Lk)("div",{class:"spinner-border text-primary",style:{width:"60px",height:"60px"},role:"status"},[(0,l.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),Jt=[$t];function Xt(a,t,e,s,o,n){return(0,l.uX)(),(0,l.CE)("div",Rt,Jt)}var qt={name:"KomponenSpinner"};const Gt=(0,n.A)(qt,[["render",Xt]]);var Vt=Gt,Ot=e(4641),Ht={name:"pageDashboard",components:{KomponenJudulVue:Nt,KomponenSpinner:Vt},data(){return{namaPage:"Dashboard",loading:!1,dataPersentaseBulanan:[],statusPresensiHariIni:{},dataMe:{},jabatan:""}},methods:{getPersentaseBulanan(){this.loading=!0,M.A.get(`${F}persentase`,{params:{year:(new Date).getFullYear()}}).then((a=>{this.dataPersentaseBulanan=a.data.data})).then((()=>{this.createChartPersentasePertahun()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},createChartPersentasePertahun(){try{this.loading=!0;const a=this.dataPersentaseBulanan.map((a=>a.bulan)),t=this.dataPersentaseBulanan.map((a=>a.persentase)),e={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Agu",9:"Sep",10:"Okt",11:"Nov",12:"Des"},s=a.map((a=>e[a]));new At.Ay(this.$refs.persentaseBulanan,{type:"bar",data:{labels:s,datasets:[{label:`Persentase kehadiran Tahun ${(new Date).getFullYear()}`,data:t,borderWidth:1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"]}]},options:{scales:{y:{max:100,beginAtZero:!0,ticks:{stepSize:10,callback:function(a){return a+"%"}}}}}})}catch(a){console.log(a)}finally{this.loading=!1}},persentaseHariIni(){M.A.get(`${F}persentase_hari_ini/${this.getDateWIB()}`).then((a=>{this.statusPresensiHariIni=a.data.data})).then((()=>{this.createChartPersentaseHariIni()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},createChartPersentaseHariIni(){const a=this.statusPresensiHariIni.hadir,t=this.statusPresensiHariIni.tidak_hadir,e=this.statusPresensiHariIni.izin,s=a+t+e,l=a/s*100,o=t/s*100,n=e/s*100,i=Math.round(l),r=Math.round(o),d=Math.round(n);new At.Ay(this.$refs.persentaseHariIni,{type:"doughnut",data:{labels:["Hadir","Tidak Hadir","Izin"],datasets:[{label:"Total",data:[i,r,d],backgroundColor:["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 99, 177)"],hoverOffset:4}]},options:{plugins:{tooltip:{callbacks:{label:function(a){const t=a.parsed;return" "+t.toFixed(0)+" %"}}}}}})},getMe(){this.loading=!0;const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data,this.jabatan=this.dataMe?a.data.data.jabatan.nama:""})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDateWIB(),this.getMe(),this.persentaseHariIni(),this.getPersentaseBulanan()):sw.push("/login")}};const zt=(0,n.A)(Ht,[["render",St]]);var Wt=zt;const Yt={id:"main",class:"main pt-4 mt-4"},Qt={class:"section profile"},Zt={class:"col-lg-5 mx-auto"},ae={class:"card p-2"},te={class:"d-flex justify-content-center align-items-end pt-2",ref:"contentToExport"},ee={class:"card-body text-center"},se={class:"text-warning fst-italic",style:{"font-size":"12px"}},le={class:"mb-4"},oe={class:"text-white",style:{"font-weight":"600"}},ne={class:"text-white fs-6",style:{"margin-top":"-15px"}},ie={class:"card bg-light p-4"},re={class:"text-center"},de={class:"mb-4"},ce={class:"text-primary",style:{"font-weight":"600"}},me={style:{"margin-top":"-5px"}},ue={style:{"font-weight":"900","margin-top":"-15px"}},he={class:"d-flex justify-content-evenly"},pe={style:{"font-size":"12px"},class:"me-1"},ke=(0,l.Lk)("p",{style:{"font-weight":"800"}},"Lintang",-1),ge={style:{"margin-top":"-15px"}},be={style:{"font-size":"12px"},class:"ms-1"},fe=(0,l.Lk)("p",{style:{"font-weight":"800"}},"Bujur",-1),ye={style:{"margin-top":"-15px"}},Le=(0,l.Lk)("hr",null,null,-1),_e={class:"d-flex justify-content-between p-0 m-0"},ve=["disabled"],we=(0,l.Lk)("i",{class:"bi bi-skip-start-circle"},null,-1),xe=["disabled"],Ce=(0,l.Lk)("i",{class:"bi bi-stop-circle"},null,-1);function De(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-spinner"),d=(0,l.g2)("komponen-google-lokasi");return(0,l.uX)(),(0,l.CE)("main",Yt,[(0,l.bF)(i,{class:"m-4",title:o.namaPage},null,8,["title"]),o.loading?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("section",Qt,[(0,l.Lk)("div",Zt,[(0,l.Lk)("div",ae,[(0,l.bF)(d,{"reload-lokasi":o.randomString,onUpdateFormLokasi:n.updateFormLokasi,onDataProfil:n.dataProfil},null,8,["reload-lokasi","onUpdateFormLokasi","onDataProfil"]),(0,l.Lk)("div",te,[(0,l.Lk)("div",ee,[(0,l.Lk)("p",se,"Absensi "+(0,m.v_)(o.dataProfilById&&o.dataProfilById.min_efektif_start?o.dataProfilById.min_efektif_start:0)+" Menit sebelum waktu mulai akan mendapatkan Bonus",1),(0,l.Lk)("div",le,[(0,l.Lk)("h1",oe,"~ "+(0,m.v_)(o.currentTime)+" ~",1),(0,l.Lk)("p",ne,(0,m.v_)(n.getTanggalID()),1)]),(0,l.Lk)("div",ie,[(0,l.Lk)("div",re,[(0,l.Lk)("div",de,[(0,l.Lk)("h3",ce,(0,m.v_)(o.dataMe.nama),1),(0,l.Lk)("h6",me,"~ "+(0,m.v_)(o.dataMe?o.dataMe.jabatan.nama:"")+" ~",1)]),(0,l.Lk)("div",null,[(0,l.Lk)("p",null,"Sift "+(0,m.v_)(o.statis.shift),1),(0,l.Lk)("h3",ue,"( "+(0,m.v_)(o.statis.jam_start)+" - "+(0,m.v_)(o.statis.jam_end)+" )",1)]),(0,l.Lk)("div",he,[(0,l.Lk)("div",pe,[ke,(0,l.Lk)("p",ge,"~"+(0,m.v_)(o.formData.lat)+"~",1)]),(0,l.Lk)("div",be,[fe,(0,l.Lk)("p",ye,"~"+(0,m.v_)(o.formData.lng)+"~",1)])]),Le,(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>n.refreshLokasi&&n.refreshLokasi(...a)),type:"button",class:"btn btn-md btn-primary w-100"},"Refresh"),(0,l.Lk)("div",_e,[(0,l.Lk)("button",{disabled:!!o.dataAbsensiLastByUser&&null===o.dataAbsensiLastByUser.time_end,onClick:t[1]||(t[1]=(...a)=>n.checkIn&&n.checkIn(...a)),type:"button",style:{width:"48%"},class:(0,m.C4)(["btn",o.dataAbsensiLastByUser&&null===o.dataAbsensiLastByUser.time_end?"btn-secondary":"btn-success","btn-sm","my-3","mx-1","px-2"])},[we,(0,l.eW)(" Check In ")],10,ve),(0,l.Lk)("button",{disabled:!o.dataAbsensiLastByUser||null!==o.dataAbsensiLastByUser.time_end,onClick:t[2]||(t[2]=(...a)=>n.checkOut&&n.checkOut(...a)),type:"button",style:{width:"48%"},class:(0,m.C4)(["btn",o.dataAbsensiLastByUser&&null===o.dataAbsensiLastByUser.time_end?"btn-danger":"btn-secondary","btn-sm","my-3","mx-1","px-2"])},[Ce,(0,l.eW)(" Check Out ")],10,xe)])])])])])],512)])])])])}const Pe={class:"fst-italic d-flex justify-content-between overflow-auto"},Te=(0,l.Lk)("p",{style:{"font-size":"12px"},class:"text-danger"},"Pastikan internet stabil untuk mengambil coordinate yang akurat.",-1),Ie={style:{"font-size":"12px"}},Se={key:1,style:{"margin-top":"-10px"}},Ae=(0,l.Lk)("span",{class:"ms-1 me-3"},"Lokasi Absensi",-1),Ee={key:2,class:"mt-4 pt-2 px-4"},je={class:"text-center py-4 text-danger"};function Be(a,t,e,s,o,n){const i=(0,l.g2)("komponen-spinner"),r=(0,l.g2)("AdvancedMarkerElement"),d=(0,l.g2)("InfoWindow"),c=(0,l.g2)("Circle"),u=(0,l.g2)("GoogleMap");return(0,l.uX)(),(0,l.CE)("div",null,[o.loading?((0,l.uX)(),(0,l.Wv)(i,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("div",Pe,[Te,(0,l.Lk)("p",Ie,[(0,l.Lk)("span",null,"Latitude : "+(0,m.v_)(o.formData.lat),1),(0,l.eW)(", "),(0,l.Lk)("span",null,"Longitude : "+(0,m.v_)(o.formData.lng),1)])]),o.online?((0,l.uX)(),(0,l.CE)("div",Se,[(0,l.bF)(u,{"api-key":o.api_key,style:{width:"100%",height:"175px"},center:o.formData,zoom:16,mapTypeId:"terrain"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{options:{position:o.formData,draggable:!0,title:"Location"},onDragend:n.onformDataChanged},null,8,["options","onDragend"]),(0,l.bF)(d,{options:{position:o.formData,maxWidth:"150"},class:"pb-2 text-center"},{default:(0,l.k6)((()=>[Ae])),_:1},8,["options"]),(0,l.bF)(c,{options:o.circleOptions},null,8,["options"])])),_:1},8,["api-key","center"])])):((0,l.uX)(),(0,l.CE)("div",Ee,[(0,l.Lk)("h6",je,(0,m.v_)(o.errLokasi),1)]))])}var Ke=e(8548),Me={name:"KomponenGoogleLokasi",components:{GoogleMap:Ke.u6,AdvancedMarkerElement:Ke.pH,Circle:Ke.jl,InfoWindow:Ke.Fu,KomponenSpinner:Vt},data(){return{circleOptions:{center:{lat:-7.7114012,lng:113.497522},radius:100,strokeColor:"#0000FF",strokeOpacity:.8,strokeWeight:2,fillColor:"#0000FF",fillOpacity:.35},loading:!1,errLokasi:"",api_key:"AIzaSyA91TxyxpAZRkXQNLMzkP1_XZVTvkdmQ_I",formData:{lat:0,lng:0},useLokasi:!1,dataProfilById:{},online:!1}},mounted(){this.getProfilById(),this.onlineStatus(),this.dataForm?this.formData=this.dataForm:this.autoLocation(),window.onerror=function(a,t,e,s,l){console.error("Terjadi kesalahan:",a),console.error("Terjadi kesalahan:",t),console.error("Terjadi kesalahan:",e),console.error("Terjadi kesalahan:",s),console.error("Terjadi kesalahan:",l)}},props:{reloadLokasi:{type:String,required:!0},dataForm:{required:!1}},watch:{reloadLokasi:{immediate:!0,handler(a){a&&this.getLocation()}}},methods:{onlineStatus(){this.online=navigator.onLine},getProfilById(){this.loading=!0,M.A.get(`${F}profil/1`).then((a=>{this.dataProfilById=a.data.data})).then((()=>{this.$emit("data-profil",this.dataProfilById)})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},autoLocation(){try{this.loading=!0,navigator.onLine?(this.isLoadingLocation=!0,navigator.geolocation.getCurrentPosition(this.onSuccess.bind(this),this.onGeolocationError.bind(this),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):this.errLokasi="Error, No internet connection. Using default location."}catch(a){$.error("Error",`Gagal memuat Google Maps API: ${a.message}`),this.errLokasi=`Error, Gagal memuat Google Maps API: ${a.message}`}finally{this.loading=!1}},getLocation(){try{this.loading=!0,navigator.onLine?(this.isLoadingLocation=!0,navigator.geolocation.getCurrentPosition(this.onSuccess.bind(this),this.onGeolocationError.bind(this),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):($.error("Error","No internet connection. Using default location."),this.errLokasi="Error, No internet connection. Using default location.")}catch(a){$.error("Error",`Gagal memuat Google Maps API: ${a.message}`),this.errLokasi=`Error, Gagal memuat Google Maps API: ${a.message}`}finally{this.loading=!1}},onGeolocationError(a){switch(a.code){case a.PERMISSION_DENIED:$.error("Error","User denied the request for Geolocation."),this.errLokasi="Error, User denied the request for Geolocation.";break;case a.POSITION_UNAVAILABLE:$.error("Error","Location information is unavailable."),this.errLokasi="Error, Location information is unavailable.";break;case a.TIMEOUT:$.error("Error","The request to get user location timed out."),this.errLokasi="Error, The request to get user location timed out.";break;case a.UNKNOWN_ERROR:$.error("Error","An unknown error occurred while trying to get user location."),this.errLokasi="Error, An unknown error occurred while trying to get user location.";break;default:$.error("Error","An error occurred while trying to get user location."),this.errLokasi="Error, An error occurred while trying to get user location."}},onSuccess(a){this.formData={lat:a.coords.latitude,lng:a.coords.longitude},this.$emit("update-form-lokasi",this.formData)},onformDataChanged(a){const t=a.latLng,e=t.lat(),s=t.lng();this.formData.lat=e.toFixed(7),this.formData.lng=s.toFixed(7),this.$emit("update-form-lokasi",this.formData)}}};const Fe=(0,n.A)(Me,[["render",Be]]);var Ue=Fe,Ne={name:"pagePresensiMe",components:{KomponenGoogleLokasi:Ue,KomponenSpinner:Vt,KomponenJudul:Nt},data(){return{namaPage:"Presensi",loading:!1,dataMe:"",formData:{lat:0,lng:0},statis:{},shift:"",dataAbsensiLastByUser:{},dataProfilById:{},currentTime:"",randomString:""}},methods:{checkIn(){const a=Ot.c9.fromFormat(this.statis.jam_start,"HH:mm:ss"),t=Ot.c9.fromFormat(this.getTimeWIB(),"HH:mm:ss"),e=Ot.c9.fromFormat("00:00:00","HH:mm:ss").plus({minutes:this.statis.min_efektif_start});let s={uuid_user:this.dataMe.uuid,uuid_karyawan:this.dataMe.uuid,tanggal:this.getDateWIB(),hadir:"Hadir",keterangan:"Hadir",time_start:a-t>e||a>t?this.statis.jam_start:this.getTimeWIB(),time_end:null,shift:this.statis.shift,lat:this.formData.lat,lng:this.formData.lng,bonus:a-t>e,nominal_bonus:this.dataMe.nominal_bonus,nominal_gaji:this.dataMe.gaji,kemampuan:this.dataMe.kemampuan.nama,jabatan:this.dataMe.jabatan.nama,penjab:this.dataMe.nama};$.confirm("Yakin mulai?","Klik oke jika iya!").then((a=>{a.isConfirmed&&M.A.post(`${F}${1==this.dataProfilById.lokasi?"absensi_presensi_check_in":"absensi_presensi_check_in_no_lokasi"}`,s).then((a=>{201===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{this.getMe()})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")}))}))},checkOut(){const a={uuid_user:this.dataMe.uuid,uuid_karyawan:this.dataMe.uuid,lat:this.formData.lat,lng:this.formData.lng,time_end:this.getTimeWIB()};$.confirm("Yakin diakhiri?","Klik oke jika iya!").then((t=>{t.isConfirmed&&M.A.patch(`${F}${1==this.dataProfilById.lokasi?"absensi_presensi_check_out":"absensi_presensi_check_out_no_lokasi"}absensi_presensi_check_out/${this.dataAbsensiLastByUser.id}`,a).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{this.getMe()})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")}))}))},getAbsensiLast(){M.A.get(`${F}absensi_last_by_user/${this.dataMe.uuid}`,{params:{shift:this.shift,tanggal:this.getDateWIB()}}).then((a=>{this.dataAbsensiLastByUser=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateTime(){const a={timeZone:"Asia/Jakarta",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"};this.currentTime=(new Date).toLocaleTimeString("id-ID",a)},getStatisAktif(){M.A.get(`${F}statis_get_aktif`).then((a=>{this.statis=a.data.data,this.shift=this.statis.shift})).catch((()=>{sw.push({name:"Eror",params:{msg:"error"}})}))},getMe(){this.loading=!0;const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).then((()=>{this.getStatisAktif()})).then((()=>{this.getAbsensiLast()})).then((()=>{this.loading=!1})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getTanggalID(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a).setLocale("id"),e=t.toFormat("EEEE, dd MMMM yyyy");return e},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},getTimeWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("HH:mm:ss")},updateFormLokasi(a){this.formData=a},refreshLokasi(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const e=a.length;for(let s=0;s<8;s++)t+=a.charAt(Math.floor(Math.random()*e));this.randomString=t},dataProfil(a){this.dataProfilById=a}},mounted(){setInterval((()=>{this.updateTime()}),1e3);const a=localStorage.getItem("accessToken");a?(this.getMe(),this.getTimeWIB(),this.getDateWIB(),this.getTanggalID()):sw.push("/login")}};const Re=(0,n.A)(Ne,[["render",De]]);var $e=Re;const Je={id:"main",class:"main pt-4 mt-4"},Xe={key:1,class:"section dashboard"},qe={key:0,class:"card"},Ge={class:"card-body"},Ve={class:"table table-sm table-hover",style:{"min-width":"800px"}},Oe={class:"bg-light"},He={class:"my-4"},ze={class:"my-2"},We={key:1};function Ye(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-spinner"),d=(0,l.g2)("komponen-pagination"),c=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Je,[(0,l.bF)(i,{class:"m-4",title:o.namaPage},null,8,["title"]),o.loading?((0,l.uX)(),(0,l.Wv)(r,{key:0})):((0,l.uX)(),(0,l.CE)("section",Xe,[o.dataRiwayatAbsensi.length>0?((0,l.uX)(),(0,l.CE)("div",qe,[(0,l.Lk)("div",Ge,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",Ve,[(0,l.Lk)("thead",Oe,[(0,l.Lk)("tr",He,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Tanggal",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Status",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Shift",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Start",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"End",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Lokasi",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Exp",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(e+1),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(n.convertLokal(t.tanggal)),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.hadir),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.shift),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.time_start),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.time_end?t.time_end:"-"),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.nama_lokasi?t.nama_lokasi:"-"),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(1==t.exp?"expried":"valid"),7)])))),128))])])],34)]),(0,l.Lk)("div",ze,[(0,l.bF)(d,{data:o.dataRiwayatAbsensi,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])):((0,l.uX)(),(0,l.CE)("div",We,[(0,l.bF)(c)]))]))])}const Qe={"aria-label":"Page navigation example"},Ze={class:"pagination mx-4"},as=(0,l.Lk)("span",{"aria-hidden":"true"},"«",-1),ts=[as],es=["onClick"],ss=(0,l.Lk)("span",{"aria-hidden":"true"},"»",-1),ls=[ss];function os(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("nav",Qe,[(0,l.Lk)("ul",Ze,[(0,l.Lk)("li",{class:(0,m.C4)(["page-item",{disabled:1===n.currentPage}])},[(0,l.Lk)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=(0,s.D$)(((...a)=>i.previousPage&&i.previousPage(...a)),["prevent"]))},ts)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.displayedPageNumbers,(a=>((0,l.uX)(),(0,l.CE)("li",{class:(0,m.C4)(["page-item",{active:n.currentPage===a}]),key:a,style:{"z-index":"1"}},[(0,l.Lk)("a",{class:"page-link",href:"#",onClick:(0,s.D$)((t=>i.goToPage(a)),["prevent"])},(0,m.v_)(a),9,es)],2)))),128)),(0,l.Lk)("li",{class:(0,m.C4)(["page-item",{disabled:n.currentPage===i.totalPages}])},[(0,l.Lk)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=(0,s.D$)(((...a)=>i.nextPage&&i.nextPage(...a)),["prevent"]))},ls)],2)])])}var ns={data(){return{index:0,currentPage:1,itemsPerPage:15,maxDisplayedPages:3,dataPrev:JSON.stringify(this.data),previousData:[]}},props:{data:{type:Object,require:!0}},watch:{data(a){this.previousData=JSON.parse(JSON.stringify(a)),this.emitDataToParent()}},mounted(){this.previousData=JSON.parse(JSON.stringify(this.data)),this.emitDataToParent()},methods:{emitDataToParent(){const a=(this.currentPage-1)*this.itemsPerPage,t=a+this.itemsPerPage,e=this.previousData.slice(a,t);this.$emit("update:data",e)},previousPage(){this.currentPage>1&&(this.currentPage--,this.emitDataToParent())},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.emitDataToParent())},goToPage(a){this.currentPage=a,this.emitDataToParent()}},computed:{totalPages(){return Math.ceil(this.previousData.length/this.itemsPerPage)},displayedPageNumbers(){const a=this.totalPages,t=this.currentPage,e=this.maxDisplayedPages;if(a<=e)return Array.from({length:a},((a,t)=>t+1));{const s=Math.floor(e/2),l=Math.max(t-s,1),o=Math.min(l+e-1,a);return Array.from({length:o-l+1},((a,t)=>l+t))}}}};const is=(0,n.A)(ns,[["render",os]]);var rs=is;const ds={id:"main-padding",class:"main"},cs=(0,l.Fv)('<section class="section dashboard"><div class="text-center py-4 my-4"><div class="py-4 my-4 text-secondary"><h1 class="text-danger fw-bold">404</h1><h2>The page you are looking for doesn&#39;t exist.</h2><div class="credits">Developer by <a href="https://bootstrapmade.com/">Muhammad Subhan</a></div></div></div></section><section class="section error-404 d-flex flex-column align-items-center justify-content-center"></section>',2),ms=[cs];function us(a,t,e,s,o,n){return(0,l.uX)(),(0,l.CE)("main",ds,ms)}var hs={name:"KomponenNotFound"};const ps=(0,n.A)(hs,[["render",us]]);var ks=ps,gs={data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null}},methods:{style_th(){return"background-color: #292e8c"},class_th(){return"text-center align-middle text-white fw-bold"},class_td(){return"align-middle text-center"},style_td(a,t){return"Tidak Hadir"===t?{backgroundColor:"rgb(255, 198, 198)",color:"red"}:"Izin"===t?{backgroundColor:"rgb(167, 255, 176)",color:"green"}:a%2==0?"background-color:#d0d2ff":"background-color:#eff1ff"},getStyle(a){return"Tidak Hadir"===a?{backgroundColor:"rgb(255, 198, 198)",color:"red"}:"Izin"===a?{backgroundColor:"rgb(167, 255, 176)",color:"green"}:{}},getStatus(a,t){const e=a.find((a=>a.tanggal.split("T")[0]===t));return e&&"Hadir"===e.hadir?"✔":e&&"Tidak Hadir"===e.hadir?"a":e&&"Izin"===e.hadir?"i":""},getBackgroundColor(a,t,e){const s=a.find((a=>a.tanggal.split("T")[0]===t));return s&&"Hadir"===s.hadir?"#90ff85":s&&"Tidak Hadir"===s.hadir||s&&"Izin"===s.hadir?"#ff8787":e%2==0?"#d0d2ff":"#eff1ff"},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar}},bs={mixins:[gs],name:"pageDataAbsensiMe",components:{KomponenJudul:Nt,KomponenPagination:rs,KomponenNotFound:ks,KomponenSpinner:Vt},data(){return{index:0,namaPage:"Data Absensi",id_kryn:"",dataRiwayatAbsensi:[],dataPagination:[],dataMe:{},loading:!1}},props:{searchResults:{required:!0}},watch:{searchResults:"getRiwayatAbsensi",dataMe:"getRiwayatAbsensi"},methods:{convertLokal(a){const t=new Date(a);return t.toLocaleDateString()},getRiwayatAbsensi(){M.A.get(`${F}absensi_get_by_user/${this.dataMe.uuid}`,{params:{search_query:this.searchResults}}).then((a=>{this.dataRiwayatAbsensi=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getMe(){this.loading=!0;const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).then((()=>{this.getRiwayatAbsensi()})).then((()=>{this.loading=!1})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},dataSlice(a){this.dataPagination=a}},mounted(){const a=localStorage.getItem("accessToken");a?(this.dataSlice(),this.getMe()):sw.push("/login")}};const fs=(0,n.A)(bs,[["render",Ye]]);var ys=fs;const Ls={id:"main-padding",class:"main"},_s={key:1,class:"section dashboard"},vs={class:"card"},ws={class:"card-body"},xs=(0,l.Lk)("button",{type:"button",class:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#modal-tambah-produksi-user"},"+ Tambah",-1),Cs={class:"table table-sm table-hover",style:{"min-width":"900px"}},Ds={class:"bg-light"},Ps={class:"my-4"},Ts={key:0},Is=(0,l.Lk)("span",{class:"badge bg-success"},[(0,l.Lk)("i",{class:"bi bi-check2-circle"}),(0,l.eW)(" Valid")],-1),Ss=[Is],As={key:1},Es=(0,l.Lk)("span",{class:"badge bg-warning"},[(0,l.Lk)("i",{class:"bi bi-check2-circle"}),(0,l.eW)(" In valid")],-1),js=[Es],Bs={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},Ks=["disabled","onClick"],Ms=(0,l.Lk)("i",{class:"bi bi-trash3-fill"},null,-1),Fs=[Ms],Us=["disabled","onClick"],Ns=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),Rs=[Ns],$s={class:"my-2"},Js={key:2};function Xs(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-spinner"),d=(0,l.g2)("komponen-tambah-produksi-user"),c=(0,l.g2)("komponen-edit-produksi-user"),u=(0,l.g2)("komponen-pagination"),h=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Ls,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.loading?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0),o.dataProduksi.length>0?((0,l.uX)(),(0,l.CE)("section",_s,[(0,l.Lk)("div",vs,[(0,l.Lk)("div",ws,[xs,(0,l.bF)(d,{uuid:e.dataMe.uuid,onGetDataProduksi:n.getDataProduksi},null,8,["uuid","onGetDataProduksi"]),(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",Cs,[(0,l.Lk)("thead",Ds,[(0,l.Lk)("tr",Ps,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jenis Produk",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jumlah",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Tangal Produksi",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Status",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.produk.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jumlah),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(n.getTanggalID(t.tanggal)),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[t.setujui?((0,l.uX)(),(0,l.CE)("div",Ts,Ss)):((0,l.uX)(),(0,l.CE)("div",As,js))],6),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("div",Bs,[(0,l.Lk)("button",{disabled:t.setujui,onClick:a=>n.deleteProduksiById(t.id),type:"button",class:"btn btn-danger"},Fs,8,Ks),(0,l.Lk)("button",{disabled:t.setujui,onClick:a=>n.getDataProduksiById(t.id),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-produksi-user",type:"button",class:"btn btn-warning"},Rs,8,Us)]),(0,l.bF)(c,{"data-produksi":o.dataProduksiById,onGetDataProduksi:n.getDataProduksi},null,8,["data-produksi","onGetDataProduksi"])],6)])))),128))])])],34)]),(0,l.Lk)("div",$s,[(0,l.bF)(u,{data:o.dataProduksi,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Js,[(0,l.bF)(h)]))])}const qs={class:"modal fade",id:"modal-tambah-produksi-user",tabindex:"-1"},Gs={class:"modal-dialog modal-lg"},Vs={class:"modal-content"},Os=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Tambah Produksi",-1),Hs=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),zs={class:"modal-body"},Ws={class:"row g-3 ps-4 pe-4"},Ys={class:"col-md-12"},Qs=(0,l.Lk)("label",{for:"jabatan",class:"form-label"},"Produk",-1),Zs=(0,l.Lk)("option",{selected:"",disabled:""},"---Pilih Jenis Produk",-1),al=["value"],tl={class:"col-md-12"},el=(0,l.Lk)("label",{for:"jumlah",class:"form-label"},"Jumlah",-1),sl={class:"col-md-12"},ll=(0,l.Lk)("label",{for:"tgl_produksi",class:"pb-2"},"Tanggal Produksi",-1),ol={class:"text-danger fst-italic text-center"},nl={class:"modal-footer"},il=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function rl(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",qs,[(0,l.Lk)("div",Gs,[(0,l.Lk)("div",Vs,[Os,Hs,(0,l.Lk)("div",zs,[(0,l.Lk)("form",Ws,[(0,l.Lk)("div",Ys,[Qs,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.id_produk=a),class:"form-select",id:"jabatan"},[Zs,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataProduk,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,al)))),128))],512),[[s.u1,n.formData.id_produk]])]),(0,l.Lk)("div",tl,[el,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.jumlah=a),type:"text",class:"form-control",id:"jumlah"},null,512),[[s.Jo,n.formData.jumlah]])]),(0,l.Lk)("div",sl,[ll,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.tanggal=a),type:"date",class:"form-control",id:"tgl_produksi"},null,512),[[s.Jo,n.formData.tanggal]])])])]),(0,l.Lk)("div",ol,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",nl,[(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),il,(0,l.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.simpanData&&i.simpanData(...a)),class:"btn btn-primary","data-bs-dismiss":""},"Simpan")])])])])}var dl={name:"KomponenTambahProduksiUser",data(){return{formData:{id_produk:"",uuid_karyawan:"",jumlah:0,tanggal:this.getDateWIB()},errResponse:{err_required:""},dataProduk:[]}},props:{uuid:{type:String,required:!1}},watch:{uuid:{immediate:!0,handler(a){a&&(this.formData.uuid_karyawan=a)}}},methods:{getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},refresProduksi(){this.$emit("get-data-produksi")},simpanData(){this.formData.uuid_karyawan&&this.formData.id_produk&&this.formData.tanggal&&this.formData.jumlah?(this.errResponse.err_required="",M.A.post(`${F}produksi_tambah/`,this.formData).then((a=>{201===a.status&&($.success("Berhasil!",a.data.msg),this.clearForm(),this.refresProduksi())})).catch((a=>{422==a.response.status?$.error("Error!",a):sw.push({name:"Eror",params:{msg:a}})}))):this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={id_produk:"",uuid_karyawan:"",jumlah:0,tanggal:this.getDateWIB()},this.errResponse.err_required=""},getDataProduk(){M.A.get(`${F}produk`).then((a=>{this.dataProduk=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}},mounted(){const a=localStorage.getItem("accessToken");a?this.getDataProduk():sw.push("/login")}};const cl=(0,n.A)(dl,[["render",rl]]);var ml=cl;const ul={class:"modal fade",id:"modal-edit-produksi-user",tabindex:"-1"},hl={class:"modal-dialog modal-lg"},pl={class:"modal-content"},kl=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Edit Produksi",-1),gl=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),bl={class:"modal-body"},fl={class:"row g-3 ps-4 pe-4 text-start"},yl={class:"col-md-12"},Ll=(0,l.Lk)("label",{for:"e-tmplahir",class:"form-label"},"Jenis Produk",-1),_l=(0,l.Lk)("option",{selected:""},"---Pilih Jenis Produk---",-1),vl=["value"],wl={class:"col-md-12"},xl=(0,l.Lk)("label",{for:"e-jumlah",class:"form-label"},"Jumlah",-1),Cl={class:"col-md-12"},Dl=(0,l.Lk)("label",{for:"e-jumlah",class:"form-label"},"Tanggal",-1),Pl={class:"text-danger fst-italic text-center"},Tl={class:"modal-footer"},Il=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function Sl(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",ul,[(0,l.Lk)("div",hl,[(0,l.Lk)("div",pl,[kl,gl,(0,l.Lk)("div",bl,[(0,l.Lk)("form",fl,[(0,l.Lk)("div",yl,[Ll,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.id_produk=a),class:"form-select",id:"e-tmplahir"},[_l,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataProduk,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,vl)))),128))],512),[[s.u1,n.formData.id_produk]])]),(0,l.Lk)("div",wl,[xl,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.jumlah=a),type:"text",class:"form-control",id:"e-jumlah"},null,512),[[s.Jo,n.formData.jumlah]])]),(0,l.Lk)("div",Cl,[Dl,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.tanggal=a),type:"date",class:"form-control",id:"e-jumlah"},null,512),[[s.Jo,n.formData.tanggal]])])])]),(0,l.Lk)("div",Pl,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",Tl,[(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),Il,(0,l.Lk)("button",{type:"button",onClick:t[4]||(t[4]=a=>i.simpanData(n.formData.id)),class:"btn btn-primary"},"Simpan")])])])])}var Al={name:"KomponanEditProduksiUser",data(){return{dataProduk:[],errResponse:{err_required:""},formData:{id:0,id_produk:"",jumlah:0,tanggal:""}}},props:{dataProduksi:{type:Object,required:!1}},watch:{dataProduksi:{immediate:!0,handler(a){this.formData.id=a.id,this.formData.id_produk=a.id_produk,this.formData.jumlah=a.jumlah;let t=a.tanggal?a.tanggal.split("T")[0]:"";this.formData.tanggal=t}}},methods:{refresProduksi(){this.$emit("get-data-produksi")},simpanData(a){this.formData.id_produk&&this.formData.jumlah&&this.formData.tanggal?(this.errResponse.err_required="",M.A.patch(`${F}produksi_user_edit/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.clearForm(),this.refresProduksi())})).catch((a=>{422==a.response.status?$.error("Error!",a):sw.push({name:"Eror",params:{msg:a}})}))):this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={id_produk:"",jumlah:0,tanggal:""},this.errResponse.err_required=""},getDataProduk(){M.A.get(`${F}produk`).then((a=>{this.dataProduk=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}},mounted(){const a=localStorage.getItem("accessToken");a?this.getDataProduk():sw.push("/login")}};const El=(0,n.A)(Al,[["render",Sl]]);var jl=El,Bl={mixins:[gs],name:"pageDataProduksiMe",components:{KomponenSpinner:Vt,KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs,KomponenTambahProduksiUser:ml,KomponenEditProduksiUser:jl},data(){return{index:0,dataProduksi:[],dataProduksiById:{},dataPagination:[],namaPage:"Data Produksi",uuid:"",loading:!1}},props:{searchResults:{required:!0},dataMe:{immediate:Object,required:!1}},watch:{searchResults:"getDataProduksi",dataMe:"getDataProduksi"},methods:{getTanggalID(a){const t="Asia/Jakarta",e=Ot.c9.fromISO(a,{zone:t}).setLocale("id"),s=e.toFormat("dd MMMM yyyy");return s},dataSlice(a){this.dataPagination=a},getDataProduksiById(a){M.A.get(`${F}produksi/${a}`).then((a=>{this.dataProduksiById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},deleteProduksiById(a){$.confirm("Apakah yakin?","Data akan dihapus permanen.").then((t=>{t.isConfirmed&&M.A.delete(`${F}produksi_hapus/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Data telah dihapus."),this.getDataProduksi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},getDataProduksi(){this.loading=!0,M.A.get(`${F}produksi_get_all_by_user/${this.dataMe?this.dataMe.uuid:""}`,{params:{search_query:this.searchResults}}).then((a=>{this.dataProduksi=a.data.data})).then((()=>{this.loading=!1})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataProduksi(),this.dataSlice()):sw.push("/login")}};const Kl=(0,n.A)(Bl,[["render",Xs]]);var Ml=Kl;const Fl={id:"main-padding",class:"main"},Ul={class:"section dashboard"},Nl={class:"card"},Rl={class:"card-body"},$l={class:"row g-3 ps-1 pe-1"},Jl={class:"col-md-12"},Xl={class:"form-floating mb-3"},ql=(0,l.Lk)("label",{for:"floatingNik"},"NIK",-1),Gl={class:"col-md-12"},Vl={class:"form-floating mb-3"},Ol=(0,l.Lk)("label",{for:"floatingNama"},"Nama",-1),Hl={class:"col-md-12"},zl={class:"form-floating mb-3"},Wl=(0,l.Lk)("label",{for:"floatingTanggal"},"Tanggal",-1),Yl={class:"col-md-12"},Ql={class:"form-floating"},Zl=(0,l.Lk)("label",{for:"floatingTextarea"},"Keterangan",-1),ao={class:"text-danger fst-italic text-center"},to={class:"col-md-12"},eo={class:"form-check text-end"};function so(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul");return(0,l.uX)(),(0,l.CE)("main",Fl,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),(0,l.Lk)("section",Ul,[(0,l.Lk)("div",Nl,[(0,l.Lk)("div",Rl,[(0,l.Lk)("form",$l,[(0,l.Lk)("div",Jl,[(0,l.Lk)("div",Xl,[(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[0]||(t[0]=a=>this.dataMe.no_nik=a),type:"email",class:"form-control",id:"floatingNik",placeholder:"name@example.com"},null,512),[[s.Jo,this.dataMe.no_nik]]),ql])]),(0,l.Lk)("div",Gl,[(0,l.Lk)("div",Vl,[(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[1]||(t[1]=a=>this.dataMe.nama=a),type:"text",class:"form-control",id:"floatingNama",placeholder:"Password"},null,512),[[s.Jo,this.dataMe.nama]]),Ol])]),(0,l.Lk)("div",Hl,[(0,l.Lk)("div",zl,[(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[2]||(t[2]=a=>n.tanggal=a),type:"date",class:"form-control",id:"floatingTanggal",placeholder:"name@example.com",required:""},null,512),[[s.Jo,n.tanggal]]),Wl])]),(0,l.Lk)("div",Yl,[(0,l.Lk)("div",Ql,[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=a=>this.keterangan=a),class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[s.Jo,this.keterangan]]),Zl])]),(0,l.Lk)("div",ao,(0,m.v_)(n.err_required),1),(0,l.Lk)("div",to,[(0,l.Lk)("div",eo,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...a)=>i.izin&&i.izin(...a)),type:"button",class:"btn btn-primary"},"Tambah")])])])])])])])}var lo={name:"pagePengajuanIzin",components:{KomponenJudul:Nt},data(){return{namaPage:"Pengajuan Izin",tanggal:"",keterangan:"",err_required:"",dataMe:{},statis:{}}},methods:{getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return this.tanggal=t.toFormat("yyyy-MM-dd"),t.toFormat("yyyy-MM-dd")},getTimeWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("HH:mm:ss")},getStatisAktif(){M.A.get(`${F}statis_get_aktif`).then((a=>{this.statis=a.data.data,this.shift="Normal"===this.statis.shift})).catch((()=>{sw.push({name:"Eror",params:{msg:"error"}})}))},getMe(){const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},izin(){this.tanggal&&this.keterangan?this.tambah():this.err_required="Pastikan data diisisemua!"},tambah(){const a={uuid_user:this.dataMe.uuid,uuid_karyawan:this.dataMe.uuid,tanggal:this.getDateWIB(),hadir:"Izin",time_start:this.getTimeWIB(),time_end:null,bonus:0,nominal_bonus:this.statis.nominal_bonus,shift:this.statis.shift,nominal_gaji:this.dataMe.nominal_gaji,kemampuan:this.dataMe.kemampuan.nama,jabatan:this.dataMe.jabatan.nama,penjab:this.dataMe.nama,keterangan:this.keterangan};$.confirm("Yakin mengajukan izin?","Klik oke jika iya!").then((t=>{t.isConfirmed&&M.A.post(`${F}absensi_pengajuan_izin`,a).then((a=>{201===a.status&&$.success("Berhasil!",a.data.msg)})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getMe(),this.getDateWIB(),this.getTimeWIB(),this.getStatisAktif()):sw.push("/login")}};const oo=(0,n.A)(lo,[["render",so]]);var no=oo;const io={class:"container"},ro={class:"section error-404 min-vh-100 d-flex flex-column align-items-center justify-content-center"},co=(0,l.Lk)("h1",null,"ERROR",-1),mo=(0,l.Lk)("img",{src:"#",class:"img-fluid py-5",alt:"Page Not Found"},null,-1),uo=(0,l.Lk)("div",{class:"credits"},[(0,l.eW)("Developer by "),(0,l.Lk)("a",{href:"#"},"Muhammad Subhan")],-1);function ho(a,t){return(0,l.uX)(),(0,l.CE)("main",null,[(0,l.Lk)("div",io,[(0,l.Lk)("section",ro,[co,(0,l.Lk)("h2",null,(0,m.v_)(a.$route.params.msg)+".",1),mo,uo])])])}const po={},ko=(0,n.A)(po,[["render",ho]]);var go=ko;function bo({store:a,redirect:t}){const e=a.getters.getJabatan;"Produksi"!==e||t("/"),console.log(e)}const fo={id:"main-padding",class:"main"},yo={class:"section dashboard"},Lo={class:"row"},_o={class:"col-lg-4"},vo={class:"row px-1"},wo={class:"card"},xo={class:"card-body p-3"},Co={class:"row g-3"},Do={class:"col-md-12"},Po=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama",-1),To=["value"],Io={class:"col-md-12"},So=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Jabatan",-1),Ao=["value"],Eo={class:"col-md-12"},jo=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Latitude",-1),Bo={class:"col-md-12"},Ko=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Longitude",-1),Mo={class:"col-md-12"},Fo=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Lokasi",-1),Uo={class:"col-md-12"},No=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Alamat",-1),Ro={class:"col-md-12"},$o=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Max Radius",-1),Jo={class:"col-md-12"},Xo={class:"form-check"},qo=(0,l.Lk)("label",{class:"form-check-label",for:"flexCheckDefault"}," Default checkbox ",-1),Go={class:"text-danger fst-italic text-center"},Vo={class:"col-md-12 d-flex justify-content-between"},Oo={class:"col-lg-8"},Ho={class:"row px-1"},zo={class:"card"},Wo={class:"card-body p-3"};function Yo(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul-vue"),d=(0,l.g2)("komponen-google-lokasi");return(0,l.uX)(),(0,l.CE)("main",fo,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),(0,l.Lk)("section",yo,[(0,l.Lk)("div",Lo,[(0,l.Lk)("div",_o,[(0,l.Lk)("div",vo,[(0,l.Lk)("div",wo,[(0,l.Lk)("div",xo,[(0,l.Lk)("form",Co,[(0,l.Lk)("div",Do,[Po,(0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"",value:n.dataKaryawan?n.dataKaryawan.nama:""},null,8,To)]),(0,l.Lk)("div",Io,[So,(0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"",value:n.dataKaryawan?n.dataKaryawan.jabatan:""},null,8,Ao)]),(0,l.Lk)("div",Eo,[jo,(0,l.bo)((0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"","onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.lat=a)},null,512),[[s.Jo,n.formData.lat]])]),(0,l.Lk)("div",Bo,[Ko,(0,l.bo)((0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"","onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.lng=a)},null,512),[[s.Jo,n.formData.lng]])]),(0,l.Lk)("div",Mo,[Fo,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.nama_lokasi=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.nama_lokasi]])]),(0,l.Lk)("div",Uo,[No,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.alamat=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.alamat]])]),(0,l.Lk)("div",Ro,[$o,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.max_jarak=a),type:"number",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.max_jarak]])]),(0,l.Lk)("div",Jo,[(0,l.Lk)("div",Xo,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.aktif=a),class:"form-check-input",type:"checkbox",value:"1",id:"flexCheckDefault"},null,512),[[s.lH,n.aktif]]),qo])]),(0,l.Lk)("div",Go,(0,m.v_)(n.err_required),1),(0,l.Lk)("div",Vo,[(0,l.Lk)("button",{onClick:t[6]||(t[6]=(...a)=>i.refreshLokasi&&i.refreshLokasi(...a)),type:"button",class:"btn btn-success"},"Ambil Lokasi"),(0,l.Lk)("button",{onClick:t[7]||(t[7]=a=>i.simpan(n.dataKaryawan?n.dataKaryawan.uuid:"")),type:"button",class:"btn btn-primary"},"Simpan")])])])])])]),(0,l.Lk)("div",Oo,[(0,l.Lk)("div",Ho,[(0,l.Lk)("div",zo,[(0,l.Lk)("div",Wo,[(0,l.bF)(d,{"reload-lokasi":n.randomString,onUpdateFormLokasi:i.updateFormLokasi,onDataProfil:i.dataProfil},null,8,["reload-lokasi","onUpdateFormLokasi","onDataProfil"])])])])])])])])}var Qo={name:"TambahLokasi",components:{KomponenJudulVue:Nt,KomponenGoogleLokasi:Ue},data(){return{dataKaryawan:null,namaPage:"Set Lokasi",err_required:"",randomString:"",dataProfilById:{},formData:{lat:0,lng:0},nama_lokasi:"",alamat:"",max_jarak:"",aktif:""}},methods:{simpan(a){let t={uuid_karyawan:a,nama:this.nama_lokasi,lat:this.formData.lat,lng:this.formData.lng,max_jarak:this.max_jarak,alamat:this.alamat,aktif:this.aktif};this.nama_lokasi&&this.formData.lat&&this.formData.lng&&this.alamat&&this.max_jarak&&this.aktif?M.A.post(`${F}lokasi_add/`,t).then((a=>{201==a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageKaryawanLokasi",params:{randomString:"iq6B4pOSkcePiESTv2y3AuIwupCqNsV0jLyhAfDx226caRL9RlKfoFjbYaajuXNalSEJsp01CQKnYcIV0L6PzKnnbDQZuY4bodpp",msg:a.data.msg}}))})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})):this.err_required="Pastikan data diisi semua!"},getDataKaryawanById(){const a=localStorage.getItem("uuid");if(a){const t=JSON.parse(a);this.dataKaryawan=t}},updateFormLokasi(a){this.formData=a},refreshLokasi(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const e=a.length;for(let s=0;s<8;s++)t+=a.charAt(Math.floor(Math.random()*e));this.randomString=t},dataProfil(a){this.dataProfilById=a}},mounted(){const a=localStorage.getItem("accessToken");a?this.getDataKaryawanById():sw.push("/login")}};const Zo=(0,n.A)(Qo,[["render",Yo]]);var an=Zo;const tn={id:"main-padding",class:"main"},en={class:"section dashboard"},sn={class:"row"},ln={class:"col-lg-4"},on={class:"row px-1"},nn={class:"card"},rn={class:"card-body p-3"},dn={class:"row g-3"},cn={class:"col-md-12"},mn=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Latitude",-1),un={class:"col-md-12"},hn=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Longitude",-1),pn={class:"col-md-12"},kn=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama Lokasi",-1),gn={class:"col-md-12"},bn=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Alamat",-1),fn={class:"col-md-12"},yn=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Max Radius",-1),Ln={class:"text-danger fst-italic text-center"},_n={class:"col-md-12 d-flex justify-content-between"},vn={class:"col-lg-8"},wn={class:"row px-1"},xn={class:"card"},Cn={class:"card-body p-3"};function Dn(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul-vue"),d=(0,l.g2)("komponen-google-lokasi");return(0,l.uX)(),(0,l.CE)("main",tn,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),(0,l.Lk)("section",en,[(0,l.Lk)("div",sn,[(0,l.Lk)("div",ln,[(0,l.Lk)("div",on,[(0,l.Lk)("div",nn,[(0,l.Lk)("div",rn,[(0,l.Lk)("form",dn,[(0,l.Lk)("div",cn,[mn,(0,l.bo)((0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"","onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.lat=a)},null,512),[[s.Jo,n.formData.lat]])]),(0,l.Lk)("div",un,[hn,(0,l.bo)((0,l.Lk)("input",{disabled:"",type:"text",class:"form-control",id:"input1",required:"","onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.lng=a)},null,512),[[s.Jo,n.formData.lng]])]),(0,l.Lk)("div",pn,[kn,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.nama_lokasi=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.nama_lokasi]])]),(0,l.Lk)("div",gn,[bn,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.alamat=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.alamat]])]),(0,l.Lk)("div",fn,[yn,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.max_jarak=a),type:"number",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.max_jarak]])]),(0,l.Lk)("div",Ln,(0,m.v_)(n.err_required),1),(0,l.Lk)("div",_n,[(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...a)=>i.refreshLokasi&&i.refreshLokasi(...a)),type:"button",class:"btn btn-success"},"Ambil Lokasi"),(0,l.Lk)("button",{onClick:t[6]||(t[6]=(...a)=>i.simpan&&i.simpan(...a)),type:"button",class:"btn btn-primary"},"Simpan")])])])])])]),(0,l.Lk)("div",vn,[(0,l.Lk)("div",wn,[(0,l.Lk)("div",xn,[(0,l.Lk)("div",Cn,[(0,l.bF)(d,{"data-form":n.formData,"reload-lokasi":n.randomString,onUpdateFormLokasi:i.updateFormLokasi,onDataProfil:i.dataProfil},null,8,["data-form","reload-lokasi","onUpdateFormLokasi","onDataProfil"])])])])])])])])}var Pn={name:"KomponenEditLokasi",components:{KomponenJudulVue:Nt,KomponenGoogleLokasi:Ue},data(){return{namaPage:"Edit Lokasi",err_required:"",errLokasi:"",randomString:"",dataLokasiById:{},dataProfilById:{},formData:{lat:0,lng:0},nama_lokasi:"",alamat:"",max_jarak:""}},mounted(){const a=localStorage.getItem("accessToken");a?this.getData():sw.push("/login")},methods:{simpan(){let a={id:this.dataLokasiById.id,uuid_karyawan:this.dataLokasiById.uuid_karyawan,nama:this.nama_lokasi,lat:this.formData.lat,lng:this.formData.lng,max_jarak:this.max_jarak,alamat:this.alamat};this.nama_lokasi&&this.formData.lat&&this.formData.lng&&this.alamat&&this.max_jarak?M.A.patch(`${F}lokasi_edit_by_id`,a).then((a=>{200==a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageKaryawanLokasi",params:{randomString:"iq6B4pOSkcePiESTv2y3AuIwupCqNsV0jLyhAfDx226caRL9RlKfoFjbYaajuXNalSEJsp01CQKnYcIV0L6PzKnnbDQZuY4bodpp",msg:a.data.msg}}))})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})):this.err_required="Pastikan data diisi semua!"},getData(){const a=localStorage.getItem("lokasi_by_id"),t=JSON.parse(a);this.dataLokasiById=t,this.formData.lat=t.latitude,this.formData.lng=t.longitude,this.nama_lokasi=t.nama,this.alamat=t.alamat,this.max_jarak=t.max_jarak},updateFormLokasi(a){this.formData=a},refreshLokasi(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const e=a.length;for(let s=0;s<8;s++)t+=a.charAt(Math.floor(Math.random()*e));this.randomString=t},dataProfil(a){this.dataProfilById=a}}};const Tn=(0,n.A)(Pn,[["render",Dn]]);var In=Tn;const Sn={id:"main-padding",class:"main"},An={key:0,class:"section dashboard"},En={class:"card"},jn={class:"card-body"},Bn=(0,l.Lk)("button",{type:"button",class:"btn btn-primary m-2","data-bs-toggle":"modal","data-bs-target":"#modal-tambah-karyawan"},"+ Tambah",-1),Kn={class:"table table-sm table-hover",style:{"font-size":"14px","min-width":"1500px"}},Mn=(0,l.Lk)("thead",{class:"bg-light"},[(0,l.Lk)("tr",{class:"my-4"},[(0,l.Lk)("th",{scope:"col",class:"text-center"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nomor NIK"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jenis Kelamin"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jabatan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Tempat & Tanggal Lahir"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Kabupaten Domisili"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Kemampuan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Aksi")])],-1),Fn={class:"align-middle text-center"},Un=["onMouseover"],Nn=["src"],Rn=["onClick"],$n=(0,l.Lk)("i",{class:"bi bi-upload"},null,-1),Jn=[$n],Xn={class:"align-middle text-center"},qn={class:"align-middle"},Gn={class:"align-middle text-center"},Vn={class:"align-middle text-center"},On={class:"align-middle text-center"},Hn={class:"align-middle text-center"},zn={class:"align-middle text-center"},Wn={class:"align-middle text-center"},Yn={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},Qn=["onClick"],Zn=(0,l.Lk)("i",{class:"bi bi-x-octagon"},null,-1),ai=[Zn],ti=["onClick"],ei=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),si=[ei],li={class:"my-2"},oi={key:1};function ni(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-tambah-karyawan"),d=(0,l.g2)("komponen-edit-karyawan"),c=(0,l.g2)("komponen-pagination"),u=(0,l.g2)("my-upload"),h=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Sn,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",An,[(0,l.Lk)("div",En,[(0,l.Lk)("div",jn,[Bn,(0,l.bF)(r,{onGetDataKaryawan:n.getDataKaryawan},null,8,["onGetDataKaryawan"]),(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[1]||(t[1]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",Kn,[Mn,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",Fn,(0,m.v_)(e+1),1),(0,l.Lk)("td",{onMouseover:a=>o.hoverIndex=e,onMouseout:t[0]||(t[0]=a=>o.hoverIndex=null),class:"align-middle text-center"},[o.hoverIndex!==e?((0,l.uX)(),(0,l.CE)("img",{key:0,style:{height:"40px",width:"40px"},alt:"foto",src:a.doc&&a.doc.foto?n.getUrl(a.doc.foto):n.getUrl("profilKosong.jpg")},null,8,Nn)):(0,l.Q3)("",!0),o.hoverIndex===e?((0,l.uX)(),(0,l.CE)("a",{key:1,type:"button",onClick:t=>n.toggleShow(a.uuid),class:"icon-upload btn btn-success btn-md",title:"Upload new profile image"},Jn,8,Rn)):(0,l.Q3)("",!0)],40,Un),(0,l.Lk)("td",Xn,(0,m.v_)(Number.parseFloat(a.no_nik).toFixed(0)),1),(0,l.Lk)("td",qn,(0,m.v_)(a.nama),1),(0,l.Lk)("td",Gn,(0,m.v_)(a.jk),1),(0,l.Lk)("td",Vn,(0,m.v_)(a.jabatan.nama),1),(0,l.Lk)("td",On,(0,m.v_)(a.tmpLahir.nama.split(" ")[1])+", "+(0,m.v_)(n.convertLocal(a.tgl_lhr)),1),(0,l.Lk)("td",Hn,(0,m.v_)(a.alamat.nama),1),(0,l.Lk)("td",zn,(0,m.v_)(a.kemampuan.nama),1),(0,l.Lk)("td",Wn,[(0,l.Lk)("div",Yn,[(0,l.Lk)("button",{onClick:t=>n.setStatusNonaktif(a.uuid),type:"button",class:"btn btn-danger"},ai,8,Qn),(0,l.Lk)("button",{onClick:t=>n.getKaryawanByUuid(a.uuid),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-karyawan",type:"button",class:"btn btn-warning"},si,8,ti)]),(0,l.bF)(d,{"data-kar":o.karyawanById,onGetDataKaryawan:n.getDataKaryawan},null,8,["data-kar","onGetDataKaryawan"])])])))),128))])])],34)]),(0,l.Lk)("div",li,[(0,l.bF)(c,{data:o.dataKaryawan,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])]),(0,l.bF)(u,{onCropSuccess:n.cropSuccess,onCropUploadSuccess:n.cropUploadSuccess,onCropUploadFail:n.cropUploadFail,modelValue:o.show,"onUpdate:modelValue":t[2]||(t[2]=a=>o.show=a),method:e.method,field:e.field,width:200,height:200,maxSize:e.maxSize,url:o.url,"lang-ext":e.langExt,headers:e.headers,"allow-img-format":e.allowImgFormat},null,8,["onCropSuccess","onCropUploadSuccess","onCropUploadFail","modelValue","method","field","maxSize","url","lang-ext","headers","allow-img-format"])])):((0,l.uX)(),(0,l.CE)("section",oi,[(0,l.bF)(h)]))])}const ii={class:"modal fade",id:"modal-tambah-karyawan",tabindex:"-1"},ri={class:"modal-dialog modal-lg"},di={class:"modal-content"},ci=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Tambah Karyawan",-1),mi=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ui={class:"modal-body"},hi={class:"row g-3 ps-4 pe-4"},pi={class:"col-md-12"},ki=(0,l.Lk)("label",{for:"nama",class:"form-label"},"Nama",-1),gi={class:"col-md-12"},bi=(0,l.Lk)("label",{for:"t-email",class:"form-label"},"Email",-1),fi={key:0,class:"text-danger fst-italic text-start"},yi={class:"col-md-12"},Li=(0,l.Lk)("label",{for:"Password",class:"form-label"},"Password",-1),_i={key:0,class:"text-danger fst-italic text-start"},vi={class:"col-md-12"},wi=(0,l.Lk)("label",{for:"confirm",class:"form-label"},"Confirm Password",-1),xi={class:"text-danger fst-italic text-start"},Ci={class:"col-md-12"},Di=(0,l.Lk)("label",{for:"nik",class:"form-label"},"NIK",-1),Pi={key:0,class:"text-danger fst-italic text-start"},Ti={class:"col-md-12"},Ii=(0,l.Lk)("label",{for:"lk",class:"form-label"},"Jenis Kelamin",-1),Si={class:"d-flex"},Ai={class:"form-check"},Ei=(0,l.Lk)("label",{class:"form-check-label",for:"lk"}," Laki-laki ",-1),ji={class:"form-check ms-4"},Bi=(0,l.Lk)("label",{class:"form-check-label",for:"pr"}," Perempuan ",-1),Ki={class:"col-md-12"},Mi=(0,l.Lk)("label",{for:"jabatan",class:"form-label"},"Jabatan",-1),Fi=(0,l.Lk)("option",{selected:""},"---Pilih Jabatan",-1),Ui=["value"],Ni={class:"col-md-12"},Ri=(0,l.Lk)("label",{for:"tmplahir",class:"form-label"},"Tempat lahir",-1),$i=(0,l.Lk)("option",{selected:""},"---Pilih Tempat Lahir---",-1),Ji=["value"],Xi={class:"col-md-12"},qi=(0,l.Lk)("label",{for:"tgllahir",class:"pb-2"},"Tanggal Lahir",-1),Gi={class:"col-md-12"},Vi=(0,l.Lk)("label",{for:"domisili",class:"form-label"},"Domisili",-1),Oi=(0,l.Lk)("option",{selected:""},"---Pilih Domisili---",-1),Hi=["value"],zi={class:"col-md-12"},Wi=(0,l.Lk)("label",{for:"no-telp",class:"form-label"},"Nomor Telepon",-1),Yi={key:0,class:"error-message text-danger fst-italic"},Qi={class:"col-md-12"},Zi=(0,l.Lk)("label",{for:"no-rek",class:"form-label"},"Nomor Rekening",-1),ar={key:0,class:"error-message text-danger fst-italic"},tr={class:"col-md-12"},er=(0,l.Lk)("label",{for:"skil",class:"form-label"},"Tingkat Skill",-1),sr=(0,l.Lk)("option",{selected:""},"---Pilih Skill---",-1),lr=["value"],or={class:"text-danger fst-italic text-center"},nr={class:"modal-footer"},ir=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutp",-1);function rr(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",ii,[(0,l.Lk)("div",ri,[(0,l.Lk)("div",di,[ci,mi,(0,l.Lk)("div",ui,[(0,l.Lk)("form",hi,[(0,l.Lk)("div",pi,[ki,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.nama=a),type:"text",class:"form-control",id:"nama",required:""},null,512),[[s.Jo,n.formData.nama]])]),(0,l.Lk)("div",gi,[bi,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.email=a),type:"text",class:"form-control",id:"t-email",onInput:t[2]||(t[2]=(...a)=>i.validateEmail&&i.validateEmail(...a)),required:""},null,544),[[s.Jo,n.formData.email]]),n.errResponse.err_email?((0,l.uX)(),(0,l.CE)("div",fi,(0,m.v_)(n.errResponse.err_email),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",yi,[Li,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.password=a),type:"text",class:"form-control",id:"Password",onInput:t[4]||(t[4]=(...a)=>i.validatePassword&&i.validatePassword(...a)),required:""},null,544),[[s.Jo,n.formData.password]]),n.errResponse.err_password?((0,l.uX)(),(0,l.CE)("div",_i,(0,m.v_)(n.errResponse.err_password),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",vi,[wi,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.formData.confirm_password=a),type:"text",class:"form-control",id:"confirm",required:""},null,512),[[s.Jo,n.formData.confirm_password]]),(0,l.Lk)("div",xi,(0,m.v_)(n.errResponse.err_passwordConfirm),1)]),(0,l.Lk)("div",Ci,[Di,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.formData.no_nik=a),type:"text",class:"form-control",id:"nik",onInput:t[7]||(t[7]=(...a)=>i.validateNoNIK&&i.validateNoNIK(...a))},null,544),[[s.Jo,n.formData.no_nik]]),n.errResponse.err_no_nik?((0,l.uX)(),(0,l.CE)("div",Pi,(0,m.v_)(n.errResponse.err_no_nik),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ti,[Ii,(0,l.Lk)("div",Si,[(0,l.Lk)("div",Ai,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[8]||(t[8]=a=>n.formData.jk=a),id:"lk",value:"Laki-laki",checked:""},null,512),[[s.XL,n.formData.jk]]),Ei]),(0,l.Lk)("div",ji,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[9]||(t[9]=a=>n.formData.jk=a),id:"pr",value:"Perempuan"},null,512),[[s.XL,n.formData.jk]]),Bi])])]),(0,l.Lk)("div",Ki,[Mi,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>n.formData.id_jabatan=a),class:"form-select",id:"jabatan"},[Fi,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.jabatan,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Ui)))),128))],512),[[s.u1,n.formData.id_jabatan]])]),(0,l.Lk)("div",Ni,[Ri,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>n.formData.tmp_lhr=a),class:"form-select",id:"tmplahir"},[$i,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.kota,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Ji)))),128))],512),[[s.u1,n.formData.tmp_lhr]])]),(0,l.Lk)("div",Xi,[qi,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>n.formData.tgl_lhr=a),type:"date",class:"form-control",id:"tgllahir"},null,512),[[s.Jo,n.formData.tgl_lhr]])]),(0,l.Lk)("div",Gi,[Vi,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>n.formData.id_kab=a),class:"form-select",id:"domisili"},[Oi,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.kota,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Hi)))),128))],512),[[s.u1,n.formData.id_kab]])]),(0,l.Lk)("div",zi,[Wi,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>n.formData.no_telepon=a),type:"text",class:"form-control",id:"no-telp",onInput:t[15]||(t[15]=(...a)=>i.validateNoTelepon&&i.validateNoTelepon(...a))},null,544),[[s.Jo,n.formData.no_telepon]]),n.errResponse.err_no_telepon?((0,l.uX)(),(0,l.CE)("span",Yi,(0,m.v_)(n.errResponse.err_no_telepon),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Qi,[Zi,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>n.formData.no_rekening=a),type:"text",class:"form-control",id:"no-rek",onInput:t[17]||(t[17]=(...a)=>i.validateNoRekening&&i.validateNoRekening(...a))},null,544),[[s.Jo,n.formData.no_rekening]]),n.errResponse.err_rekening?((0,l.uX)(),(0,l.CE)("span",ar,(0,m.v_)(n.errResponse.err_rekening),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",tr,[er,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[18]||(t[18]=a=>n.formData.id_kemampuan=a),class:"form-select",id:"skil"},[sr,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.skill,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,lr)))),128))],512),[[s.u1,n.formData.id_kemampuan]])])])]),(0,l.Lk)("div",or,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",nr,[(0,l.Lk)("button",{type:"button",onClick:t[19]||(t[19]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),ir,(0,l.Lk)("button",{type:"button",onClick:t[20]||(t[20]=(...a)=>i.simpanData&&i.simpanData(...a)),class:"btn btn-primary","data-bs-dismiss":""},"Simpan")])])])])}var dr={name:"KomponenTambahKaryawan",data(){return{formData:{nama:"",email:"",password:"",confirm_password:"",no_nik:"",jk:"Laki-laki",id_jabatan:"",tmp_lhr:"3511",tgl_lhr:"2000-10-12",id_kab:"3511",no_telepon:"",no_rekening:"",id_kemampuan:""},errResponse:{err_required:"",err_email:"",err_no_telepon:"",err_no_nik:"",err_passwordConfirm:"",err_password:"",err_rekening:""},kota:[],jabatan:[],skill:[]}},methods:{async getKota(){const a=await M.A.get(`${F}kabupaten`);this.kota=a.data.data},async getSkill(){const a=await M.A.get(`${F}kemampuan`);this.skill=a.data.data},async getJabatan(){const a=await M.A.get(`${F}jabatan`);this.jabatan=a.data.data},refresKaryawan(){this.$emit("get-data-karyawan")},validateEmail(){const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.test(this.formData.email)?this.errResponse.err_email="":this.errResponse.err_email="Format email tidak valid."},validatePassword(){const a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;a.test(this.formData.password)?this.errResponse.err_password="":this.errResponse.err_password="Password harus terdiri dari setidaknya 8 karakter, minimal 1 huruf kapital, 1 huruf kecil, 1 angka, dan 1 karakter khusus."},validateNoTelepon(){const a=/^\d{11,13}$/;a.test(this.formData.no_telepon)?this.errResponse.err_no_telepon="":this.errResponse.err_no_telepon="Nomor telepon harus terdiri dari 11 hingga 13 digit angka."},validateNoNIK(){const a=/^\d{16,16}$/;a.test(this.formData.no_nik)?this.errResponse.err_no_nik="":this.errResponse.err_no_nik="Nomor NIK harus terdiri dari 16 digit angka."},validateNoRekening(){const a=/^\d{09,16}$/;a.test(this.formData.no_rekening)?this.errResponse.err_rekening="":this.errResponse.err_rekening="Nomor rekening harus terdiri dari 9 sampai 16 digit angka."},async simpanData(){if(this.formData.nama&&this.formData.email&&this.formData.password&&this.formData.confirm_password&&this.formData.no_nik&&this.formData.jk&&this.formData.id_jabatan&&this.formData.tmp_lhr&&this.formData.tgl_lhr&&this.formData.id_kab&&this.formData.no_telepon&&this.formData.no_rekening&&this.formData.id_kemampuan){this.errResponse={err_required:"",err_email:"",err_no_telepon:"",err_no_nik:"",err_passwordConfirm:"",err_password:"",err_rekening:""};try{const a=await M.A.post(`${F}karyawan_tambah/`,this.formData);201===a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageKaryawanAktif",params:{msg:a.data.msg}}),this.clearForm(),this.refresKaryawan())}catch(a){422==a.response.status?this.errResponse.err_passwordConfirm=a.response.data.msg:409==a.response.status?this.errResponse.err_email=a.response.data.msg:sw.push({name:"Eror",params:{msg:a}})}}else this.errResponse={err_required:"",err_email:"",err_no_telepon:"",err_no_nik:"",err_passwordConfirm:"",err_password:"",err_rekening:""},this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={nama:"",email:"",password:"",confirm_password:"",no_nik:"",jk:"Laki-laki",id_jabatan:"",tmp_lhr:"",tgl_lhr:"",id_kab:"",no_telepon:"",no_rekening:"",id_kemampuan:""},this.errResponse={err_required:"",err_email:"",err_no_telepon:"",err_no_nik:"",err_passwordConfirm:"",err_password:"",err_rekening:""}}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getKota(),this.getJabatan(),this.getSkill()):sw.push("/login")}};const cr=(0,n.A)(dr,[["render",rr]]);var mr=cr;const ur={class:"modal fade",id:"modal-edit-karyawan",tabindex:"-1"},hr={class:"modal-dialog modal-lg"},pr={class:"modal-content"},kr=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Edit Karyawan",-1),gr=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),br={class:"modal-body"},fr={class:"row g-3 ps-4 pe-4 text-start"},yr={class:"col-md-12"},Lr=(0,l.Lk)("label",{for:"e-nama",class:"form-label"},"Nama",-1),_r={class:"col-md-12"},vr=(0,l.Lk)("label",{for:"e-nik",class:"form-label"},"NIK",-1),wr={key:0,class:"text-danger fst-italic text-start"},xr={class:"col-md-12"},Cr=(0,l.Lk)("label",{for:"lk",class:"form-label"},"Jenis Kelamin",-1),Dr={class:"d-flex"},Pr={class:"form-check"},Tr=(0,l.Lk)("label",{class:"form-check-label",for:"lk"}," Laki-laki ",-1),Ir={class:"form-check ms-4"},Sr=(0,l.Lk)("label",{class:"form-check-label",for:"pr"}," Perempuan ",-1),Ar={class:"col-md-12"},Er=(0,l.Lk)("label",{for:"e-jabatan",class:"form-label"},"Jabatan",-1),jr=(0,l.Lk)("option",{selected:""},"---Pilih Jabatan---",-1),Br=["value"],Kr={class:"col-md-12"},Mr=(0,l.Lk)("label",{for:"e-tmplahir",class:"form-label"},"Tempat lahir",-1),Fr=(0,l.Lk)("option",{selected:""},"---Pilih Tempat Lahir---",-1),Ur=["value"],Nr={class:"col-md-12"},Rr=(0,l.Lk)("label",{for:"tgl-lhr",class:"pb-2"},"Tanggal Lahir",-1),$r={class:"col-md-12"},Jr=(0,l.Lk)("label",{for:"e-domisili",class:"form-label"},"Domisili",-1),Xr=(0,l.Lk)("option",{selected:""},"---Pilih Domisili---",-1),qr=["value"],Gr={class:"col-md-12"},Vr=(0,l.Lk)("label",{for:"e-notelp",class:"form-label"},"Nomor Telepon",-1),Or={key:0,class:"error-message text-danger fst-italic"},Hr={class:"col-md-12"},zr=(0,l.Lk)("label",{for:"e-norek",class:"form-label"},"Nomor Rekening",-1),Wr={key:0,class:"error-message text-danger fst-italic"},Yr={class:"col-md-12"},Qr=(0,l.Lk)("label",{for:"e-skil",class:"form-label"},"Tingkat Skill",-1),Zr=(0,l.Lk)("option",{selected:""},"---Pilih Skill---",-1),ad=["value"],td={class:"text-danger fst-italic text-center"},ed={class:"modal-footer"},sd=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function ld(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",ur,[(0,l.Lk)("div",hr,[(0,l.Lk)("div",pr,[kr,gr,(0,l.Lk)("div",br,[(0,l.Lk)("form",fr,[(0,l.Lk)("div",yr,[Lr,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.nama=a),type:"text",class:"form-control",id:"e-nama",required:""},null,512),[[s.Jo,n.formData.nama]])]),(0,l.Lk)("div",_r,[vr,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.no_nik=a),type:"text",class:"form-control",id:"e-nik",onInput:t[2]||(t[2]=(...a)=>i.validateNoNIK&&i.validateNoNIK(...a))},null,544),[[s.Jo,n.formData.no_nik]]),n.errResponse.err_no_nik?((0,l.uX)(),(0,l.CE)("div",wr,(0,m.v_)(n.errResponse.err_no_nik),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",xr,[Cr,(0,l.Lk)("div",Dr,[(0,l.Lk)("div",Pr,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.jk=a),id:"lk",value:"Laki-laki",checked:""},null,512),[[s.XL,n.formData.jk]]),Tr]),(0,l.Lk)("div",Ir,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[4]||(t[4]=a=>n.formData.jk=a),id:"pr",value:"Perempuan"},null,512),[[s.XL,n.formData.jk]]),Sr])])]),(0,l.Lk)("div",Ar,[Er,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.formData.id_jabatan=a),class:"form-select",id:"e-jabatan"},[jr,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.jabatan,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Br)))),128))],512),[[s.u1,n.formData.id_jabatan]])]),(0,l.Lk)("div",Kr,[Mr,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.formData.tmp_lhr=a),class:"form-select",id:"e-tmplahir"},[Fr,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.kota,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Ur)))),128))],512),[[s.u1,n.formData.tmp_lhr]])]),(0,l.Lk)("div",Nr,[Rr,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.formData.tgl_lhr=a),type:"date",class:"form-control",id:"tgl-lhr"},null,512),[[s.Jo,n.formData.tgl_lhr]])]),(0,l.Lk)("div",$r,[Jr,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.formData.id_kab=a),class:"form-select",id:"e-domisili"},[Xr,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.kota,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,qr)))),128))],512),[[s.u1,n.formData.id_kab]])]),(0,l.Lk)("div",Gr,[Vr,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.formData.no_telepon=a),type:"text",class:"form-control",id:"e-notelp",onInput:t[10]||(t[10]=(...a)=>i.validateNoTelepon&&i.validateNoTelepon(...a))},null,544),[[s.Jo,n.formData.no_telepon]]),n.errResponse.err_no_telepon?((0,l.uX)(),(0,l.CE)("span",Or,(0,m.v_)(n.errResponse.err_no_telepon),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Hr,[zr,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>n.formData.no_rekening=a),type:"text",class:"form-control",id:"e-norek",onInput:t[12]||(t[12]=(...a)=>i.validateNoRekening&&i.validateNoRekening(...a))},null,544),[[s.Jo,n.formData.no_rekening]]),n.errResponse.err_rekening?((0,l.uX)(),(0,l.CE)("span",Wr,(0,m.v_)(n.errResponse.err_rekening),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Yr,[Qr,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>n.formData.id_kemampuan=a),class:"form-select",id:"e-skil"},[Zr,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.skill,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,ad)))),128))],512),[[s.u1,n.formData.id_kemampuan]])])])]),(0,l.Lk)("div",td,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",ed,[(0,l.Lk)("button",{type:"button",onClick:t[14]||(t[14]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),sd,(0,l.Lk)("button",{type:"button",onClick:t[15]||(t[15]=a=>i.simpanData(n.formData.uuid)),class:"btn btn-primary","data-bs-dismiss":"modal"},"Simpan")])])])])}var od={name:"KomponanEditKaryawan",props:{dataKar:{type:Object,required:!0}},data(){return{formData:{uuid:"",nama:"",no_nik:"",jk:"",id_jabatan:"",tmp_lhr:"",tgl_lhr:"",id_kab:"",no_telepon:"",no_rekening:"",id_kemampuan:""},errResponse:{err_required:"",err_no_telepon:"",err_no_nik:"",err_rekening:""},kota:[],jabatan:[],skill:[]}},watch:{dataKar:{immediate:!0,handler(a){this.formData.uuid=a.uuid,this.formData.nama=a.nama,this.formData.no_nik=a.no_nik,this.formData.jk=a.jk,this.formData.id_jabatan=a.id_jabatan,this.formData.tmp_lhr=a.tmp_lhr,this.formData.tgl_lhr=a.tgl_lhr,this.formData.id_kab=a.id_kab,this.formData.no_telepon=a.no_telepon,this.formData.no_rekening=a.no_rekening,this.formData.id_kemampuan=a.id_kemampuan}}},methods:{validateNoTelepon(){const a=/^\d{11,13}$/;a.test(this.formData.no_telepon)?this.errResponse.err_no_telepon="":this.errResponse.err_no_telepon="Nomor telepon harus terdiri dari 11 hingga 13 digit angka."},validateNoNIK(){const a=/^\d{16,16}$/;a.test(this.formData.no_nik)?this.errResponse.err_no_nik="":this.errResponse.err_no_nik="Nomor NIK harus terdiri dari 16 digit angka."},validateNoRekening(){const a=/^\d{09,16}$/;a.test(this.formData.no_rekening)?this.errResponse.err_rekening="":this.errResponse.err_rekening="Nomor rekening harus terdiri dari 9 sampai 16 digit angka."},async getKota(){const a=await M.A.get(`${F}kabupaten`);this.kota=a.data.data},async getSkill(){const a=await M.A.get(`${F}kemampuan`);this.skill=a.data.data},async getJabatan(){const a=await M.A.get(`${F}jabatan`);this.jabatan=a.data.data},refresKaryawan(){this.$emit("get-data-karyawan")},simpanData(a){if(this.formData.nama&&this.formData.no_nik&&this.formData.jk&&this.formData.id_jabatan&&this.formData.tmp_lhr&&this.formData.tgl_lhr&&this.formData.id_kab&&this.formData.no_telepon&&this.formData.no_rekening&&this.formData.id_kemampuan){this.errResponse={err_required:""};try{M.A.patch(`${F}karyawan_update_by_uuid/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageKaryawanAktif",params:{msg:a.data.msg}}),this.refresKaryawan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a.message}})}))}catch(t){sw.push({name:"Eror",params:{msg:t}})}}else this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={nama:"",email:"",password:"",confirm_password:"",no_nik:"",jk:"Laki-laki",id_jabatan:"",tmp_lhr:"",tgl_lhr:"",id_kab:"",no_telepon:"",no_rekening:"",id_kemampuan:""},this.errResponse={err_required:"",err_email:"",err_password:""}}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getKota(),this.getJabatan(),this.getSkill()):sw.push("/login")}};const nd=(0,n.A)(od,[["render",ld]]);var id=nd,rd=e(5968),dd={name:"pageKaryawanAktif",components:{KomponenJudul:Nt,KomponenTambahKaryawan:mr,KomponenNotFound:ks,KomponenEditKaryawan:id,KomponenPagination:rs,"my-upload":rd.A},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,hoverIndex:null,index:0,namaPage:"Karyawan",dataKaryawan:[],dataPagination:[],karyawanById:{},uuid_karyawan:"",show:!1,url:"",imgDataUrl:""}},props:{searchResults:{required:!0},field:{type:String,default:"file"},headers:{type:Object,default:()=>null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:2048},langType:{type:String,default:"id"},langExt:{type:Object,default:()=>({hint:"Klik atau seret file ke sini untuk mengunggah",loading:"Mengunggah…",noSupported:"Browser tidak didukung, silakan gunakan IE10+ atau browser lainnya",success:"Unggahan berhasil",fail:"Gagal mengunggah",preview:"Pratinjau",btn:{off:"Batal",close:"Tutup",back:"Kembali",save:"Simpan"},error:{onlyImg:"Gunakan format gambar.",outOfSize:"Gambar melebihi batas ukuran: ",lowestPx:"Ukuran gambar terlalu kecil. Setidaknya diharapkan: "}})},imgBgc:{type:String,default:"#000000"},withCredentials:{type:Boolean,default:!1},method:{type:String,default:"PATCH"},initialImgUrl:{type:String,default:""},allowImgFormat:{type:Array,default:()=>["JPG","PNG"]}},watch:{searchResults:"getDataKaryawan",uuid_karyawan:{handler:"updateUrl",deep:!0}},methods:{getUrl(a){return`${F}${a}`},convertLocal(a){const t=a.split("-"),e=new Date(t[0],t[1]-1,t[2]),s=e.getDate(),l=e.getMonth(),o=e.getFullYear(),n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],i=n[l],r=`${s} ${i} ${o}`;return r},getDataKaryawan(){M.A.get(`${F}karyawan_get_all_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},dataSlice(a){this.dataPagination=a},getKaryawanByUuid(a){M.A.get(`${F}karyawan_get_by_uuid/${a}`).then((a=>{this.karyawanById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},setStatusNonaktif(a){$.confirm("Apakah yakin?","Data akann di non aktifkan.").then((t=>{t.isConfirmed&&M.A.patch(`${F}karyawan_set_status/${a}`,{status:"Non Aktif"}).then((a=>{200===a.status&&($.success("Berhasil!","Data telah di non aktifkan."),this.getDataKaryawan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)},toggleShow(a){this.show=!this.show,this.uuid_karyawan=a},cropSuccess(a){this.imgDataUrl=a},cropUploadSuccess(a){200===a.code&&(this.show=!this.show,$.success("Berhasil!",a.msg),this.getDataKaryawan())},cropUploadFail(a){this.show=!this.show,$.error("Gagal!",a),this.getDataKaryawan()},updateUrl(){this.url=`${F}doc_foto_by_uuid/${this.uuid_karyawan}`}},created(){this.updateUrl()},computed:{convertFormatText(a){return Number.parseFloat(a).toFixed(0)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.dataSlice()):sw.push("/login")}};const cd=(0,n.A)(dd,[["render",ni]]);var md=cd;const ud={id:"main-padding",class:"main"},hd={key:0,class:"section dashboard"},pd={class:"card"},kd={class:"card-body"},gd={class:"table table-sm table-hover",style:{"font-size":"14px","min-width":"1500px"}},bd=(0,l.Lk)("thead",{class:"bg-light"},[(0,l.Lk)("tr",{class:"my-4"},[(0,l.Lk)("th",{scope:"col",class:"text-center"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nomor NIK"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jenis Kelamin"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jabatan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Tempat Lahir"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Tanggal Lahir"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Kabupaten Domisili"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Kemampuan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Aksi")])],-1),fd={class:"align-middle text-center"},yd={class:"align-middle text-center"},Ld=["src"],_d={class:"align-middle text-center"},vd={class:"align-middle"},wd={class:"align-middle text-center"},xd={class:"align-middle text-center"},Cd={class:"align-middle text-center"},Dd={class:"align-middle text-center"},Pd={class:"align-middle text-center"},Td={class:"align-middle text-center"},Id={class:"align-middle text-center"},Sd=["onClick"],Ad=(0,l.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1),Ed=[Ad],jd=["onClick"],Bd=(0,l.Lk)("i",{class:"bi bi-trash"},null,-1),Kd=[Bd],Md={class:"my-2"},Fd={key:1};function Ud(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-pagination"),d=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",ud,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",hd,[(0,l.Lk)("div",pd,[(0,l.Lk)("div",kd,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",gd,[bd,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",fd,(0,m.v_)(t+1),1),(0,l.Lk)("td",yd,[(0,l.Lk)("img",{style:{height:"40px",width:"40px"},alt:"foto",src:null===a.doc?"Tidak ada foto":n.getUrl(a.doc.foto)},null,8,Ld)]),(0,l.Lk)("td",_d,(0,m.v_)(Number.parseFloat(a.no_nik).toFixed(0)),1),(0,l.Lk)("td",vd,(0,m.v_)(a.nama),1),(0,l.Lk)("td",wd,(0,m.v_)(a.jk),1),(0,l.Lk)("td",xd,(0,m.v_)(a.jabatan.nama),1),(0,l.Lk)("td",Cd,(0,m.v_)(a.tmpLahir.nama)+",",1),(0,l.Lk)("td",Dd,(0,m.v_)(a.tgl_lhr),1),(0,l.Lk)("td",Pd,(0,m.v_)(a.alamat.nama),1),(0,l.Lk)("td",Td,(0,m.v_)(a.kemampuan.nama),1),(0,l.Lk)("td",Id,[(0,l.Lk)("button",{onClick:t=>n.setStatusAktif(a.uuid),class:"btn btn-primary btn-md"},Ed,8,Sd),(0,l.Lk)("button",{onClick:t=>n.deletePermanen(a.uuid),class:"btn btn-danger btn-md mx-2"},Kd,8,jd)])])))),128))])])],34)]),(0,l.Lk)("div",Md,[(0,l.bF)(r,{data:o.dataKaryawan,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Fd,[(0,l.bF)(d)]))])}var Nd={name:"pageKaryawanNonAktif",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,index:0,namaPage:"Karyawan",dataKaryawan:[],dataPagination:[],documentById:{},karyawanById:{}}},props:{searchResults:{required:!0}},watch:{searchResults:"getDataKaryawan"},methods:{dataSlice(a){this.dataPagination=a},getDataKaryawan(){M.A.get(`${F}karyawan_get_all_non_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},setStatusAktif(a){$.confirm("Apakah yakin?","Data akan di pulihkan kembali.").then((t=>{t.isConfirmed&&M.A.patch(`${F}karyawan_set_status/${a}`,{status:"Aktif"}).then((a=>{200===a.status&&($.success("Berhasil!","Data dipulihkan."),this.getDataKaryawan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},deletePermanen(a){$.confirm("Apakah yakin?","Data akan di hapus permanen.").then((t=>{t.isConfirmed&&M.A.delete(`${F}karyawan_delete_by_uuid/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Data dihapus permanen."),this.getDataKaryawan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},getUrl(a){return`${F}${a}`},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)}},computed:{convertFormatText(a){return Number.parseFloat(a).toFixed(0)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.dataSlice()):sw.push("/login")}};const Rd=(0,n.A)(Nd,[["render",Ud]]);var $d=Rd;const Jd={id:"main-padding",class:"main"},Xd={key:0,class:"section dashboard"},qd={class:"card"},Gd={class:"card-body"},Vd={class:"table table-sm table-hover",style:{"font-size":"14px","min-width":"1200px"}},Od=(0,l.Lk)("thead",{class:"bg-light"},[(0,l.Lk)("tr",{class:"my-4"},[(0,l.Lk)("th",{scope:"col",class:"text-center"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nomor NIK"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jenis Kelamin"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jabatan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Kemampuan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Gaji / Jam"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Bonus / 1 Bulan")])],-1),Hd={class:"align-middle text-center"},zd={class:"align-middle text-center"},Wd=["src"],Yd={class:"align-middle text-center"},Qd={class:"align-middle"},Zd={class:"align-middle text-center"},ac={class:"align-middle text-center"},tc={class:"align-middle text-center"},ec={class:"align-middle text-center"},sc={class:"align-middle text-center"},lc={class:"my-2"},oc={key:1};function nc(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-pagination"),d=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Jd,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",Xd,[(0,l.Lk)("div",qd,[(0,l.Lk)("div",Gd,[(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",Vd,[Od,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",Hd,(0,m.v_)(t+1),1),(0,l.Lk)("td",zd,[(0,l.Lk)("img",{style:{height:"40px",width:"40px"},alt:"foto",src:a.doc&&a.doc.foto?n.getUrl(a.doc.foto):n.getUrl("profilKosong.jpg")},null,8,Wd)]),(0,l.Lk)("td",Yd,(0,m.v_)(Number.parseFloat(a.no_nik).toFixed(0)),1),(0,l.Lk)("td",Qd,(0,m.v_)(a.nama),1),(0,l.Lk)("td",Zd,(0,m.v_)(a.jk),1),(0,l.Lk)("td",ac,(0,m.v_)(a.jabatan?a.jabatan.nama:""),1),(0,l.Lk)("td",tc,(0,m.v_)(a.kemampuan.nama),1),(0,l.Lk)("td",ec,(0,m.v_)(a.gaji),1),(0,l.Lk)("td",sc,(0,m.v_)(a.gaji_bonus),1)])))),128))])])],34)])]),(0,l.Lk)("div",lc,[(0,l.bF)(r,{data:o.dataKaryawan,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",oc,[(0,l.bF)(d)]))])}var ic={name:"pageKaryawanGaji",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,index:0,hoverIndex:null,namaPage:"Informasi Penggajian",dataKaryawan:[],dataPagination:[],karyawanById:{},uuid_karyawan:""}},props:{searchResults:{required:!0}},watch:{searchResults:"getDataKaryawan"},methods:{dataSlice(a){this.dataPagination=a},getUrl(a){return`${F}${a}`},getDataKaryawan(){M.A.get(`${F}gaji_get_informasi_penggajian`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)}},computed:{convertFormatText(a){return Number.parseFloat(a).toFixed(0)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.dataSlice()):sw.push("/login")}};const rc=(0,n.A)(ic,[["render",nc]]);var dc=rc;const cc={id:"main-padding",class:"main"},mc={key:0,class:"section dashboard"},uc={class:"card"},hc={class:"card-body"},pc={class:"table table-sm table-hover",style:{"font-size":"14px","min-width":"1200px"}},kc=(0,l.Lk)("thead",{class:"bg-light"},[(0,l.Lk)("tr",{class:"my-4"},[(0,l.Lk)("th",{scope:"col",class:"text-center"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jenis Kelamin"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Jabatan"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Lokasi")])],-1),gc={class:"align-middle text-center"},bc={class:"align-middle text-center"},fc=["src"],yc={class:"align-middle"},Lc={class:"align-middle text-center"},_c={class:"align-middle text-center"},vc={class:"align-middle text-end"},wc={class:"d-flex",style:{"min-width":"100%"}},xc={style:{width:"80%"}},Cc={class:"btn-group",style:{"min-width":"100%"},role:"group","aria-label":"Basic outlined example"},Dc={style:{"font-size":"8px",width:"20%"},disabled:"",class:"btn btn-white border border-danger fw-bold"},Pc={style:{"font-size":"8px",width:"30%"},disabled:"",class:"btn btn-white border border-danger fw-bold"},Tc={key:0,type:"button",style:{"font-size":"8px",width:"25%"},class:"btn btn-danger border border-white"},Ic=["onClick"],Sc=["onClick"],Ac=["onClick"],Ec={style:{width:"20%"}},jc=["onClick"],Bc=(0,l.Lk)("i",{class:"bi bi-plus-circle"},null,-1),Kc=[Bc],Mc={class:"my-2"},Fc={key:1};function Uc(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-pagination"),d=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",cc,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",mc,[(0,l.Lk)("div",uc,[(0,l.Lk)("div",hc,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",pc,[kc,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",gc,(0,m.v_)(t+1),1),(0,l.Lk)("td",bc,[(0,l.Lk)("img",{style:{height:"40px",width:"40px"},alt:"foto",src:null===a.doc?"Tidak ada foto":n.getUrl(a.doc.foto)},null,8,fc)]),(0,l.Lk)("td",yc,(0,m.v_)(a.nama),1),(0,l.Lk)("td",Lc,(0,m.v_)(a.jk),1),(0,l.Lk)("td",_c,(0,m.v_)(a.jabatan.nama),1),(0,l.Lk)("td",vc,[(0,l.Lk)("div",wc,[(0,l.Lk)("div",xc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.lokasi,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{key:e},[(0,l.Lk)("div",Cc,[(0,l.Lk)("button",Dc,(0,m.v_)(t.nama),1),(0,l.Lk)("button",Pc,"Max Radius : "+(0,m.v_)(t.max_jarak)+" m.",1),t.aktif?((0,l.uX)(),(0,l.CE)("button",Tc,"Aktif")):(0,l.Q3)("",!0),t.aktif?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:e=>n.setAktifLokasi(t.id,a.uuid),type:"button",style:{"font-size":"8px",width:"25%"},class:"btn btn-warning border border-white"},"Set Aktif",8,Ic)),(0,l.Lk)("button",{onClick:a=>n.setLokasiByIdToLocal(t.id,t.uuid_karyawan,t.nama,t.alamat,t.latitude,t.longitude,t.max_jarak),style:{"font-size":"8px"},class:"btn btn-success rounded-0 border border-white"}," Edit ",8,Sc),(0,l.Lk)("button",{onClick:a=>n.hapusById(t.id),style:{"font-size":"8px"},class:"btn btn-danger rounded-0 border border-white"},"Hapus",8,Ac)])])))),128))]),(0,l.Lk)("div",Ec,[(0,l.Lk)("button",{onClick:t=>n.setUuidToLocal(a.uuid,a.nama,a.jabatan.nama),style:{width:"100%",height:"100%"},class:"btn btn-primary btn-xl mr-1 rounded-start-0 border border-white"},Kc,8,jc)])])])])))),128))])])],34)]),(0,l.Lk)("div",Mc,[(0,l.bF)(r,{data:o.dataKaryawan,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Fc,[(0,l.bF)(d)]))])}var Nc={name:"pageKaryawanLokasi",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,index:0,namaPage:"Lokasi",dataKaryawan:[],dataPagination:[],hoverIndex:null}},props:{searchResults:{required:!0}},watch:{searchResults:"getKaryawanLokasi"},methods:{setAktifLokasi(a,t){$.confirm("Yakin aktifkan lokasi?","Data akan diaktifkan.").then((e=>{e.isConfirmed&&M.A.patch(`${F}lokasi_set_aktif`,{id:a,uuid_karyawan:t}).then((a=>{200===a.status&&($.success("Berhasil!","Lokasi telah diaktifkan."),this.getKaryawanLokasi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},hapusById(a){$.confirm("Yakin dihapus?","Data akan dihapus permanen!").then((t=>{t.isConfirmed&&M.A.delete(`${F}lokasi_hapus_by_id/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Lokasi telah dihapus."),this.getKaryawanLokasi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},setUuidToLocal(a,t,e){sw.push({name:"KomponenTambahLokasi"});const s={uuid:a,nama:t,jabatan:e};localStorage.setItem("uuid",JSON.stringify(s))},setLokasiByIdToLocal(a,t,e,s,l,o,n){sw.push({name:"KomponenEditLokasi"});const i={id:a,uuid_karyawan:t,nama:e,alamat:s,latitude:l,longitude:o,max_jarak:n};localStorage.setItem("lokasi_by_id",JSON.stringify(i))},getUrl(a){return`${F}${a}`},getKaryawanLokasi(){M.A.get(`${F}lokasi_get_all_karyawan_lokasi`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)},dataSlice(a){this.dataPagination=a}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getKaryawanLokasi(),this.dataSlice()):sw.push("/login")}};const Rc=(0,n.A)(Nc,[["render",Uc]]);var $c=Rc;const Jc={id:"main-padding",class:"main"},Xc={key:0,class:"section dashboard"},qc={class:"card"},Gc={class:"card-body"},Vc={class:"table table-sm table-hover",style:{"font-size":"14px","min-width":"1000px"}},Oc=(0,l.Lk)("thead",{class:"bg-light"},[(0,l.Lk)("tr",{class:"my-4"},[(0,l.Lk)("th",{scope:"col",class:"text-center"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Email"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Password"),(0,l.Lk)("th",{scope:"col",class:"text-center"},"Aksi")])],-1),Hc={class:"align-middle text-center"},zc={class:"align-middle text-center"},Wc=["src"],Yc={class:"align-middle"},Qc={class:"align-middle text-center"},Zc={class:"align-middle text-center"},am={class:"align-middle text-center"},tm=["onClick"],em=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),sm=[em],lm={class:"my-2"},om={key:1};function nm(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-edit-user"),d=(0,l.g2)("komponen-pagination"),c=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Jc,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataUser.length>0?((0,l.uX)(),(0,l.CE)("section",Xc,[(0,l.Lk)("div",qc,[(0,l.Lk)("div",Gc,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",Vc,[Oc,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",Hc,(0,m.v_)(t+1),1),(0,l.Lk)("td",zc,[(0,l.Lk)("img",{style:{height:"40px",width:"40px"},alt:"foto",src:null===a.doc?"Tidak ada foto":n.getUrl(a.doc.foto)},null,8,Wc)]),(0,l.Lk)("td",Yc,(0,m.v_)(a.nama),1),(0,l.Lk)("td",Qc,(0,m.v_)(a.email),1),(0,l.Lk)("td",Zc,(0,m.v_)(a.password),1),(0,l.Lk)("td",am,[(0,l.Lk)("button",{onClick:t=>n.getByUuid(a.uuid),class:"btn btn-success btn-md mx-1","data-bs-toggle":"modal","data-bs-target":"#modal-edit-user"},sm,8,tm)]),(0,l.bF)(r,{"data-user":o.userById,onGetDataUser:n.getDataUser},null,8,["data-user","onGetDataUser"])])))),128))])])],34)]),(0,l.Lk)("div",lm,[(0,l.bF)(d,{data:o.dataUser,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",om,[(0,l.bF)(c)]))])}const im={class:"modal fade",id:"modal-edit-user",tabindex:"-1"},rm={class:"modal-dialog modal-lg"},dm={class:"modal-content"},cm=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Edit User",-1),mm=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),um={class:"modal-body"},hm={class:"row g-3 ps-4 pe-4"},pm={class:"col-md-12"},km=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama",-1),gm={class:"col-md-12"},bm=(0,l.Lk)("label",{for:"input2",class:"form-label"},"Email",-1),fm={key:0,class:"text-danger fst-italic text-start"},ym={class:"col-md-12"},Lm=(0,l.Lk)("label",{for:"input5",class:"form-label"},"Password",-1),_m={key:0,class:"text-danger fst-italic text-start"},vm={class:"text-danger fst-italic text-center"},wm={class:"modal-footer"},xm=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function Cm(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",im,[(0,l.Lk)("div",rm,[(0,l.Lk)("div",dm,[cm,mm,(0,l.Lk)("div",um,[(0,l.Lk)("form",hm,[(0,l.Lk)("div",pm,[km,(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.nama=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.formData.nama]])]),(0,l.Lk)("div",gm,[bm,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.email=a),type:"email",class:"form-control",id:"input2",onInput:t[2]||(t[2]=(...a)=>i.validateEmail&&i.validateEmail(...a)),required:""},null,544),[[s.Jo,n.formData.email]]),n.errResponse.err_email?((0,l.uX)(),(0,l.CE)("div",fm,(0,m.v_)(n.errResponse.err_email),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ym,[Lm,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.password=a),type:"text",class:"form-control",id:"input5",onInput:t[4]||(t[4]=(...a)=>i.validatePassword&&i.validatePassword(...a)),required:""},null,544),[[s.Jo,n.formData.password]]),n.errResponse.err_password?((0,l.uX)(),(0,l.CE)("div",_m,(0,m.v_)(n.errResponse.err_password),1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",vm,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",wm,[(0,l.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),xm,(0,l.Lk)("button",{type:"button",onClick:t[6]||(t[6]=a=>i.updateData(n.formData.uuid)),class:"btn btn-primary","data-bs-dismiss":"modal"},"Simpan")])])])])}var Dm={name:"KomponenEditUser",props:{dataUser:{type:Object,required:!0}},data(){return{formData:{password:"",email:""},errResponse:{err_required:"",err_email:""}}},watch:{dataUser:{immediate:!0,handler(a){this.formData.uuid=a.uuid,this.formData.nama=a.nama,this.formData.email=a.email,this.formData.password=a.password}}},methods:{validateEmail(){const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;a.test(this.formData.email)?this.errResponse.err_email="":this.errResponse.err_email="Format email tidak valid."},validatePassword(){const a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;a.test(this.formData.password)?this.errResponse.err_password="":this.errResponse.err_password="Password harus terdiri dari setidaknya 8 karakter, minimal 1 huruf kapital, 1 huruf kecil, 1 angka, dan 1 karakter khusus."},refresUser(){this.$emit("get-data-user")},updateData(a){if(this.formData.password){this.errResponse.err_required="";try{M.A.patch(`${F}user_update_by_uuid/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageUsers",params:{msg:a.data.msg}}),this.refresUser())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}catch(t){sw.push({name:"Eror",params:{msg:t}})}}else this.errResponse.err_required="Pastikan data diisi!"},clearForm(){this.formData={email:"",password:""},this.errResponse={err_required:"",err_email:"",err_password:""}}}};const Pm=(0,n.A)(Dm,[["render",Cm]]);var Tm=Pm,Im={name:"pageDataUsers",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenEditUser:Tm,KomponenPagination:rs},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,index:0,namaPage:"Data Akun Users",dataUser:[],dataPagination:[],currentPage:1,itemsPerPage:20,maxDisplayedPages:10,userById:{},hoverIndex:null,errResponse:{err_password:""}}},props:{searchResults:{required:!1}},watch:{searchResults:"getDataUser"},methods:{dataSlice(a){this.dataPagination=a},getDataUser(){M.A.get(`${F}user_get_all_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataUser=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getByUuid(a){M.A.get(`${F}user_get_by_uuid/${a}`).then((a=>{this.userById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getUrl(a){return`${F}${a}`},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)}},computed:{convertFormatText(a){return Number.parseFloat(a).toFixed(0)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getDataUser(),this.dataSlice()):sw.push("/login")}};const Sm=(0,n.A)(Im,[["render",nm]]);var Am=Sm;const Em={id:"main-padding",class:"main"},jm={key:0,class:"section dashboard"},Bm={class:"card"},Km={class:"card-body"},Mm={class:"table table-sm table-hover align-middle bg-danger",style:{"font-size":"14px","min-width":"2500px"}},Fm=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"No."),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Profile"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Nomor NIK"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Nama"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Jenis Kelamin"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Karyawan"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Lokasi"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Absensi"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Produksi"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Produk"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Shift"),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle"},"Aksi")])],-1),Um={class:"align-middle text-center"},Nm={class:"align-middle text-center"},Rm=["src"],$m={class:"align-middle text-center"},Jm={class:"align-middle"},Xm={class:"align-middle text-center"},qm={class:"form-check text-start mx-2"},Gm=["id","checked","onChange"],Vm=["for"],Om={class:"align-middle text-center"},Hm=["onClick"],zm={class:"my-2"},Wm={key:1};function Ym(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-pagination"),d=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Em,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",jm,[(0,l.Lk)("div",Bm,[(0,l.Lk)("div",Km,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",o.defaultColorScrollbar,o.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[(0,l.Lk)("table",Mm,[Fm,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((a,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:a.uuid},[(0,l.Lk)("td",Um,(0,m.v_)(t+1),1),(0,l.Lk)("td",Nm,[(0,l.Lk)("img",{style:{height:"40px",width:"40px"},alt:"foto",src:null===a.doc?"Tidak ada foto":n.getUrl(a.doc.foto)},null,8,Rm)]),(0,l.Lk)("td",$m,(0,m.v_)(Number.parseFloat(a.no_nik).toFixed(0)),1),(0,l.Lk)("td",Jm,(0,m.v_)(a.nama),1),(0,l.Lk)("td",Xm,(0,m.v_)(a.jk),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.akses,((t,e)=>((0,l.uX)(),(0,l.CE)("td",{class:"align-middle text-center",key:e},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(JSON.parse(t),((t,s)=>((0,l.uX)(),(0,l.CE)("span",{key:s,class:"d-inline-block"},[(0,l.Lk)("span",qm,[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",value:"val",id:"checkbox_"+a.uuid+e+"_"+s,checked:1==t,onChange:t=>n.updateAccess(a.uuid,e,s,t.target.checked)},null,40,Gm),(0,l.Lk)("label",{class:"form-check-label",for:"checkbox_"+a.uuid+e+"_"+s},(0,m.v_)(s),9,Vm)])])))),128))])))),128)),(0,l.Lk)("td",Om,[(0,l.Lk)("button",{onClick:t=>n.simpanData(a.uuid),class:"btn btn-success btn-sm"},"Update",8,Hm)])])))),128))])])],34)]),(0,l.Lk)("div",zm,[(0,l.bF)(r,{data:o.dataKaryawan,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Wm,[(0,l.bF)(d)]))])}var Qm={name:"pageKaryawanHakAkses",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs},data(){return{defaultColorScrollbar:"default-color-scroll",changeColorScrollbar:"",scrollTimer:null,index:0,namaPage:"Hak Akses",dataKaryawan:[],dataPagination:[],dataObjectAkses:{}}},props:{searchResults:{required:!0}},watch:{searchResults:"getDataKaryawan"},methods:{simpanData(a){try{M.A.patch(`${F}akses_update_by_uuid/${a}`,this.dataObjectAkses).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{this.getDataKaryawan()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}catch(t){sw.push({name:"Eror",params:{msg:t}})}},updateAccess(a,t,e,s){const l=this.dataPagination.find((t=>t.uuid===a));if(l&&("hk_absensi"===t||"hk_karyawan"===t||"hk_lokasi"===t||"hk_produk"===t||"hk_produksi"===t||"hk_shift"===t)){const a=JSON.parse(l.akses[t]);a[e]=s,l.akses[t]=JSON.stringify(a),this.dataObjectAkses=l.akses}},dataSlice(a){this.dataPagination=a},getDataKaryawan(){M.A.get(`${F}akses_get_all`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},update(a){M.A.patch(`${F}hak_akses_update_by_uuid/${a}`,this.item.hak_akses).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg)})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getUrl(a){return`${F}${a}`},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)}},computed:{convertFormatText(a){return Number.parseFloat(a).toFixed(0)}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar;const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.dataSlice()):sw.push("/login")}};const Zm=(0,n.A)(Qm,[["render",Ym]]);var au=Zm;const tu={id:"main-padding",class:"main"},eu={key:1,class:"section dashboard"},su={class:"row"},lu={class:"card p-2 position-sticky",style:{top:"60px","z-index":"2"}},ou={class:"d-flex justify-content-between align-items-end pt-2 overflow-auto"},nu={class:"btn-group",role:"group","aria-label":"Basic outlined example",style:{"margin-top":"-10px","min-width":"900px"}},iu={type:"button",class:"btn btn-outline-secondary"},ru={type:"button",class:"btn btn-outline-secondary"},du={type:"button",class:"btn btn-outline-secondary"},cu={type:"button",class:"btn btn-outline-secondary"},mu=["hidden","checked"],uu={class:"btn btn-outline-secondary",for:"btncheck1"},hu={class:"text-end",style:{"min-width":"200px"}},pu={class:"d-flex align-items-center justify-content-between my-0"},ku={class:"form-check form-switch mx-2 ps-1"},gu=["hidden"],bu={class:"card",style:{"margin-top":"-20px"}},fu={class:"card-body py-2"},yu={class:"table table-sm table-hover",style:{"min-width":"1000px"}},Lu=["src"],_u=["hidden"],vu=["id","onUpdate:modelValue","onChange"],wu={class:"btn-group mx-2",role:"group","aria-label":"Basic mixed styles example"},xu=["onClick"],Cu=["onClick"],Du=["onClick"],Pu={class:"modal",id:"modal-izin",tabindex:"-1"},Tu={class:"modal-dialog"},Iu={class:"modal-content"},Su=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Keterangan"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Au={class:"modal-body"},Eu={class:"row g-3"},ju={class:"col-md-12 text-start"},Bu=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Alasan Izin",-1),Ku={class:"modal-footer"},Mu=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),Fu=["onClick"],Uu={key:2};function Nu(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("komponen-spinner"),c=(0,l.g2)("komponen-google-lokasi"),u=(0,l.g2)("komponen-pagination"),h=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",tu,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),n.loading?((0,l.uX)(),(0,l.Wv)(d,{key:0})):(0,l.Q3)("",!0),n.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",eu,[(0,l.Lk)("div",su,[(0,l.Lk)("div",lu,[(0,l.bF)(c,{"reload-lokasi":n.randomString,onUpdateFormLokasi:i.updateFormLokasi,onDataProfil:i.dataProfil},null,8,["reload-lokasi","onUpdateFormLokasi","onDataProfil"]),(0,l.Lk)("div",ou,[(0,l.Lk)("div",nu,[(0,l.Lk)("button",iu,"Bonus : Rp. "+(0,m.v_)(n.dataProfilById.nominal_bonus)+" / Bulan",1),(0,l.Lk)("button",ru,"Mulai : "+(0,m.v_)(n.statis.jam_start),1),(0,l.Lk)("button",du,"Selesai : "+(0,m.v_)(n.statis.jam_end),1),(0,l.Lk)("button",cu,"Waktu : "+(0,m.v_)(n.currentTime),1),(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=a=>i.refreshLokasi()),class:"btn btn-outline-secondary"},"Refresh Lokasi"),(0,l.Lk)("input",{hidden:0!==n.hiddenAktif.length,checked:!n.shift,onClick:t[1]||(t[1]=a=>i.setStatusShift()),type:"checkbox",class:"btn-check",id:"btncheck1",autocomplete:"off"},null,8,mu),(0,l.Lk)("label",uu,"Shift : "+(0,m.v_)(n.statis.shift),1)]),(0,l.Lk)("div",hu,[(0,l.Lk)("div",pu,[(0,l.Lk)("div",ku,[(0,l.Lk)("input",{id:"tgl-bonus",onClick:t[2]||(t[2]=(...a)=>i.toggleBonusAll&&i.toggleBonusAll(...a)),class:"form-check-input mx-1",type:"checkbox",hidden:!n.shift},null,8,gu)]),(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.hadirSemua&&i.hadirSemua(...a)),class:(0,m.C4)(["btn",n.shift?"btn-outline-secondary":"btn-secondary"])},"Hadir Semua",2)])])])]),(0,l.Lk)("div",bu,[(0,l.Lk)("div",fu,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[5]||(t[5]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",yu,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NO.",6),(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"FOTO",6),(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NAMA",6),(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"JENIS KELAMIN",6),(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"JABATAN",6),(0,l.Lk)("th",{class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"AKSI",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataPagination,((e,o)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.uuid},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(o+1))},(0,m.v_)(o+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(o+1))},[(0,l.Lk)("img",{style:{height:"30px",width:"30px"},src:i.getUrl(e.doc.foto),alt:"foto"},null,8,Lu)],6),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)([a.style_td(o+1),{"min-width":"300px"}])},(0,m.v_)(e.nama),5),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(o+1))},(0,m.v_)(e.jk),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(o+1))},(0,m.v_)(e.jabatan.nama),7),(0,l.Lk)("td",{class:(0,m.C4)([a.class_td(),"d-flex justify-content-end align-items-center"]),style:(0,m.Tr)(a.style_td(o+1))},[(0,l.Lk)("div",{class:"form-check form-switch",hidden:!n.shift},[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:e.uuid,"onUpdate:modelValue":a=>e.on=a,onChange:a=>i.toggleBonus(e.uuid)},null,40,vu),[[s.lH,e.on]])],8,_u),(0,l.Lk)("div",wu,[((0,l.uX)(),(0,l.CE)("button",{key:e.uuid,onClick:a=>i.checkInTidakHadir(e.uuid,n.statis.shift,e.kemampuan.nama,e.jabatan.nama,e.gaji),type:"button",class:"btn btn-sm btn-danger",style:{"min-width":"70px"}},"Alpha",8,xu)),((0,l.uX)(),(0,l.CE)("button",{key:e.uuid,onClick:a=>i.checkInHadir(e.uuid,!!e.on,n.statis.shift,e.kemampuan.nama,e.jabatan.nama,e.gaji),type:"button",class:"btn btn-sm btn-warning",style:{"min-width":"70px"}}," Hadir ",8,Cu)),((0,l.uX)(),(0,l.CE)("button",{key:e.uuid,onClick:a=>i.openModal(e.uuid),"data-bs-toggle":"modal","data-bs-target":"#modal-izin",type:"button",class:"btn btn-sm btn-success",style:{"min-width":"70px"}},"Izin",8,Du))]),(0,l.Lk)("div",Pu,[(0,l.Lk)("div",Tu,[(0,l.Lk)("div",Iu,[Su,(0,l.Lk)("div",Au,[(0,l.Lk)("form",Eu,[(0,l.Lk)("div",ju,[Bu,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.keterangan=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.keterangan]])])])]),(0,l.Lk)("div",Ku,[Mu,(0,l.Lk)("button",{onClick:a=>i.checkInIzin(n.uuid,n.statis.shift,e.kemampuan.nama,e.jabatan.nama,e.gaji),type:"button",class:"btn btn-primary"},"Simpan",8,Fu)])])])])],6)])))),128))])])],34)]),(0,l.bF)(u,{data:n.dataKaryawan,"onUpdate:data":i.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Uu,[(0,l.bF)(h)]))])}var Ru={mixins:[gs],name:"pageCheckIn",components:{KomponenJudul:Nt,KomponenSpinner:Vt,KomponenNotFound:ks,KomponenPagination:rs,KomponenGoogleLokasi:Ue},data(){return{namaPage:"Check In",loading:!1,statis:{},dataProfilById:{},index:0,dataKaryawan:[],dataPagination:[],shift:!1,bonusAll:!1,hiddenAktif:[],currentTime:"",randomString:"",formData:{lat:0,lng:0},keterangan:"",dataMe:{},tanggal:"",last_end:{},uuid:"",errLokasi:"",lokasi:!1}},props:{searchResults:{required:!1}},watch:{searchResults:"getKaryawan"},methods:{dataSlice(a){this.dataPagination=a},getStatisAktif(){M.A.get(`${F}statis_get_aktif`).then((a=>{this.statis=a.data.data,this.shift="Normal"===this.statis.shift})).then((()=>{this.getKaryawan()})).catch((()=>{sw.push({name:"Eror",params:{msg:"error"}})}))},getProfilById(){M.A.get(`${F}profil/1`).then((a=>{this.dataProfilById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getKaryawan(){this.loading=!0,M.A.get(`${F}karyawan_get_check_in`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},getUrl(a){return`${F}${a}`},toggleBonus(a){const t=this.dataPagination.find((t=>t.uuid===a));t&&(t.on,t.on)},toggleBonusAll(){this.bonusAll=!this.bonusAll},setStatusShift(){this.loading=!0;const a=this.shift;M.A.patch(`${F}statis_shift_toggle`,{id:1,aktif:a}).then((a=>{200===a.status&&this.getStatisAktif()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},updateTime(){const a={timeZone:"Asia/Jakarta",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"};this.currentTime=(new Date).toLocaleTimeString("id-ID",a)},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},getTimeWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("HH:mm:ss")},hadirSemua(){0==this.dataKaryawan.length?$.error("Gagal!","Tidak ada data yang ditambahkan!"):$.confirm("Yakin mulai semua?","Silahkan klik YES jika yakin!").then((a=>{a.isConfirmed&&(this.loading=!0,M.A.post(`${F}${1==this.dataProfilById.lokasi?"absensi_hadir_semua":"absensi_hadir_semua_no_lokasi"}`,{uuid_user:this.dataMe.uuid,penjab:this.dataMe.nama,tanggal:this.getDateWIB(),hadir:"Hadir",keterangan:"Hadir",bonus:this.bonusAll,time_start:this.bonusAll?this.statis.jam_start:this.getTimeWIB(),time_end:null,lat:this.formData.lat,lng:this.formData.lng,shift:this.statis.shift,nominal_bonus:this.dataProfilById.nominal_bonus}).then((a=>{$.success("Berhasil!",a.data.msg),this.getKaryawan()})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")})).finally((()=>{this.loading=!1})))}))},checkInHadir(a,t,e,s,l,o){let n={uuid_user:this.dataMe.uuid,uuid_karyawan:a,tanggal:this.getDateWIB(),hadir:"Hadir",keterangan:"Hadir",time_start:t?this.statis.jam_start:this.getTimeWIB(),time_end:null,shift:e,lat:this.formData.lat,lng:this.formData.lng,bonus:t,nominal_bonus:this.dataProfilById.nominal_bonus,nominal_gaji:o,kemampuan:s,jabatan:l,penjab:this.dataMe.nama};this.save(n)},checkInTidakHadir(a,t,e,s,l){let o={uuid_user:this.dataMe.uuid,uuid_karyawan:a,tanggal:this.getDateWIB(),hadir:"Tidak Hadir",keterangan:"Alpha",time_start:this.getTimeWIB(),time_end:null,shift:t,lat:this.formData.lat,lng:this.formData.lng,bonus:0,nominal_bonus:this.dataProfilById.nominal_bonus,nominal_gaji:l,kemampuan:e,jabatan:s,penjab:this.dataMe.nama};this.save(o)},checkInIzin(a,t,e,s,l){let o={uuid_user:this.dataMe.uuid,uuid_karyawan:a,tanggal:this.getDateWIB(),hadir:"Izin",time_start:this.getTimeWIB(),time_end:null,lat:this.formData.lat,lng:this.formData.lng,bonus:0,nominal_bonus:this.dataProfilById.nominal_bonus,shift:t,nominal_gaji:l,kemampuan:e,jabatan:s,penjab:this.dataMe.nama,keterangan:this.keterangan};this.save(o)},openModal(a){this.uuid=a},save(a){$.confirm("Yakin mulai?","Klik oke jika iya!").then((t=>{t.isConfirmed&&(this.loading=!0,M.A.post(`${F}${1==this.dataProfilById.lokasi?"absensi_presensi_check_in":"absensi_presensi_check_in_no_lokasi"}`,a).then((a=>{201===a.status&&($.success("Berhasil!",a.data.msg),this.getKaryawan(),window.location.reload())})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")})).finally((()=>{this.loading=!1})))}))},getMe(){const a=localStorage.getItem("accessToken");this.loading=!0,M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).then((()=>{this.getStatisAktif(),this.getProfilById()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},updateFormLokasi(a){this.formData=a},refreshLokasi(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const e=a.length;for(let s=0;s<8;s++)t+=a.charAt(Math.floor(Math.random()*e));this.randomString=t},dataProfil(a){this.dataProfilById=a}},mounted(){this.changeColorScrollbar=this.defaultColorScrollbar,setInterval(this.updateTime,1e3);const a=localStorage.getItem("accessToken");a?(this.getMe(),this.getTimeWIB(),this.getDateWIB(),this.dataSlice()):sw.push("/login")}};const $u=(0,n.A)(Ru,[["render",Nu]]);var Ju=$u;const Xu={id:"main-padding",class:"main"},qu={key:1,class:"section dashboard"},Gu={class:"row"},Vu={class:"card p-2 position-sticky",style:{top:"60px","z-index":"2"}},Ou={class:"d-flex justify-content-between align-items-middle mt-2 overflow-auto"},Hu={class:"btn-group",role:"group","aria-label":"Basic outlined example",style:{"min-width":"700px"}},zu={type:"button",class:"btn btn-outline-secondary"},Wu={type:"button",class:"btn btn-outline-secondary"},Yu={type:"button",class:"btn btn-outline-secondary"},Qu={type:"button",class:"btn btn-outline-secondary"},Zu={class:"text-end"},ah={class:"card overflow-auto",style:{"margin-top":"-20px"}},th={class:"card-body py-3 px-0",style:{"min-height":"500px"}},eh={class:"row"},sh={class:"card-body overflow-auto"},lh={class:"d-flex",style:{"min-width":"450px"}},oh={style:{height:"140px",width:"140px"}},nh=["src","alt"],ih={class:"px-2 justify-content-between",style:{width:"100%"}},rh={class:"card-title my-0 py-2"},dh={class:""},ch={class:""},mh={key:0,class:"d-flex justify-content-between align-items-center"},uh={class:"py-0 my-0 text-success fw-semibold",style:{"font-size":"14px"}},hh=["hidden"],ph=["hidden"],kh=["disabled","onClick"],gh=(0,l.Lk)("i",{class:"bi bi-skip-start-circle"},null,-1),bh=["disabled","onClick"],fh=(0,l.Lk)("i",{class:"bi bi-stop-circle"},null,-1),yh={key:1},Lh={key:2};function _h(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-spinner"),d=(0,l.g2)("komponen-google-lokasi"),c=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Xu,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.loading?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",qu,[(0,l.Lk)("div",Gu,[(0,l.Lk)("div",Vu,[(0,l.bF)(d,{"reload-lokasi":o.randomString,onUpdateFormLokasi:n.updateFormLokasi,onDataProfil:n.dataProfil},null,8,["reload-lokasi","onUpdateFormLokasi","onDataProfil"]),(0,l.Lk)("div",Ou,[(0,l.Lk)("div",Hu,[(0,l.Lk)("button",zu,"Mulai : "+(0,m.v_)(o.statis.jam_start),1),(0,l.Lk)("button",Wu,"Selesai : "+(0,m.v_)(o.statis.jam_end),1),(0,l.Lk)("button",Yu,"Shift : "+(0,m.v_)(o.statis.shift),1),(0,l.Lk)("button",Qu,"Waktu : "+(0,m.v_)(o.currentTime),1),(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>n.refreshLokasi&&n.refreshLokasi(...a)),class:"btn btn-outline-secondary"},"Refresh Lokasi")]),(0,l.Lk)("div",Zu,[(0,l.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...a)=>n.akhiri&&n.akhiri(...a)),class:"btn btn-outline-secondary px-4"},"Akhiri")])])]),(0,l.Lk)("div",ah,[(0,l.Lk)("div",th,[(0,l.Lk)("div",eh,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataKaryawan,(a=>((0,l.uX)(),(0,l.CE)("div",{class:"col-md-6 m-0",key:a.id},[(0,l.Lk)("div",{class:(0,m.C4)(["Tidak Hadir"==a.hadir?"p-0 alert alert-danger":"Izin"==a.hadir?"p-0 alert alert-success":"card"])},[(0,l.Lk)("div",sh,[(0,l.Lk)("div",lh,[(0,l.Lk)("div",oh,[(0,l.Lk)("img",{style:{width:"140px"},src:n.getUrl(a.doc.foto),alt:a.doc.foto?"Foto":"Foto Tidak Tersedia"},null,8,nh)]),(0,l.Lk)("div",ih,[(0,l.Lk)("div",null,[(0,l.Lk)("h4",rh,(0,m.v_)(a.nama),1),(0,l.Lk)("h6",dh,(0,m.v_)(a.no_nik),1),(0,l.Lk)("h6",ch,(0,m.v_)(a.jk),1)]),"Hadir"==a.hadir?((0,l.uX)(),(0,l.CE)("div",mh,[(0,l.Lk)("div",null,[(0,l.Lk)("p",uh,"Jam Mulai : "+(0,m.v_)(a.jam_mulai),1),(0,l.Lk)("p",{hidden:a.absensi.length>0&&null===a.absensi[0].time_end,class:"py-0 mt-0 my-2 text-danger fw-semibold"},"Durasi : "+(0,m.v_)(a.durasi?a.durasi:"00:00:00"),9,hh),(0,l.Lk)("p",{hidden:a.absensi.length>0&&null!==a.absensi[0].time_end,class:"py-0 mt-0 my-2 text-primary fw-semibold",style:{"font-size":"14px"}}," Durasi : "+(0,m.v_)(n.kalkukasiDurasi(a.durasi?a.durasi:"00:00:00",a.durasi_mulai)),9,ph)]),(0,l.Lk)("div",null,[(0,l.Lk)("button",{disabled:a.absensi.length>0&&null===a.absensi[0].time_end,onClick:t=>n.checkIn(a.uuid,a.nominal_bonus,a.nominal_gaji,a.kemampuan.nama,a.jabatan.nama),type:"button",class:(0,m.C4)(["btn",a.absensi.length>0&&null===a.absensi[0].time_end?"btn-secondary":"btn-success","btn-sm","my-3","mx-1","px-2"])},[gh,(0,l.eW)(" Start ")],10,kh),(0,l.Lk)("button",{disabled:0===a.absensi.length||null!==a.absensi[0].time_end,onClick:t=>n.checkOut(a.uuid,a.absensi[0].id),type:"button",class:(0,m.C4)(["btn",0===a.absensi.length||null!==a.absensi[0].time_end?"btn-secondary":"btn-danger","btn-sm","my-3","mx-1","px-2"])},[fh,(0,l.eW)(" Stop ")],10,bh)])])):((0,l.uX)(),(0,l.CE)("div",yh,[(0,l.Lk)("h2",{class:(0,m.C4)(["text-end","Izin"==a.hadir?"text-success":"Tidak Hadir"==a.hadir?"text-danger":"","fw-bold"])},(0,m.v_)(a.hadir),3)]))])])])],2)])))),128))])])])])])):((0,l.uX)(),(0,l.CE)("section",Lh,[(0,l.bF)(c)]))])}var vh={mixins:[gs],name:"pageCheckOut",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenSpinner:Vt,KomponenGoogleLokasi:Ue},data(){return{namaPage:"Check Out",loading:!1,index:0,msg:"",currentTime:"",dataMe:{},statis:{},dataProfilById:{},shift:"",dataKaryawan:[],formData:{lat:0,lng:0},elapsedTime:0,jamIni:0,menitIni:0,detikIni:0,errLokasi:"",randomString:""}},props:{searchResults:{required:!1}},watch:{searchResults:"getKaryawanCheckOut"},methods:{getJamEfektif(){this.loading=!0,M.A.get(`${F}statis_get_aktif`).then((a=>{this.statis=a.data.data,this.getKaryawanCheckOut(this.statis.shift)})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},getKaryawanCheckOut(a){this.loading=!0,M.A.get(`${F}karyawan_get_check_out`,{params:{search_query:this.searchResults,tanggal:this.getDateWIB(),nama_shift:a}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},getUrl(a){return`${F}${a}`},checkIn(a,t,e,s,l){const o={uuid_user:this.dataMe.uuid,uuid_karyawan:a,tanggal:this.getDateWIB(),hadir:"Hadir",keterangan:"Hadir",time_start:this.getTimeWIB(),time_end:null,shift:this.statis.shift,lat:this.formData.lat,lng:this.formData.lng,bonus:!1,nominal_bonus:t,nominal_gaji:e,kemampuan:s,jabatan:l,penjab:this.dataMe.nama};$.confirm("Yakin mulai?","Klik oke jika iya!").then((a=>{a.isConfirmed&&(this.loading=!0,M.A.post(`${F}${1==this.dataProfilById.lokasi?"absensi_presensi_check_in":"absensi_presensi_check_in_no_lokasi"}`,o).then((a=>{201===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{this.getJamEfektif()})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")})).finally((()=>{this.loading=!1})))}))},checkOut(a,t){const e={uuid_user:this.dataMe.uuid,uuid_karyawan:a,lat:this.formData.lat,lng:this.formData.lng,time_end:this.getTimeWIB()};$.confirm("Yakin berhenti?","Klik oke jika iya!").then((a=>{a.isConfirmed&&(this.loading=!0,M.A.patch(`${F}${1==this.dataProfilById.lokasi?"absensi_presensi_check_out":"absensi_presensi_check_out_no_lokasi"}/${t}`,e).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{this.getJamEfektif()})).catch((a=>{403===a.response.status&&$.error("gagal","Anda berada diluar radius lokasi.")})).finally((()=>{this.loading=!1})))}))},akhiri(){const a={uuid_user:this.dataMe.uuid,lat:this.formData.lat,lng:this.formData.lng,time_end:this.getTimeWIB(),tanggal:this.getDateWIB()};$.confirm("Apakah yakin mengakhiri?","Jika yakin klik oke!").then((t=>{t.isConfirmed&&(this.loading=!0,M.A.patch(`${F}${1==this.dataProfilById.lokasi?"absensi_selesai":"absensi_selesai_no_lokasi"}`,a).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg),this.getKaryawanCheckOut()})).catch((a=>{a.response&&409===a.response.status?$.error("Gagal!",a.response.data.msg):a.response&&400===a.response.status?sw.push({name:"Eror",params:{msg:a}}):a.response&&403===a.response.status&&$.error("Gagal!",a.response.data.msg)})).finally((()=>{this.loading=!1})))}))},updateTime(){const a={timeZone:"Asia/Jakarta",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"};this.currentTime=(new Date).toLocaleTimeString("id-ID",a);let t=new Date;this.jamIni=t.getHours(),this.menitIni=t.getMinutes(),this.detikIni=t.getSeconds()},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},getTimeWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("HH:mm:ss")},getMe(){this.loading=!0;const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},pad(a){return(a<10?"0":"")+a},kalkukasiDurasi(a,t){let e=t.split(":"),s=3600*(this.jamIni-parseInt(e[0]))+60*(this.menitIni-parseInt(e[1]))+(this.detikIni-parseInt(e[2])),l=a.split(":"),o=3600*parseInt(l[0])+60*parseInt(l[1])+parseInt(l[2]),n=s+o,i=n%60,r=Math.floor(n/60%60),d=Math.floor(n/3600);return this.pad(d)+":"+this.pad(r)+":"+this.pad(i)},updateFormLokasi(a){this.formData=a},refreshLokasi(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const e=a.length;for(let s=0;s<8;s++)t+=a.charAt(Math.floor(Math.random()*e));this.randomString=t},dataProfil(a){this.dataProfilById=a}},mounted(){setInterval((()=>{this.updateTime()}),1e3);const a=localStorage.getItem("accessToken");a?(this.getJamEfektif(),this.getDateWIB(),this.getTimeWIB(),this.getMe()):sw.push("/login")}};const wh=(0,n.A)(vh,[["render",_h]]);var xh=wh;const Ch={id:"main-padding",class:"main"},Dh={key:0,class:"section dashboard"},Ph={class:"card"},Th={class:"card-body"},Ih={class:"text-end"},Sh={type:"button",class:"btn btn-outline-secondary px-4"},Ah={class:"card-body py-3"},Eh={class:"row"},jh={class:"card"},Bh={class:"card-body"},Kh={class:"d-flex"},Mh={class:"overflow-hidden",style:{height:"120px",width:"150px"}},Fh=["src","alt"],Uh={class:"px-3 justify-content-between",style:{width:"100%"}},Nh={class:"card-title my-0 py-2"},Rh={class:""},$h={class:""},Jh={key:0,class:"d-flex justify-content-between align-items-center"},Xh={class:"py-0 my-0 text-danger"},qh={class:"py-0 my-0 text-danger"},Gh={key:1},Vh=(0,l.Lk)("h5",{class:"text-start text-danger"},"Tidak Masuk",-1),Oh=[Vh],Hh={class:"text-end"},zh=["onClick"],Wh={key:1};function Yh(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Ch,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",Dh,[(0,l.Lk)("div",Ph,[(0,l.Lk)("div",Th,[(0,l.Lk)("div",Ih,[(0,l.Lk)("button",Sh,(0,m.v_)(o.currentTime?o.currentTime:"00.00.00"),1),(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>n.pulihkanSemua&&n.pulihkanSemua(...a)),class:"btn btn-outline-secondary px-4 mx-2"},"Pulihkan Semua")])]),(0,l.Lk)("div",Ah,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[1]||(t[1]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("div",Eh,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataKaryawan,(a=>((0,l.uX)(),(0,l.CE)("div",{class:"col-md-6 m-0",key:a.id},[(0,l.Lk)("div",jh,[(0,l.Lk)("div",Bh,[(0,l.Lk)("div",Kh,[(0,l.Lk)("div",Mh,[(0,l.Lk)("img",{style:{width:"100%","min-height":"100%"},src:n.getUrl(a.doc.foto),alt:a.doc.foto?"Foto":"Foto Tidak Tersedia"},null,8,Fh)]),(0,l.Lk)("div",Uh,[(0,l.Lk)("div",null,[(0,l.Lk)("h4",Nh,(0,m.v_)(a.nama),1),(0,l.Lk)("h6",Rh,(0,m.v_)(a.no_nik),1),(0,l.Lk)("h6",$h,(0,m.v_)(a.jenis_kelamin),1)]),0!==a.absensi.length?((0,l.uX)(),(0,l.CE)("div",Jh,[(0,l.Lk)("div",null,[(0,l.Lk)("h5",Xh,"Tanggal : "+(0,m.v_)(a.absensi[0].tanggal),1),(0,l.Lk)("h5",qh,"Jam Mulai : "+(0,m.v_)(a.absensi[0].time_start),1)])])):((0,l.uX)(),(0,l.CE)("div",Gh,Oh)),(0,l.Lk)("div",Hh,[(0,l.Lk)("button",{type:"button",onClick:t=>n.pulihkan(a.uuid),class:"btn btn-outline-success px-4"},"Pulihkan",8,zh)])])])])])])))),128))])],34)])])])):((0,l.uX)(),(0,l.CE)("section",Wh,[(0,l.bF)(r)]))])}var Qh={name:"pagePemulihan",components:{KomponenJudul:Nt,KomponenNotFound:ks},data(){return{dataKaryawan:[],index:0,namaPage:"Pemulihan",intervalIds:{},currentTime:"",statis:{},shift:!1}},props:{searchResults:{required:!0}},watch:{searchResults:"getKaryawanPemulihan"},methods:{getKaryawanPemulihan(){M.A.get(`${F}karyawan_get_pemulihan`,{params:{search_query:this.searchResults,tanggal:this.getDateWIB(),shift:this.statis?this.statis.shift:"Normal"}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getUrl(a){return`${F}${a}`},pulihkanSemua(){$.confirm("Yakin dipulihkan semua?","Jika yakin klik oke!").then((a=>{a.isConfirmed&&M.A.patch(`${F}karyawan_pulihkan_semua/${this.getDateWIB()}`).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg),this.getKaryawanPemulihan()})).catch((a=>{a.response&&409===a.response.status?$.error("Gagal!",a.response.data.msg):a.response&&400===a.response.status&&sw.push({name:"Eror",params:{msg:a}})}))}))},pulihkan(a){$.confirm("Apakah yakin dipulihkan?","Jika yakin klik oke!").then((t=>{t.isConfirmed&&M.A.patch(`${F}karyawan_pulihkan_by_uuid/${a}`).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg),this.getKaryawanPemulihan()})).catch((a=>{a.response&&409===a.response.status?$.error("Gagal!",a.response.data.msg):a.response&&400===a.response.status&&sw.push({name:"Eror",params:{msg:a}})}))}))},updateTime(){const a={timeZone:"Asia/Jakarta",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"};this.currentTime=(new Date).toLocaleTimeString("id-ID",a)},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},getStatisAktif(){M.A.get(`${F}statis_get_aktif`).then((a=>{this.statis=a.data.data,this.shift="Normal"===this.statis.shift})).then((()=>{this.getKaryawanPemulihan()})).catch((()=>{sw.push({name:"Eror",params:{msg:"error"}})}))}},mounted(){setInterval(this.updateTime,1e3);const a=localStorage.getItem("accessToken");a?(this.getDateWIB(),this.getStatisAktif()):sw.push("/login")}};const Zh=(0,n.A)(Qh,[["render",Yh]]);var ap=Zh;const tp={id:"main-padding",class:"main"},ep={key:0,class:"section dashboard"},sp={class:"card"},lp={class:"card-body"},op=(0,l.Lk)("button",{type:"button",class:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#modal-tambah-absensi"},"+ Tambah",-1),np={class:"table table-sm table-hover",style:{"min-width":"1000px"}},ip={class:"bg-light"},rp={class:"my-4"},dp={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},cp=["onClick"],mp=(0,l.Lk)("i",{class:"bi bi-trash3-fill"},null,-1),up=[mp],hp=["onClick"],pp=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),kp=[pp],gp={key:1};function bp(a,t,e,s,o,n){const i=(0,l.g2)("komponen-judul"),r=(0,l.g2)("komponen-tambah-absensi"),d=(0,l.g2)("komponen-edit-absensi"),c=(0,l.g2)("komponen-pagination"),u=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",tp,[(0,l.bF)(i,{title:o.namaPage},null,8,["title"]),o.dataAbsensi.length>0?((0,l.uX)(),(0,l.CE)("section",ep,[(0,l.Lk)("div",sp,[(0,l.Lk)("div",lp,[op,(0,l.bF)(r,{onGetDataAbsensi:n.getDataAbsensi},null,8,["onGetDataAbsensi"]),(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",np,[(0,l.Lk)("thead",ip,[(0,l.Lk)("tr",rp,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nama",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Status",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Keterangan",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Start",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"End",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Shift",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Lokasi",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Pengabsen",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Tanggal",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(e+1),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.karyawan.nama),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.hadir),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.keterangan),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.time_start),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.time_end?t.time_end:"-"),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.shift),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.nama_lokasi),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.penjab),7),(0,l.Lk)("td",{style:(0,m.Tr)(a.style_td(e+1,t.hadir)),class:(0,m.C4)(a.class_td())},(0,m.v_)(t.tanggal)+" "+(0,m.v_)(n.convertLokal(t.tanggal)),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1,t.hadir))},[(0,l.Lk)("div",dp,[(0,l.Lk)("button",{onClick:a=>n.deleteAbsensiById(t.id),type:"button",class:"btn btn-danger"},up,8,cp),(0,l.Lk)("button",{onClick:a=>n.getDataAbsensiById(t.id),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-absensi",type:"button",class:"btn btn-warning"},kp,8,hp)]),(0,l.bF)(d,{"data-absensi":o.dataAbsensiById,onGetDataAbsensi:n.getDataAbsensi},null,8,["data-absensi","onGetDataAbsensi"])],6)])))),128))])])],34)]),(0,l.bF)(c,{data:o.dataAbsensi,"onUpdate:data":n.dataSlice},null,8,["data","onUpdate:data"])])])):((0,l.uX)(),(0,l.CE)("section",gp,[(0,l.bF)(u)]))])}const fp={class:"modal fade",id:"modal-tambah-absensi",tabindex:"-1"},yp={class:"modal-dialog modal-lg"},Lp={class:"modal-content"},_p=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Tambah Presensi",-1),vp=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),wp={class:"modal-body"},xp={class:"row g-3 ps-4 pe-4"},Cp={class:"col-md-12"},Dp=(0,l.Lk)("label",{for:"nama_kryn",class:"form-label"},"Nama Karyawan",-1),Pp=(0,l.Lk)("option",{selected:""},"---Pilih Nama Karyawan---",-1),Tp=["value"],Ip={class:"col-md-12"},Sp=(0,l.Lk)("label",{for:"sts-hadir",class:"form-label"},"Status Kehadiran",-1),Ap=(0,l.Lk)("option",{selected:""},"---Pilih Status---",-1),Ep=(0,l.Lk)("option",{value:"Hadir"},"Hadir",-1),jp=(0,l.Lk)("option",{value:"Izin"},"Izin",-1),Bp=(0,l.Lk)("option",{value:"Tidak Hadir"},"Tidak hadir",-1),Kp=[Ap,Ep,jp,Bp],Mp=["hidden"],Fp=(0,l.Lk)("label",{for:"tgl_produksi",class:"pb-2"},"Alasan Izin",-1),Up={class:"col-md-12"},Np=(0,l.Lk)("label",{for:"tgl_produksi",class:"pb-2"},"Tanggal",-1),Rp={class:"col-md-12"},$p={class:"d-flex align-items-middle"},Jp={class:"form-check form-switch mx-2 ps-1 mt-2"},Xp={for:"add_bonus",class:"ms-3"},qp=["hidden"],Gp=(0,l.Lk)("label",{for:"add_bonus",class:"ms-3"},"Bonus",-1),Vp=["hidden"],Op=(0,l.Lk)("label",{for:"add_jam_mulai",class:"pb-2"},"Jam Mulai",-1),Hp=["hidden"],zp=(0,l.Lk)("label",{for:"add_jam_selesai",class:"pb-2"},"Jam Selesai",-1),Wp={class:"text-danger fst-italic text-center"},Yp={class:"modal-footer"},Qp=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function Zp(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",fp,[(0,l.Lk)("div",yp,[(0,l.Lk)("div",Lp,[_p,vp,(0,l.Lk)("div",wp,[(0,l.Lk)("form",xp,[(0,l.Lk)("div",Cp,[Dp,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.uuid_karyawan=a),class:"form-select",id:"nama_kryn"},[Pp,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataKaryawan,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.uuid,value:a.uuid},(0,m.v_)(a.nama),9,Tp)))),128))],512),[[s.u1,n.formData.uuid_karyawan]])]),(0,l.Lk)("div",Ip,[Sp,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.hadir=a),class:"form-select",id:"sts-hadir","aria-label":"Default select example"},Kp,512),[[s.u1,n.formData.hadir]])]),(0,l.Lk)("div",{class:"col-md-12",hidden:n.tampilKeterangan},[Fp,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.keterangan=a),type:"text",class:"form-control",id:"tgl_produksi"},null,512),[[s.Jo,n.formData.keterangan]])],8,Mp),(0,l.Lk)("div",Up,[Np,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.tanggal=a),type:"date",class:"form-control",id:"tgl_produksi"},null,512),[[s.Jo,n.formData.tanggal]])]),(0,l.Lk)("div",Rp,[(0,l.Lk)("div",$p,[(0,l.Lk)("div",Jp,[(0,l.bo)((0,l.Lk)("input",{id:"add_shift","onUpdate:modelValue":t[4]||(t[4]=a=>n.shift=a),class:"form-check-input mx-1",type:"checkbox"},null,512),[[s.lH,n.shift]]),(0,l.Lk)("label",Xp,"Shift "+(0,m.v_)(n.formData.shift),1)]),(0,l.Lk)("div",{class:"form-check form-switch mx-2 ps-1 mt-2",hidden:n.tampilJam},[(0,l.bo)((0,l.Lk)("input",{id:"add_bonus","onUpdate:modelValue":t[5]||(t[5]=a=>n.formData.bonus=a),class:"form-check-input mx-1",type:"checkbox"},null,512),[[s.lH,n.formData.bonus]]),Gp],8,qp)])]),(0,l.Lk)("div",{class:"col-md-12",hidden:n.tampilJam},[Op,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.formData.time_start=a),type:"time",class:"form-control",id:"add_jam_mulai"},null,512),[[s.Jo,n.formData.time_start]])],8,Vp),(0,l.Lk)("div",{class:"col-md-12",hidden:n.tampilJam},[zp,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.formData.time_end=a),type:"time",class:"form-control",id:"add_jam_selesai"},null,512),[[s.Jo,n.formData.time_end]])],8,Hp)])]),(0,l.Lk)("div",Wp,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",Yp,[(0,l.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),Qp,(0,l.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...a)=>i.simpanData&&i.simpanData(...a)),class:"btn btn-primary","data-bs-dismiss":""},"Simpan")])])])])}var ak={name:"KomponenTambahAbsensi",data(){return{formData:{uuid_karyawan:"",tanggal:this.getDateWIB(),hadir:"",keterangan:"",bonus:!1,shift:"Normal",time_start:this.getTimeWIB(),time_end:this.getTimeWIB(),nominal_bonus:0,nominal_gaji:0,kemampuan:"",jabatan:"",penjab:""},errResponse:{err_required:""},loading:!0,dataKaryawan:[],dataProduk:[],statis:{},shift:!1,tampilKeterangan:!0,tampilJam:!0,dataKaryawanById:{},dataProfilById:{},dataMe:{}}},watch:{shift:function(a){this.formData.shift=a?"Lembur":"Normal"},dataProfilById:function(a){this.formData.nominal_bonus=a.nominal_bonus},dataKaryawanById:function(a){this.formData.jabatan=a.jabatan?a.jabatan.nama:"",this.formData.kemampuan=a.kemampuan?a.kemampuan.nama:"",this.formData.nominal_gaji=a.gaji?a.gaji:0},dataMe:function(a){this.formData.penjab=a?a.nama:""},"formData.uuid_karyawan":function(){this.getKaryawanByUuid(this.formData.uuid_karyawan)},"formData.hadir":function(a){this.formData.keterangan="Hadir"==a?"Hadir":"Tidak Hadir"==a?"Alpha":"",this.tampilKeterangan="Izin"!=a,this.tampilJam="Hadir"!=a,this.formData.time_end="Hadir"!=a?null:this.getTimeWIB()}},methods:{clearForm(){this.formData={uuid_karyawan:"",tanggal:this.getDateWIB()},this.errResponse.err_required=""},getDataKaryawan(){M.A.get(`${F}karyawan_get_all_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},tambahAbsensi(){this.save()},getMe(){const a=localStorage.getItem("accessToken");this.loading=!0,M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))},getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},getTimeWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("HH:mm:ss")},getProfilById(){M.A.get(`${F}profil/1`).then((a=>{this.dataProfilById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getKaryawanByUuid(a){M.A.get(`${F}karyawan_get_by_uuid/${a}`).then((a=>{this.dataKaryawanById=a.data.data})).catch((()=>{this.dataKaryawanById={}}))},simpanData(){this.loading=!0,M.A.post(`${F}absensi_tambah`,this.formData).then((a=>{201===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{sw.push({name:"pageDataAbsensi",params:{msg:"Sukses"}})})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getMe(),this.getDataKaryawan(),this.getTimeWIB(),this.getDateWIB(),this.getProfilById()):sw.push("/login")}};const tk=(0,n.A)(ak,[["render",Zp]]);var ek=tk;const sk={class:"modal fade text-dark",id:"modal-edit-absensi",tabindex:"-1"},lk={class:"modal-dialog modal-lg"},ok={class:"modal-content"},nk=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Edit Presensi",-1),ik=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),rk={class:"modal-body"},dk={class:"row g-3 ps-4 pe-4"},ck={class:"col-md-12"},mk=(0,l.Lk)("label",{for:"nama_kryn",class:"form-label"},"Nama Karyawan",-1),uk={class:"col-md-12"},hk=(0,l.Lk)("label",{for:"add_jam_mulai",class:"pb-2"},"Jam Mulai",-1),pk={class:"col-md-12"},kk=(0,l.Lk)("label",{for:"add_jam_selesai",class:"pb-2"},"Jam Selesai",-1),gk={class:"text-danger fst-italic text-center"},bk={class:"modal-footer"},fk=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function yk(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",sk,[(0,l.Lk)("div",lk,[(0,l.Lk)("div",ok,[nk,ik,(0,l.Lk)("div",rk,[(0,l.Lk)("form",dk,[(0,l.Lk)("div",ck,[mk,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.nama=a),type:"text",class:"form-control",id:"tgl_produksi"},null,512),[[s.Jo,n.formData.nama]])]),(0,l.Lk)("div",uk,[hk,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.time_start=a),type:"time",class:"form-control",id:"add_jam_mulai"},null,512),[[s.Jo,n.formData.time_start]])]),(0,l.Lk)("div",pk,[kk,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.time_end=a),type:"time",class:"form-control",id:"add_jam_selesai"},null,512),[[s.Jo,n.formData.time_end]])])])]),(0,l.Lk)("div",gk,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",bk,[(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),fk,(0,l.Lk)("button",{type:"button",onClick:t[4]||(t[4]=a=>i.simpanData(n.formData.id)),class:"btn btn-primary","data-bs-dismiss":""},"Simpan")])])])])}var Lk={name:"KomponenTambahAbsensi",data(){return{formData:{id:0,nama:"",time_start:"",time_end:""},errResponse:{err_required:""},loading:!0}},props:{dataAbsensi:{type:Object,required:!0}},watch:{dataAbsensi:{immediate:!0,handler(a){this.formData.id=a.id,this.formData.time_start=a.time_start,this.formData.time_end=a.time_end,this.formData.nama=a.karyawan?a.karyawan.nama:""}}},methods:{clearForm(){this.formData={time_start:"",time_end:""},this.errResponse.err_required=""},simpanData(a){this.loading=!0,M.A.patch(`${F}absensi_update/${a}`,this.formData).then((a=>{200===a.status&&$.success("Berhasil!",a.data.msg)})).then((()=>{sw.push({name:"pageDataAbsensi",params:{msg:"Sukses"}})})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))}}};const _k=(0,n.A)(Lk,[["render",yk]]);var vk=_k,wk={mixins:[gs],name:"pageDataAbsensi",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs,KomponenTambahAbsensi:ek,KomponenEditAbsensi:vk},data(){return{index:0,dataAbsensi:[],dataAbsensiById:{},dataPagination:[],namaPage:"Data Absensi"}},props:{searchResults:{required:!1}},watch:{searchResults:"getDataAbsensi"},methods:{dataSlice(a){this.dataPagination=a},convertLokal(a){const t=new Date(a);return t.toLocaleDateString()},getDataAbsensi(){M.A.get(`${F}absensi_get_all`,{params:{search_query:this.searchResults}}).then((a=>{this.dataAbsensi=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getDataAbsensiById(a){M.A.get(`${F}absensi_get_by_id/${a}`).then((a=>{this.dataAbsensiById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},deleteAbsensiById(a){$.confirm("Apakah yakin?","Data akan dihapus permanen.").then((t=>{t.isConfirmed&&M.A.delete(`${F}absensi_hapus/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Data telah dihapus."),this.getDataAbsensi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataAbsensi(),this.dataSlice()):sw.push("/login")}};const xk=(0,n.A)(wk,[["render",bp]]);var Ck=xk;const Dk={id:"main-padding",class:"main"},Pk={key:0,class:"section dashboard"},Tk={class:"card"},Ik={class:"card-body"},Sk=(0,l.Lk)("button",{type:"button",class:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#modal-tambah-produksi"},"+ Tambah",-1),Ak={class:"table table-sm table-hover",style:{"min-width":"900px"}},Ek={class:"bg-light"},jk={class:"my-4"},Bk=["for"],Kk=["onUpdate:modelValue","id"],Mk=(0,l.Fv)('<option disabled selected>---Pilih Kualitas---</option><option value="Sangat Baik">Sangat Baik</option><option value="Baik">Baik</option><option value="Cukup">Cukup</option><option value="Buruk">Buruk</option>',5),Fk=[Mk],Uk=["id","onUpdate:modelValue"],Nk={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},Rk=["onClick","disabled"],$k=["onClick"],Jk=(0,l.Lk)("i",{class:"bi bi-trash3-fill"},null,-1),Xk=[Jk],qk=["onClick"],Gk=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),Vk=[Gk],Ok={class:"my-2"},Hk={key:1};function zk(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("komponen-tambah-produksi"),c=(0,l.g2)("komponen-edit-produksi"),u=(0,l.g2)("komponen-pagination"),h=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Dk,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),n.dataProduksi.length>0?((0,l.uX)(),(0,l.CE)("section",Pk,[(0,l.Lk)("div",Tk,[(0,l.Lk)("div",Ik,[Sk,(0,l.bF)(d,{onGetDataProduksi:i.getDataProduksi},null,8,["onGetDataProduksi"]),(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[0]||(t[0]=(...a)=>i.handleMouseMove&&i.handleMouseMove(...a))},[(0,l.Lk)("table",Ak,[(0,l.Lk)("thead",Ek,[(0,l.Lk)("tr",jk,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nama",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jenis Produk",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jumlah",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Tangal Produksi",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Kualitas",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.karyawan.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.produk.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jumlah),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(i.getTanggalID(t.tanggal)),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)([a.style_td(e+1),{"max-width":"100px"}]),for:t.id},[t.setujui?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:1,type:"text",class:"form-control is-valid",disabled:"",id:e+1,"onUpdate:modelValue":a=>t.kualitas=a},null,8,Uk)),[[s.Jo,t.kualitas]]):(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{key:0,"onUpdate:modelValue":a=>t.kualitas=a,id:t.id,class:"form-select is-invalid"},Fk,8,Kk)),[[s.u1,t.kualitas]])],14,Bk),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("div",Nk,[(0,l.Lk)("button",{onClick:a=>i.setujui(t.id,t.kualitas),disabled:t.setujui,type:"button",class:"btn btn-primary"},"Setujui",8,Rk),(0,l.Lk)("button",{onClick:a=>i.deleteProduksiById(t.id),type:"button",class:"btn btn-danger"},Xk,8,$k),(0,l.Lk)("button",{onClick:a=>i.getDataProduksiById(t.id),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-produksi",type:"button",class:"btn btn-warning"},Vk,8,qk)]),(0,l.bF)(c,{"data-produksi":n.dataProduksiById,onGetDataProduksi:i.getDataProduksi},null,8,["data-produksi","onGetDataProduksi"])],6)])))),128))])])],34)]),(0,l.Lk)("div",Ok,[(0,l.bF)(u,{data:n.dataProduksi,"onUpdate:data":i.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",Hk,[(0,l.bF)(h)]))])}const Wk={class:"modal fade",id:"modal-tambah-produksi",tabindex:"-1"},Yk={class:"modal-dialog modal-lg"},Qk={class:"modal-content"},Zk=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Tambah Produksi",-1),ag=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),tg={class:"modal-body"},eg={class:"row g-3 ps-4 pe-4"},sg={class:"col-md-12"},lg=(0,l.Lk)("label",{for:"nama_kryn",class:"form-label"},"Nama Karyawan",-1),og=(0,l.Lk)("option",{selected:""},"---Pilih Nama Karyawan---",-1),ng=["value"],ig={class:"col-md-12"},rg=(0,l.Lk)("label",{for:"jabatan",class:"form-label"},"Produk",-1),dg=(0,l.Lk)("option",{selected:""},"---Pilih Jenis Produk",-1),cg=["value"],mg={class:"col-md-12"},ug=(0,l.Lk)("label",{for:"jumlah",class:"form-label"},"Jumlah",-1),hg={class:"col-md-12"},pg=(0,l.Lk)("label",{for:"tgl_produksi",class:"pb-2"},"Tanggal Produksi",-1),kg={class:"text-danger fst-italic text-center"},gg={class:"modal-footer"},bg=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function fg(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",Wk,[(0,l.Lk)("div",Yk,[(0,l.Lk)("div",Qk,[Zk,ag,(0,l.Lk)("div",tg,[(0,l.Lk)("form",eg,[(0,l.Lk)("div",sg,[lg,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.uuid_karyawan=a),class:"form-select",id:"nama_kryn"},[og,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataKaryawan,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.uuid,value:a.uuid},(0,m.v_)(a.nama),9,ng)))),128))],512),[[s.u1,n.formData.uuid_karyawan]])]),(0,l.Lk)("div",ig,[rg,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.id_produk=a),class:"form-select",id:"jabatan"},[dg,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataProduk,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,cg)))),128))],512),[[s.u1,n.formData.id_produk]])]),(0,l.Lk)("div",mg,[ug,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.jumlah=a),type:"text",class:"form-control",id:"jumlah"},null,512),[[s.Jo,n.formData.jumlah]])]),(0,l.Lk)("div",hg,[pg,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.tanggal=a),type:"date",class:"form-control",id:"tgl_produksi"},null,512),[[s.Jo,n.formData.tanggal]])])])]),(0,l.Lk)("div",kg,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",gg,[(0,l.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),bg,(0,l.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...a)=>i.simpanData&&i.simpanData(...a)),class:"btn btn-primary","data-bs-dismiss":""},"Simpan")])])])])}var yg={name:"KomponenTambahProduksi",data(){return{formData:{id_produk:"",uuid_karyawan:"",jumlah:0,tanggal:this.getDateWIB()},errResponse:{err_required:""},dataKaryawan:[],dataProduk:[]}},methods:{getDateWIB(){const a="Asia/Jakarta",t=Ot.c9.now().setZone(a);return t.toFormat("yyyy-MM-dd")},refresProduksi(){this.$emit("get-data-produksi")},simpanData(){this.formData.uuid_karyawan&&this.formData.id_produk&&this.formData.tanggal&&this.formData.jumlah?(this.errResponse.err_required="",M.A.post(`${F}produksi_tambah/`,this.formData).then((a=>{201===a.status&&($.success("Berhasil!",a.data.msg),this.clearForm(),this.refresProduksi())})).catch((a=>{422==a.response.status?$.error("Error!",a):sw.push({name:"Eror",params:{msg:a}})}))):this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={id_produk:"",uuid_karyawan:"",jumlah:0,tanggal:this.getDateWIB()},this.errResponse.err_required=""},getDataProduk(){M.A.get(`${F}produk`).then((a=>{this.dataProduk=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getDataKaryawan(){M.A.get(`${F}karyawan_get_all_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataProduk(),this.getDataKaryawan()):sw.push("/login")}};const Lg=(0,n.A)(yg,[["render",fg]]);var _g=Lg;const vg={class:"modal fade",id:"modal-edit-produksi",tabindex:"-1"},wg={class:"modal-dialog modal-lg"},xg={class:"modal-content"},Cg=(0,l.Lk)("h4",{class:"d-block w-full text-center py-4 mb-0"},"Edit Produksi",-1),Dg=(0,l.Lk)("button",{type:"button",class:"btn-close position-absolute top-0 end-0 p-3 bg-light m-2","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Pg={class:"modal-body"},Tg={class:"row g-3 ps-4 pe-4 text-start"},Ig={class:"col-md-12"},Sg=(0,l.Lk)("label",{for:"e-karyn",class:"form-label"},"Nama Karyawan",-1),Ag=(0,l.Lk)("option",{selected:""},"---Pilih Nama Karyawan---",-1),Eg=["value"],jg={class:"col-md-12"},Bg=(0,l.Lk)("label",{for:"e-tmplahir",class:"form-label"},"Jenis Produk",-1),Kg=(0,l.Lk)("option",{selected:""},"---Pilih Jenis Produk---",-1),Mg=["value"],Fg={class:"col-md-12"},Ug=(0,l.Lk)("label",{for:"e-jumlah",class:"form-label"},"Jumlah",-1),Ng={class:"text-danger fst-italic text-center"},Rg={class:"modal-footer"},$g=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1);function Jg(a,t,e,o,n,i){return(0,l.uX)(),(0,l.CE)("div",vg,[(0,l.Lk)("div",wg,[(0,l.Lk)("div",xg,[Cg,Dg,(0,l.Lk)("div",Pg,[(0,l.Lk)("form",Tg,[(0,l.Lk)("div",Ig,[Sg,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.formData.uuid_karyawan=a),class:"form-select",id:"e-karyn"},[Ag,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataKaryawan,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.uuid,value:a.uuid},(0,m.v_)(a.nama),9,Eg)))),128))],512),[[s.u1,n.formData.uuid_karyawan]])]),(0,l.Lk)("div",jg,[Bg,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.id_produk=a),class:"form-select",id:"e-tmplahir"},[Kg,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataProduk,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.id,value:a.id},(0,m.v_)(a.nama),9,Mg)))),128))],512),[[s.u1,n.formData.id_produk]])]),(0,l.Lk)("div",Fg,[Ug,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.jumlah=a),type:"text",class:"form-control",id:"e-jumlah"},null,512),[[s.Jo,n.formData.jumlah]])])])]),(0,l.Lk)("div",Ng,(0,m.v_)(n.errResponse.err_required),1),(0,l.Lk)("div",Rg,[(0,l.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.clearForm&&i.clearForm(...a)),class:"btn btn-danger"},"Bersih"),$g,(0,l.Lk)("button",{type:"button",onClick:t[4]||(t[4]=a=>i.simpanData(n.formData.id)),class:"btn btn-primary"},"Simpan")])])])])}var Xg={name:"KomponanEditProduksi",data(){return{formData:{id:0,id_produk:"",uuid_karyawan:"",jumlah:0},errResponse:{err_required:""},dataKaryawan:[],dataProduk:[]}},props:{dataProduksi:{type:Object,required:!0}},watch:{dataProduksi:{immediate:!0,handler(a){this.formData.id=a.id,this.formData.id_produk=a.id_produk,this.formData.uuid_karyawan=a.uuid_karyawan,this.formData.tanggal=a.tanggal,this.formData.jumlah=a.jumlah}}},methods:{refresProduksi(){this.$emit("get-data-produksi")},simpanData(a){this.formData.uuid_karyawan&&this.formData.id_produk&&this.formData.jumlah?(this.errResponse.err_required="",M.A.patch(`${F}produksi_edit/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.clearForm(),this.refresProduksi())})).catch((a=>{422==a.response.status?$.error("Error!",a):sw.push({name:"Eror",params:{msg:a}})}))):this.errResponse.err_required="Pastikan data diisi semua!"},clearForm(){this.formData={id_produk:"",uuid_karyawan:"",jumlah:0,tanggal:""},this.errResponse.err_required=""},getDataProduk(){M.A.get(`${F}produk`).then((a=>{this.dataProduk=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getDataKaryawan(){M.A.get(`${F}karyawan_get_all_aktif`,{params:{search_query:this.searchResults}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.getDataProduk()):sw.push("/login")}};const qg=(0,n.A)(Xg,[["render",Jg]]);var Gg=qg,Vg={mixins:[gs],name:"pageDataProduksi",components:{KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs,KomponenTambahProduksi:_g,KomponenEditProduksi:Gg},data(){return{index:0,dataProduksi:[],dataProduksiById:{},dataPagination:[],namaPage:"Data Produksi"}},props:{searchResults:{required:!0}},watch:{searchResults:"getDataProduksi"},methods:{getTanggalID(a){const t="Asia/Jakarta",e=Ot.c9.fromISO(a,{zone:t}).setLocale("id"),s=e.toFormat("dd MMMM yyyy");return s},dataSlice(a){this.dataPagination=a},getDataProduksiById(a){M.A.get(`${F}produksi/${a}`).then((a=>{this.dataProduksiById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},deleteProduksiById(a){$.confirm("Apakah yakin?","Data akan dihapus permanen.").then((t=>{t.isConfirmed&&M.A.delete(`${F}produksi_hapus/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Data telah dihapus."),this.getDataProduksi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},getDataProduksi(){M.A.get(`${F}produksi`,{params:{search_query:this.searchResults}}).then((a=>{this.dataProduksi=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},handleMouseMove(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.changeColorScrollbar="change-color-scrollbar",this.scrollTimer=setTimeout((()=>{this.changeColorScrollbar=[""]}),2e3)},setujui(a,t){this.loading=!0;const e={kualitas:t};M.A.patch(`${F}produksi_setujui/${a}`,e).then((a=>{200==a.status&&($.success("Berhasil!","Data telah dinilai & disetujui."),this.getDataProduksi())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})).finally((()=>{this.loading=!1}))}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataProduksi(),this.dataSlice()):sw.push("/login")}};const Og=(0,n.A)(Vg,[["render",zk]]);var Hg=Og;const zg={id:"main-padding",class:"main"},Wg={key:0,class:"section dashboard"},Yg={class:"card",id:"contentToExport",ref:"contentToExport"},Qg={class:"d-flex w-50 px-3 py-4 overflow-auto",style:{"min-width":"320px"}},Zg=["value"],ab=["value"],tb={class:"card-body"},eb={class:"table table-sm table-bordered border-secondary table-hover",style:{"font-size":"11px"}},sb={class:"my-4"},lb=(0,l.Lk)("th",{scope:"col",class:"text-center text-white align-middle",style:{"min-width":"50px","background-color":"#292e8c"},rowspan:"2"},"NO",-1),ob=(0,l.Lk)("th",{scope:"col",class:"text-center text-white align-middle",style:{"min-width":"150px","background-color":"#292e8c"},rowspan:"2"},"NAMA",-1),nb=(0,l.Lk)("th",{scope:"col",class:"text-center text-white align-middle",style:{"min-width":"80px","background-color":"#292e8c"},rowspan:"2"},"JABATAN",-1),ib=["colspan"],rb=(0,l.Lk)("th",{scope:"col",class:"text-center text-white align-middle",colspan:"2",style:{"background-color":"#292e8c"}},"JUMLAH",-1),db={class:"my-4",style:{"background-color":"#d2d2d2"}},cb=(0,l.Lk)("th",{class:"border-secondary border-end text-center text-white align-middle",style:{"background-color":"#292e8c"}},"Y",-1),mb=(0,l.Lk)("th",{class:"border-secondary border-end text-center text-white align-middle",style:{"background-color":"#292e8c"}},"T",-1),ub={type:"button",class:"btn btn-primary d-none",ref:"modalButton","data-bs-toggle":"modal","data-bs-target":"#modal-laporan-absensi"},hb={class:"my-2"},pb={key:1};function kb(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("export-absensi-vue"),c=(0,l.g2)("komponen-pagination"),u=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",zg,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),n.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",Wg,[(0,l.Lk)("div",Yg,[(0,l.Lk)("div",Qg,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.selectedYear=a),onChange:t[1]||(t[1]=(...a)=>i.updateDates&&i.updateDates(...a)),class:"form-select mx-2",id:"tahun"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.years,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,m.v_)(a),9,Zg)))),128))],544),[[s.u1,n.selectedYear]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.selectedMonth=a),onChange:t[3]||(t[3]=(...a)=>i.updateDates&&i.updateDates(...a)),class:"form-select mx-2",id:"bulan"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.months,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.value,value:a.value},(0,m.v_)(a.name),9,ab)))),128))],544),[[s.u1,n.selectedMonth]])]),(0,l.Lk)("div",tb,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[4]||(t[4]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",eb,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",sb,[lb,ob,nb,(0,l.Lk)("th",{scope:"col",class:"text-center text-white align-middle",colspan:n.dates.length,style:{"background-color":"#292e8c"}},"TANGGAL",8,ib),rb]),(0,l.Lk)("tr",db,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dates,(a=>((0,l.uX)(),(0,l.CE)("th",{class:"text-center align-middle border-secondary border-end text-white",key:a,style:{"background-color":"#292e8c"}},(0,m.v_)(i.formatDate(a)),1)))),128)),cb,mb])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.uuid},[(0,l.Lk)("td",{class:"align-middle text-center",style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,0,e+1)})},(0,m.v_)(e+1),5),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,0,e+1)})},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:"align-middle text-center",style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,0,e+1)})},(0,m.v_)(t.jabatan.nama),5),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dates,(s=>((0,l.uX)(),(0,l.CE)("td",{class:"align-middle text-center",key:s,style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,s,e+1)})},(0,m.v_)(a.getStatus(t.absensi,s)),5)))),128)),(0,l.Lk)("td",{class:"align-middle text-center fw-bold",style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,0,e+1)})},(0,m.v_)(t.hadir),5),(0,l.Lk)("td",{class:"align-middle text-center fw-bold",style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,0,e+1)})},(0,m.v_)(t.tidak),5)])))),128))])])],34)]),(0,l.Lk)("button",ub,"export laporan absensii",512),(0,l.bF)(d,{bulan:i.selectedMonthName,tahun:n.selectedYear,dataLaporanAbsensi:n.dataKaryawan,dates:n.dates},null,8,["bulan","tahun","dataLaporanAbsensi","dates"]),(0,l.Lk)("div",hb,[(0,l.bF)(c,{data:n.dataKaryawan,"onUpdate:data":i.dataSlice},null,8,["data","onUpdate:data"])])],512)])):((0,l.uX)(),(0,l.CE)("section",pb,[(0,l.bF)(u)]))])}const gb={class:"modal fade",id:"modal-laporan-absensi",tabindex:"-1"},bb={class:"modal-dialog modal-fullscreen"},fb={class:"modal-content container"},yb={class:"modal-header"},Lb=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),_b=(0,l.Lk)("i",{class:"bi bi-file-earmark-excel-fill"},null,-1),vb=[_b],wb=(0,l.Lk)("i",{class:"bi bi-file-earmark-pdf-fill"},null,-1),xb=[wb],Cb={class:"modal-body",ref:"contentToExport"},Db={class:"text-center p-4"},Pb=(0,l.Lk)("h3",{class:"bold text-danger"},"Laporan Absensi Karyawan STG",-1),Tb={class:"fst-italic"},Ib={class:"table table-sm tabel-pdf",style:{"font-size":"11px"}},Sb={class:"my-4 border-top border-secondary",style:{"background-color":"#d2d2d2"}},Ab=["colspan"],Eb={class:"my-4"};function jb(a,t,e,s,o,n){return(0,l.uX)(),(0,l.CE)("div",gb,[(0,l.Lk)("div",bb,[(0,l.Lk)("div",fb,[(0,l.Lk)("div",yb,[Lb,(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>n.exportToExcel&&n.exportToExcel(...a)),class:"px-2 btn btn-outline-success"},vb),(0,l.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...a)=>n.unduhPdf&&n.unduhPdf(...a)),class:"px-2 mx-2 btn btn-outline-danger"},xb)])]),(0,l.Lk)("div",Cb,[(0,l.Lk)("div",Db,[Pb,(0,l.Lk)("h6",Tb,"Bulan "+(0,m.v_)(e.bulan)+" , Tahun "+(0,m.v_)(e.tahun),1)]),(0,l.Lk)("table",Ib,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",Sb,[(0,l.Lk)("th",{scope:"col",class:"text-center align-middle border-secondary border-start border-end text-white",style:(0,m.Tr)(a.style_th()),rowspan:"2"},"NO",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle border-secondary border-end text-white",style:(0,m.Tr)(a.style_th()),rowspan:"2"},"NAMA",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle border-secondary border-end text-white",style:(0,m.Tr)(a.style_th()),colspan:e.dates.length},"TANGGAL",12,Ab),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle border-secondary border-end text-white",style:(0,m.Tr)(a.style_th()),colspan:"2"},"JUMLAH",4)]),(0,l.Lk)("tr",Eb,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.dates,(t=>((0,l.uX)(),(0,l.CE)("th",{class:"text-center align-middle border-secondary border-end text-white",style:(0,m.Tr)(a.style_th()),key:t},(0,m.v_)(n.formatDate(t)),5)))),128)),(0,l.Lk)("th",{class:"border-secondary border-end text-white text-center align-middle",style:(0,m.Tr)(a.style_th())},"Y",4),(0,l.Lk)("th",{class:"border-secondary border-end text-white text-center align-middle",style:(0,m.Tr)(a.style_th())},"T",4)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.laporan_absensi,((t,s)=>((0,l.uX)(),(0,l.CE)("tr",{class:"border-secondary border-bottom",key:t.uuid},[(0,l.Lk)("td",{class:"align-middle text-center border-secondary border-end border-start",style:(0,m.Tr)(a.style_td(s+1))},(0,m.v_)(s+1),5),(0,l.Lk)("td",{class:"align-middle border-secondary border-end",style:(0,m.Tr)(a.style_td(s+1))},(0,m.v_)(t.nama),5),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.dates,(e=>((0,l.uX)(),(0,l.CE)("td",{class:"align-middle border-secondary border-end text-center",key:e,style:(0,m.Tr)({"background-color":a.getBackgroundColor(t.absensi,e,s+1)})},(0,m.v_)(a.getStatus(t.absensi,e)),5)))),128)),(0,l.Lk)("td",{class:"align-middle border-secondary border-end text-center",style:(0,m.Tr)([{"background-color":"#ffd760"},a.style_td(s+1)])},(0,m.v_)(t.hadir),5),(0,l.Lk)("td",{class:"align-middle border-secondary border-end text-center",style:(0,m.Tr)([{"background-color":"#ffd760"},a.style_td(s+1)])},(0,m.v_)(t.tidak),5)])))),128))])])],512)])])])}e(4603),e(7566),e(8721);var Bb=e(3833),Kb=e.n(Bb),Mb=e(3959),Fb={mixins:[gs],data(){return{laporan_absensi:[]}},props:{dates:{type:Array,required:!0},dataLaporanAbsensi:{type:Array,required:!0},bulan:{type:String,required:!0},tahun:{type:Number,required:!0}},methods:{formatDate(a){return new Date(a).getDate()},getdata(){this.dataLaporanAbsensi&&(this.laporan_absensi=this.dataLaporanAbsensi)},unduhPdf(){const a=this.$refs.contentToExport,t={margin:10,filename:"exported-content.pdf",image:{type:"pdf",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:[210,330],orientation:"landscape"}};Kb()().from(a).set(t).save()},exportToExcel(){const a=document.querySelectorAll(".tabel-pdf tbody tr"),t=[["NO","NIK","Nama","Tanggal","Y","T"]];a.forEach((a=>{const e=[];a.querySelectorAll("td").forEach((a=>{e.push(a.textContent)})),t.push(e)}));const e=Mb.Wp.book_new(),s=Mb.Wp.aoa_to_sheet(t);Mb.Wp.book_append_sheet(e,s,"Sheet1");const l=Mb.M9(e,{bookType:"xlsx",type:"array"}),o=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(o);this.downloadLink(n),window.URL.revokeObjectURL(n)},downloadLink(a){const t=document.createElement("a");t.href=a,t.download="data.xlsx",document.body.appendChild(t),t.focus(),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(a)}},watch:{dataLaporanAbsensi:"getdata",dates:"getdata"}};const Ub=(0,n.A)(Fb,[["render",jb]]);var Nb=Ub,Rb={mixins:[gs],name:"pageLapAbsensi",components:{exportAbsensiVue:Nb,KomponenNotFound:ks,KomponenJudul:Nt,KomponenPagination:rs},data(){return{namaPage:"Laporan Absensi",selectedYear:(new Date).getFullYear(),selectedMonth:(new Date).getMonth()+1,index:0,dates:[],years:[],months:[{value:1,name:"Januari"},{value:2,name:"Februari"},{value:3,name:"Maret"},{value:4,name:"April"},{value:5,name:"Mei"},{value:6,name:"Jui"},{value:7,name:"Juli"},{value:8,name:"Augustus"},{value:9,name:"September"},{value:10,name:"Oktober"},{value:11,name:"November"},{value:12,name:"Desember"}],dataKaryawan:[],dataPagination:[]}},props:{searchResults:{required:!0},exports_status:{required:!0}},methods:{formatDate(a){return new Date(a).getDate()},getDataKaryawan(){M.A.get(`${F}laporan_absensi`,{params:{search_query:this.searchResults?this.searchResults:"",year:this.selectedYear,month:this.selectedMonth}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},dataSlice(a){this.dataPagination=a},statusExp(){const a=this.$refs.modalButton;!0===this.exports_status&&(a.click(),this.getDataKaryawan())},updateDates(){this.dates=[];const a=new Date(this.selectedYear,this.selectedMonth-1,1),t=new Date(this.selectedYear,this.selectedMonth,0),e=(t-a)/864e5;for(let s=0;s<=e;s++){const t=new Date(a);t.setDate(a.getDate()+s+1),this.dates.push(t.toISOString().slice(0,10))}},getYears(){const a=(new Date).getFullYear();for(let t=a;t>=a-10;t--)this.years.push(t)}},computed:{selectedMonthName(){const a=this.months.find((a=>a.value===this.selectedMonth));return a?a.name:"Not Found"}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getYears(),this.updateDates(),this.getDataKaryawan(),this.dataSlice()):sw.push("/login")},watch:{searchResults:"getDataKaryawan",selectedYear:"getDataKaryawan",selectedMonth:"getDataKaryawan",exports_status:"statusExp"}};const $b=(0,n.A)(Rb,[["render",kb]]);var Jb=$b;const Xb={id:"main-padding",class:"main"},qb={key:0,class:"section dashboard"},Gb={class:"card"},Vb={class:"d-flex w-50 px-3 py-4 overflow-auto",style:{"min-width":"300px"}},Ob=["value"],Hb=["value"],zb={class:"card-body py-2"},Wb={class:"table table-sm table-bordered table-hover",style:{"font-size":"11px","min-width":"2000px"}},Yb={class:"my-4"},Qb={class:"my-4"},Zb={type:"button",class:"btn btn-primary d-none",ref:"modalButton","data-bs-toggle":"modal","data-bs-target":"#fullscreenModal"},af={class:"my-2"},tf={key:1};function ef(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("page-export-gaji"),c=(0,l.g2)("komponen-pagination"),u=(0,l.g2)("komponen-not-found");return(0,l.uX)(),(0,l.CE)("main",Xb,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),n.dataKaryawan.length>0?((0,l.uX)(),(0,l.CE)("section",qb,[(0,l.Lk)("div",Gb,[(0,l.Lk)("div",Vb,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.selectedYear=a),class:"form-select mx-2",id:"ss"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.years,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a,value:a},(0,m.v_)(a),9,Ob)))),128))],512),[[s.u1,n.selectedYear]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.selectedMonth=a),class:"form-select mx-2",id:"dd"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.months,(a=>((0,l.uX)(),(0,l.CE)("option",{key:a.value,value:a.value},(0,m.v_)(a.name),9,Hb)))),128))],512),[[s.u1,n.selectedMonth]])]),(0,l.Lk)("div",zb,[(0,l.Lk)("div",{class:(0,m.C4)(["scroll-container",a.defaultColorScrollbar,a.changeColorScrollbar]),onMousemove:t[2]||(t[2]=(...t)=>a.handleMouseMove&&a.handleMouseMove(...t))},[(0,l.Lk)("table",Wb,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",Yb,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th()),rowspan:"2"},"NO.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th()),rowspan:"2"},"NOMOR NIK",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th()),rowspan:"2"},"NAMA",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th()),rowspan:"2"},"JENIS KELAMIN",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th()),rowspan:"2"},"JABATAN",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"DURASI NORMAL",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"DURASI LEMBUR",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"HADIR",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"ABSEN",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"EFEKTIF",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NORMAL",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"LEMBUR",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NOMINAL GAJI / JAM",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NOMINAL BONUS / HARI",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GAJI NORMAL",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GAJI LEMBUR",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GAJI BONUS",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"TOTAL GAJI",6)]),(0,l.Lk)("tr",Qb,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"DN",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"DL",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"H",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"A",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"N",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"L",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"E",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NG",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"NB",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GN = NG x DN",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GL = (2 x NG x DN) - (1.5 x NG)",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"GB = NB x E",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"TG = GN + GL + SGB",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataPagination,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.uuid},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.no_nik),7),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jk),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jabatan.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.total_durasi_normal?t.total_durasi_normal.replace("-",""):"00:00:00"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.total_durasi_lembur?t.total_durasi_lembur.replace("-",""):"00:00:00"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.hadir)+" Hari",7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.tidak)+" Hari",7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.bonus)+" Hari",7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.normal)+" Hari",7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.lembur)+" Hari",7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nominal_gaji_per_jam?i.formatRupiah(parseFloat(t.nominal_gaji_per_jam)):"Rp 0"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(i.nominalBonusPerHari(t.gaji_bonus,i.jumlahHariEfektif)?i.formatRupiah(i.nominalBonusPerHari(t.gaji_bonus,i.jumlahHariEfektif)):"Rp 0"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(i.kalkulasiBonus(t.gaji_bonus,i.jumlahHariEfektif,t.bonus)?i.formatRupiah(i.kalkulasiBonus(t.gaji_bonus,i.jumlahHariEfektif,t.bonus)):"Rp 0"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.gaji_normal?i.formatRupiah(parseFloat(t.gaji_normal)):"Rp 0"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.gaji_lembur?i.formatRupiah(parseFloat(t.gaji_lembur)):"Rp 0"),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(i.formatRupiah((t.gaji_normal?parseFloat(t.gaji_normal):0)+(t.gaji_lembur?parseFloat(t.gaji_lembur):0)+(t.gaji_bonus?parseFloat(t.gaji_bonus):0))),7)])))),128))])])],34)]),(0,l.Lk)("button",Zb,"Full Screen Modal",512),(0,l.bF)(d,{dataLaporanGaji:n.dataKaryawan,bulan:i.selectedMonthName,tahun:n.selectedYear,numberMonth:n.selectedMonth},null,8,["dataLaporanGaji","bulan","tahun","numberMonth"]),(0,l.Lk)("div",af,[(0,l.bF)(c,{data:n.dataKaryawan,"onUpdate:data":i.dataSlice},null,8,["data","onUpdate:data"])])])])):((0,l.uX)(),(0,l.CE)("section",tf,[(0,l.bF)(u)]))])}const sf={class:"modal fade",id:"fullscreenModal",tabindex:"-1"},lf={class:"modal-dialog modal-fullscreen"},of={class:"modal-content container"},nf={class:"modal-header"},rf=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),df=(0,l.Lk)("i",{class:"bi bi-file-earmark-excel-fill"},null,-1),cf=[df],mf=(0,l.Lk)("i",{class:"bi bi-file-earmark-pdf-fill"},null,-1),uf=[mf],hf={class:"modal-body",ref:"contentToExport"},pf={class:"text-center p-4"},kf=(0,l.Lk)("h3",{class:"bold text-danger"},"Laporan Gaji Karyawan STG",-1),gf={class:"fst-italic"},bf={class:"table table-sm tabel-pdf",style:{"font-size":"11px"}},ff={class:"my-4 border-top border-bottom border-top border-secondary"},yf={style:{"font-size":"11px"}};function Lf(a,t,e,s,o,n){return(0,l.uX)(),(0,l.CE)("div",sf,[(0,l.Lk)("div",lf,[(0,l.Lk)("div",of,[(0,l.Lk)("div",nf,[rf,(0,l.Lk)("div",null,[(0,l.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>n.exportToExcel&&n.exportToExcel(...a)),class:"px-2 btn btn-outline-success"},cf),(0,l.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...a)=>n.unduhPdf&&n.unduhPdf(...a)),class:"px-2 mx-2 btn btn-outline-danger"},uf)])]),(0,l.Lk)("div",hf,[(0,l.Lk)("div",pf,[kf,(0,l.Lk)("h6",gf,"Bulan "+(0,m.v_)(e.bulan)+" , Tahun "+(0,m.v_)(e.tahun),1)]),(0,l.Lk)("table",bf,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",ff,[(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-start border-end text-white",style:(0,m.Tr)(a.style_th())},"No.",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"NIK",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"NANA",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"JABATAN",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"DURASI NORMAL",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"DURASI LEMBUR",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"BONUS",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"NORMAL",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"LEMBUR",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"GAJI BONUS",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"GAJI NORMAL",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"GAJI LEMBUR",4),(0,l.Lk)("th",{scope:"col",class:"text-center align-middle py-2 border-secondary border-end text-white",style:(0,m.Tr)(a.style_th())},"TOTAL",4)])]),(0,l.Lk)("tbody",yf,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.laporan_gaji,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{class:"border-bottom border-secondary",key:t.uuid},[(0,l.Lk)("td",{class:"align-middle text-center border-start border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.no_nik),5),(0,l.Lk)("td",{class:"align-middle border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jabatan.nama),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.total_durasi_normal?t.total_durasi_normal.replace("-",""):"00:00:00"),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.total_durasi_lembur?t.total_durasi_lembur.replace("-",""):"00:00:00"),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.bonus)+" Hari",5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.normal)+" Hari",5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.lembur)+" Hari",5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(n.kalkulasiBonus(t.gaji_bonus,n.jumlahHariEfektif,t.bonus)?n.formatRupiah(n.kalkulasiBonus(t.gaji_bonus,n.jumlahHariEfektif,t.bonus)):"Rp 0"),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.gaji_normal?n.formatRupiah(parseFloat(t.gaji_normal)):"Rp 0"),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.gaji_lembur?n.formatRupiah(parseFloat(t.gaji_lembur)):"Rp 0"),5),(0,l.Lk)("td",{class:"align-middle text-center border-end border-secondary",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(n.formatRupiah((t.gaji_normal?parseFloat(t.gaji_normal):0)+(t.gaji_lembur?parseFloat(t.gaji_lembur):0)+(t.gaji_bonus?parseFloat(t.gaji_bonus):0))),5)])))),128))])])],512)])])])}var _f={mixins:[gs],data(){return{laporan_gaji:[]}},props:{dataLaporanGaji:{type:Array,required:!0},bulan:{type:String,required:!0},tahun:{type:Number,required:!0},numberMonth:{type:Number,required:!0}},computed:{jumlahHariEfektif(){let a=new Date(this.tahun,this.numberMonth,0).getDate(),t=0;for(let e=1;e<=a;e++){let a=new Date(this.tahun,this.numberMonth-1,e),s=a.getDay();0!==s&&6!==s&&t++}return t}},methods:{getdata(){this.dataLaporanGaji&&(this.laporan_gaji=this.dataLaporanGaji)},kalkulasiBonus(a,t,e){const s=parseFloat(a),l=parseFloat(t),o=parseFloat(e);return s/l*o},formatRupiah(a){if("number"!==typeof a)return a;const t=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0});return t.format(a).replace("-","")},unduhPdf(){const a=this.$refs.contentToExport,t={margin:10,filename:"exported-content.pdf",image:{type:"pdf",quality:1},html2canvas:{scale:2},jsPDF:{unit:"mm",format:[210,330],orientation:"landscape"}};Kb()().from(a).set(t).save()},exportToExcel(){const a=document.querySelectorAll(".tabel-pdf tr"),t=[["NO","NIK","Nama","Jabatan","Bonus","Normal","Lembur","Gaji Normal","Gaji Lembur","Durasi Lembur","Durasi Normal","Total"]];a.forEach((a=>{const e=[];a.querySelectorAll("td").forEach((a=>{e.push(a.textContent)})),t.push(e)}));const e=Mb.Wp.book_new(),s=Mb.Wp.aoa_to_sheet(t);Mb.Wp.book_append_sheet(e,s,"Sheet1");const l=Mb.M9(e,{bookType:"xlsx",type:"array"}),o=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(o);this.downloadLink(n),window.URL.revokeObjectURL(n)},downloadLink(a){const t=document.createElement("a");t.href=a,t.download="data.xlsx",document.body.appendChild(t),t.focus(),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(a)}},watch:{dataLaporanGaji:"getdata"}};const vf=(0,n.A)(_f,[["render",Lf]]);var wf=vf,xf={mixins:[gs],name:"pageLapAbsensi",components:{PageExportGaji:wf,KomponenJudul:Nt,KomponenNotFound:ks,KomponenPagination:rs},data(){return{index:0,namaPage:"Laporan Gaji",id_kryn:"",document:{},selectedYear:(new Date).getFullYear(),selectedMonth:(new Date).getMonth()+1,dates:[],years:[],months:[{value:1,name:"Januari"},{value:2,name:"Februari"},{value:3,name:"Maret"},{value:4,name:"April"},{value:5,name:"Mei"},{value:6,name:"Jui"},{value:7,name:"Juli"},{value:8,name:"Augustus"},{value:9,name:"September"},{value:10,name:"Oktober"},{value:11,name:"November"},{value:12,name:"Desember"}],dataKaryawan:[],dataPagination:[],laporanGaji:[]}},props:{searchResults:{required:!0},exports_status:{required:!0}},methods:{getDataKaryawan(){const a=localStorage.getItem("accessToken");M.A.get(`${F}laporan_gaji`,{headers:{"x-access-token":a},params:{search_query:this.searchResults,year:this.selectedYear,month:this.selectedMonth}}).then((a=>{this.dataKaryawan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},dataSlice(a){this.dataPagination=a},kalkulasiBonus(a,t,e){const s=parseFloat(a),l=parseFloat(t);return s/l*e},nominalBonusPerHari(a,t){const e=parseFloat(a),s=parseFloat(t);return e/s},formatRupiah(a){if("number"!==typeof a)return a;const t=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0});return t.format(a).replace("-","")},async statusExp(){const a=this.$refs.modalButton;!0===this.exports_status&&(a.click(),this.getDataKaryawan())},getYears(){const a=(new Date).getFullYear();for(let t=a;t>=a-10;t--)this.years.push(t)}},computed:{jumlahHariEfektif(){let a=new Date(this.selectedYear,this.selectedMonth,0).getDate(),t=0;for(let e=1;e<=a;e++){let a=new Date(this.selectedYear,this.selectedMonth-1,e),s=a.getDay();0!==s&&6!==s&&t++}return t},selectedMonthName(){const a=this.months.find((a=>a.value===this.selectedMonth));return a?a.name:"Not Found"}},mounted(){const a=localStorage.getItem("accessToken");a?(this.getDataKaryawan(),this.dataSlice(),this.getYears()):sw.push("/login")},watch:{selectedYear:"getDataKaryawan",selectedMonth:"getDataKaryawan",searchResults:"getDataKaryawan",exports_status:"statusExp"}};const Cf=(0,n.A)(xf,[["render",ef]]);var Df=Cf;const Pf={id:"main-padding",class:"main"},Tf={class:"section profile"},If={class:"row"},Sf={class:"col-xl-4"},Af={class:"card"},Ef={class:"card-body profile-card pt-4 d-flex flex-column align-items-center"},jf=["src"],Bf=(0,l.Fv)('<div class="social-links mt-2"><a href="#" class="twitter"><i class="bi bi-twitter"></i></a><a href="#" class="facebook"><i class="bi bi-facebook"></i></a><a href="#" class="instagram"><i class="bi bi-instagram"></i></a><a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a></div>',1),Kf={class:"col-xl-8"},Mf={class:"card"},Ff={class:"card-body pt-3"},Uf=(0,l.Fv)('<div class="overflow-auto"><ul class="nav nav-tabs nav-tabs-bordered" style="min-width:900px;"><li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-edit">Profil</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#pengaturan-lokasi">Lokasi</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#produk">Produk</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#jabatan">Jabatan</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#kemampuan">Kemampuan</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#gaji">Gaji</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#shift">Shift</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#minEfektifMulai">Minimal Efektif Kehadiran</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#nominalbonus">Nominal Bonus</button></li></ul></div>',1),Nf={class:"tab-content pt-2"},Rf={class:"tab-pane fade profile-edit pt-3 active show",id:"profile-edit"},$f={class:"row mb-3"},Jf=(0,l.Lk)("div",{class:"col-md-4 col-lg-3 col-form-label"},"Logo",-1),Xf={class:"col-md-8 col-lg-9"},qf=["src"],Gf={class:"col-12 d-flex"},Vf={class:"pt-4"},Of=(0,l.Lk)("i",{class:"bi bi-upload"},null,-1),Hf=[Of],zf=(0,l.Lk)("a",{href:"#",class:"btn btn-danger btn mx-1",title:"Remove my profile image"},[(0,l.Lk)("i",{class:"bi bi-trash"})],-1),Wf={class:"row mb-3"},Yf=(0,l.Lk)("label",{for:"input1",class:"col-md-4 col-lg-3 col-form-label"},"Nama Instansi",-1),Qf={class:"col-md-8 col-lg-9"},Zf={class:"row mb-3"},ay=(0,l.Lk)("label",{for:"input2",class:"col-md-4 col-lg-3 col-form-label"},"Name Tag",-1),ty={class:"col-md-8 col-lg-9"},ey={class:"row mb-3"},sy=(0,l.Lk)("label",{for:"input3",class:"col-md-4 col-lg-3 col-form-label"},"Jenis Usaha",-1),ly={class:"col-md-8 col-lg-9"},oy={class:"row mb-3"},ny=(0,l.Lk)("label",{for:"profil-perusahaan",class:"col-md-4 col-lg-3 col-form-label"},"Profil Perusahaan",-1),iy={class:"col-md-8 col-lg-9"},ry={class:"row mb-3"},dy=(0,l.Lk)("label",{for:"input4",class:"col-md-4 col-lg-3 col-form-label"},"Nama Pimpinan",-1),cy={class:"col-md-8 col-lg-9"},my={class:"row mb-3"},uy=(0,l.Lk)("label",{for:"input5",class:"col-md-4 col-lg-3 col-form-label"},"Nomor Telepon",-1),hy={class:"col-md-8 col-lg-9"},py={class:"row mb-3"},ky=(0,l.Lk)("label",{for:"input6",class:"col-md-4 col-lg-3 col-form-label"},"Email",-1),gy={class:"col-md-8 col-lg-9"},by={class:"row mb-3"},fy=(0,l.Lk)("label",{for:"input7",class:"col-md-4 col-lg-3 col-form-label"},"Website",-1),yy={class:"col-md-8 col-lg-9"},Ly={class:"row mb-3"},_y=(0,l.Lk)("label",{for:"alamat",class:"col-md-4 col-lg-3 col-form-label"},"Alamat",-1),vy={class:"col-md-8 col-lg-9"},wy={class:"text-danger fst-italic text-center my-4"},xy={class:"text-end mx-auto"},Cy={class:"tab-pane fade pt-3",id:"pengaturan-lokasi"},Dy={class:"row mb-3"},Py={class:"col-md-8 col-lg-9 px-4"},Ty={class:"form-check form-switch mx-2"},Iy={class:"mx-2"},Sy={class:"tab-pane fade",id:"produk"},Ay={class:"table table-sm table-hover",style:{"font-size":"14px"}},Ey={class:"bg-light"},jy=["onClick"],By=(0,l.Lk)("i",{class:"bi bi-x-octagon"},null,-1),Ky=[By],My=["onClick"],Fy=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),Uy=[Fy],Ny={class:"modal",id:"disabledAnimationProduk",tabindex:"-1"},Ry={class:"modal-dialog"},$y={class:"modal-content"},Jy={class:"modal-header"},Xy={class:"modal-title"},qy=(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Gy={class:"modal-body"},Vy={class:"row g-3"},Oy={class:"col-md-12"},Hy=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama Produk",-1),zy={class:"text-danger fst-italic"},Wy={class:"modal-footer"},Yy=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),Qy={class:"tab-pane fade",id:"jabatan"},Zy={class:"table table-sm table-hover",style:{"font-size":"14px"}},aL={class:"bg-light"},tL={class:"my-4"},eL=["onClick"],sL=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),lL=[sL],oL={class:"modal",id:"disabledAnimationJabatan",tabindex:"-1"},nL={class:"modal-dialog"},iL={class:"modal-content"},rL=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Form Jabatan"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),dL={class:"modal-body"},cL={class:"row g-3"},mL={class:"col-md-12"},uL=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama Jabatan",-1),hL={class:"text-danger fst-italic"},pL={class:"modal-footer"},kL=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),gL={class:"tab-pane fade",id:"kemampuan"},bL={class:"table table-sm table-hover",style:{"font-size":"14px"}},fL={class:"bg-light"},yL={class:"my-4"},LL=["onClick"],_L=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),vL=[_L],wL={class:"modal",id:"disabledAnimationKemampuan",tabindex:"-1"},xL={class:"modal-dialog"},CL={class:"modal-content"},DL=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Form Kemampuan"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),PL={class:"modal-body"},TL={class:"row g-3"},IL={class:"col-md-12"},SL=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nama Kemampuan",-1),AL={class:"text-danger fst-italic"},EL={class:"modal-footer"},jL=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),BL={class:"tab-pane fade",id:"gaji"},KL={class:"table table-sm table-hover",style:{"font-size":"14px"}},ML={class:"bg-light"},FL={class:"my-4"},UL=["onClick"],NL=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),RL=[NL],$L={class:"modal",id:"disabledAnimationGaji",tabindex:"-1"},JL={class:"modal-dialog"},XL={class:"modal-content"},qL=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Form Gaji"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),GL={class:"modal-body"},VL={class:"row g-3"},OL={class:"col-md-12"},HL=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nominal Gaji",-1),zL={class:"col-md-12"},WL=(0,l.Lk)("label",{for:"input2",class:"form-label"},"Jabatan",-1),YL={class:"col-md-12"},QL=(0,l.Lk)("label",{for:"input3",class:"form-label"},"Kemampuan",-1),ZL={class:"text-danger fst-italic"},a_={class:"modal-footer"},t_=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),e_={class:"tab-pane fade",id:"shift"},s_={class:"table table-sm table-hover",style:{"font-size":"14px"}},l_={class:"bg-light"},o_={class:"my-4"},n_=["onClick"],i_=(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),r_=[i_],d_={class:"modal",id:"disabledAnimationShift",tabindex:"-1"},c_={class:"modal-dialog"},m_={class:"modal-content"},u_=(0,l.Lk)("div",{class:"modal-header"},[(0,l.Lk)("h5",{class:"modal-title"},"Form Shift"),(0,l.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),h_={class:"modal-body"},p_={class:"row g-3"},k_={class:"col-md-12"},g_=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Shift",-1),b_={class:"col-md-12"},f_=(0,l.Lk)("label",{for:"input2",class:"form-label"},"Jam Mulai",-1),y_={class:"col-md-12"},L_=(0,l.Lk)("label",{for:"input3",class:"form-label"},"Jam Berakhir",-1),__={class:"text-danger fst-italic"},v_={class:"modal-footer"},w_=(0,l.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup",-1),x_={class:"tab-pane fade pt-3",id:"minEfektifMulai"},C_={class:"row g-3"},D_={class:"col-12 col-md-6"},P_=(0,l.Lk)("label",{for:"min-efektif-mulai",class:"form-label"},"Minimal Efektif",-1),T_={class:"text-danger fst-italic"},I_={class:"tab-pane fade pt-3",id:"nominalbonus"},S_={class:"row g-3"},A_={class:"col-12 col-md-6"},E_=(0,l.Lk)("label",{for:"input1",class:"form-label"},"Nominal Bonus",-1),j_={class:"text-danger fst-italic"};function B_(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("my-upload");return(0,l.uX)(),(0,l.CE)("main",Pf,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),(0,l.Lk)("section",Tf,[(0,l.Lk)("div",If,[(0,l.Lk)("div",Sf,[(0,l.Lk)("div",Af,[(0,l.Lk)("div",Ef,[(0,l.Lk)("img",{src:n.formData.logo?i.getUrl(n.formData.logo):i.getUrl("logo-kosong.jpg"),alt:"Profile"},null,8,jf),(0,l.Lk)("h2",null,(0,m.v_)(n.dataProfilById.nama_perusahaan),1),(0,l.Lk)("h3",null,(0,m.v_)(n.dataProfilById.jenis_usaha),1),Bf])])]),(0,l.Lk)("div",Kf,[(0,l.Lk)("div",Mf,[(0,l.Lk)("div",Ff,[Uf,(0,l.Lk)("div",Nf,[(0,l.Lk)("div",Rf,[(0,l.Lk)("form",null,[(0,l.Lk)("div",$f,[Jf,(0,l.Lk)("div",Xf,[(0,l.Lk)("img",{src:n.formData.logo?i.getUrl(n.formData.logo):i.getUrl("logo-kosong.jpg"),alt:"Logo"},null,8,qf),(0,l.Lk)("div",Gf,[(0,l.Lk)("div",Vf,[(0,l.Lk)("a",{onClick:t[0]||(t[0]=(...a)=>i.toggleShow&&i.toggleShow(...a)),class:"btn btn-primary btn mx-2",title:"Upload new profile image"},Hf),zf])])])]),(0,l.Lk)("div",Wf,[Yf,(0,l.Lk)("div",Qf,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.nama_perusahaan=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.formData.nama_perusahaan]])])]),(0,l.Lk)("div",Zf,[ay,(0,l.Lk)("div",ty,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.nama_alias=a),type:"text",class:"form-control",id:"input2",required:""},null,512),[[s.Jo,n.formData.nama_alias]])])]),(0,l.Lk)("div",ey,[sy,(0,l.Lk)("div",ly,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.formData.jenis_usaha=a),type:"text",class:"form-control",id:"input3",required:""},null,512),[[s.Jo,n.formData.jenis_usaha]])])]),(0,l.Lk)("div",oy,[ny,(0,l.Lk)("div",iy,[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.formData.profil_perusahaan=a),id:"profil-perusahaan",class:"form-control",style:{height:"300px"}},null,512),[[s.Jo,n.formData.profil_perusahaan]])])]),(0,l.Lk)("div",ry,[dy,(0,l.Lk)("div",cy,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.formData.pimpinan=a),type:"text",class:"form-control",id:"input4",required:""},null,512),[[s.Jo,n.formData.pimpinan]])])]),(0,l.Lk)("div",my,[uy,(0,l.Lk)("div",hy,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.formData.nomor_telepon=a),type:"text",class:"form-control",id:"input5",required:""},null,512),[[s.Jo,n.formData.nomor_telepon]])])]),(0,l.Lk)("div",py,[ky,(0,l.Lk)("div",gy,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.formData.email=a),type:"text",class:"form-control",id:"input6",required:""},null,512),[[s.Jo,n.formData.email]])])]),(0,l.Lk)("div",by,[fy,(0,l.Lk)("div",yy,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.formData.website=a),type:"text",class:"form-control",id:"input7",required:""},null,512),[[s.Jo,n.formData.website]])])]),(0,l.Lk)("div",Ly,[_y,(0,l.Lk)("div",vy,[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.formData.alamat=a),class:"form-control",id:"alamat",style:{height:"100px"}},null,512),[[s.Jo,n.formData.alamat]])])]),(0,l.Lk)("div",wy,(0,m.v_)(n.errorRequired),1),(0,l.Lk)("div",xy,[(0,l.Lk)("button",{type:"button",onClick:t[10]||(t[10]=a=>i.simpanProfil(n.formData.id)),class:"btn btn-primary mx-auto w-75"},"Simpan")])])]),(0,l.Lk)("div",Cy,[(0,l.Lk)("form",null,[(0,l.Lk)("div",Dy,[(0,l.Lk)("div",Py,[(0,l.Lk)("div",Ty,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":t[11]||(t[11]=a=>n.dataProfilById.lokasi=a),onChange:t[12]||(t[12]=a=>i.toggleLokasi(n.dataProfilById.id))},null,544),[[s.lH,n.dataProfilById.lokasi]]),(0,l.Lk)("span",Iy,(0,m.v_)(n.dataProfilById.lokasi?"Penggunaan Lokasi AKtif":"Penggunaan Lokasi Tidak Aktif"),1)])])])])]),(0,l.Lk)("div",Sy,[(0,l.Lk)("table",Ay,[(0,l.Lk)("thead",Ey,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)([a.style_th(),{"min-height":"1000px"}])},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nama Produk",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataProduk,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("button",{class:"btn btn-danger btn-md mx-1",onClick:a=>i.deleteProduk(t.id)},Ky,8,jy),(0,l.Lk)("button",{class:"btn btn-success btn-md mx-1",onClick:a=>i.getProdukById(t.id),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationProduk"},Uy,8,My)],6)])))),128))])]),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[13]||(t[13]=(...a)=>i.setDataProdukId&&i.setDataProdukId(...a)),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationProduk"},"+ Tambah"),(0,l.Lk)("div",Ny,[(0,l.Lk)("div",Ry,[(0,l.Lk)("div",$y,[(0,l.Lk)("div",Jy,[(0,l.Lk)("h5",Xy,"Form "+(0,m.v_)(n.dataProdukById.id?"Edit":"Tambah")+" Produk",1),qy]),(0,l.Lk)("div",Gy,[(0,l.Lk)("form",Vy,[(0,l.Lk)("div",Oy,[Hy,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>n.dataProdukById.nama=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataProdukById.nama]])]),(0,l.Lk)("div",zy,(0,m.v_)(n.errorRequired),1)])]),(0,l.Lk)("div",Wy,[Yy,n.dataProdukById.id?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[15]||(t[15]=a=>i.updateProduk(n.dataProdukById.id)),type:"button",class:"btn btn-primary"},"Update")):(0,l.Q3)("",!0),n.dataProdukById.id?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:t[16]||(t[16]=a=>i.tambahProduk()),type:"button",class:"btn btn-primary"},"Simpan"))])])])])]),(0,l.Lk)("div",Qy,[(0,l.Lk)("table",Zy,[(0,l.Lk)("thead",aL,[(0,l.Lk)("tr",tL,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nama Jabatan",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataJabatan,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("button",{class:"btn btn-success btn-md mx-1",onClick:a=>i.getJabatanById(t.id),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationJabatan"},lL,8,eL)],6)])))),128))])]),(0,l.Lk)("div",oL,[(0,l.Lk)("div",nL,[(0,l.Lk)("div",iL,[rL,(0,l.Lk)("div",dL,[(0,l.Lk)("form",cL,[(0,l.Lk)("div",mL,[uL,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>n.dataJabatanById.nama=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataJabatanById.nama]])]),(0,l.Lk)("div",hL,(0,m.v_)(n.errorRequired),1)])]),(0,l.Lk)("div",pL,[kL,(0,l.Lk)("button",{onClick:t[18]||(t[18]=a=>i.updateJabatan(n.dataJabatanById.id)),type:"button",class:"btn btn-primary"},"Update")])])])])]),(0,l.Lk)("div",gL,[(0,l.Lk)("table",bL,[(0,l.Lk)("thead",fL,[(0,l.Lk)("tr",yL,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nama Kemampuan",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataKemampuan,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:"align-middle",style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nama),5),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("button",{class:"btn btn-success btn-md mx-1",onClick:a=>i.getKemampuanById(t.id),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationKemampuan"},vL,8,LL)],6)])))),128))])]),(0,l.Lk)("div",wL,[(0,l.Lk)("div",xL,[(0,l.Lk)("div",CL,[DL,(0,l.Lk)("div",PL,[(0,l.Lk)("form",TL,[(0,l.Lk)("div",IL,[SL,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=a=>n.dataKemampuanById.nama=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataKemampuanById.nama]])]),(0,l.Lk)("div",AL,(0,m.v_)(n.errorRequired),1)])]),(0,l.Lk)("div",EL,[jL,(0,l.Lk)("button",{onClick:t[20]||(t[20]=a=>i.updateKemampuan(n.dataKemampuanById.id)),type:"button",class:"btn btn-primary"},"Update")])])])])]),(0,l.Lk)("div",BL,[(0,l.Lk)("table",KL,[(0,l.Lk)("thead",ML,[(0,l.Lk)("tr",FL,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Nominal Gaji",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jabatan",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Kemampuan",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataGaji,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.nominal),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jabatan.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.kemampuan.nama),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("button",{class:"btn btn-success btn-md mx-1",onClick:a=>i.getGajiById(t.id),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationGaji"},RL,8,UL)],6)])))),128))])]),(0,l.Lk)("div",$L,[(0,l.Lk)("div",JL,[(0,l.Lk)("div",XL,[qL,(0,l.Lk)("div",GL,[(0,l.Lk)("form",VL,[(0,l.Lk)("div",OL,[HL,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=a=>n.dataGajiById.nominal=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataGajiById.nominal]])]),(0,l.Lk)("div",zL,[WL,(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[22]||(t[22]=a=>n.dataGajiById.jabatan=a),type:"text",class:"form-control",id:"input2",required:""},null,512),[[s.Jo,n.dataGajiById.jabatan]])]),(0,l.Lk)("div",YL,[QL,(0,l.bo)((0,l.Lk)("input",{disabled:"","onUpdate:modelValue":t[23]||(t[23]=a=>n.dataGajiById.kemampuan=a),type:"text",class:"form-control",id:"input3",required:""},null,512),[[s.Jo,n.dataGajiById.kemampuan]])]),(0,l.Lk)("div",ZL,(0,m.v_)(n.errorRequired),1)])]),(0,l.Lk)("div",a_,[t_,(0,l.Lk)("button",{onClick:t[24]||(t[24]=a=>i.updateGajiById(n.dataGajiById.id)),type:"button",class:"btn btn-primary"},"Update")])])])])]),(0,l.Lk)("div",e_,[(0,l.Lk)("table",s_,[(0,l.Lk)("thead",l_,[(0,l.Lk)("tr",o_,[(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"No.",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Shift",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jam Mulai",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)(a.class_th()),style:(0,m.Tr)(a.style_th())},"Jam Berakhir",6),(0,l.Lk)("th",{scope:"col",class:(0,m.C4)([a.class_th(),"text-center"]),style:(0,m.Tr)(a.style_th())},"Aksi",6)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.dataStatis,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(e+1),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.shift),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jam_start),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},(0,m.v_)(t.jam_end),7),(0,l.Lk)("td",{class:(0,m.C4)(a.class_td()),style:(0,m.Tr)(a.style_td(e+1))},[(0,l.Lk)("button",{class:"btn btn-success btn-md mx-1",onClick:a=>i.getStatisById(t.id),"data-bs-toggle":"modal","data-bs-target":"#disabledAnimationShift"},r_,8,n_)],6)])))),128))])]),(0,l.Lk)("div",d_,[(0,l.Lk)("div",c_,[(0,l.Lk)("div",m_,[u_,(0,l.Lk)("div",h_,[(0,l.Lk)("form",p_,[(0,l.Lk)("div",k_,[g_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>n.dataStatisById.shift=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataStatisById.shift]])]),(0,l.Lk)("div",b_,[f_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=a=>n.dataStatisById.jam_start=a),type:"time",class:"form-control",id:"input2",required:""},null,512),[[s.Jo,n.dataStatisById.jam_start]])]),(0,l.Lk)("div",y_,[L_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[27]||(t[27]=a=>n.dataStatisById.jam_end=a),type:"time",class:"form-control",id:"input3",required:""},null,512),[[s.Jo,n.dataStatisById.jam_end]])]),(0,l.Lk)("div",__,(0,m.v_)(n.errorRequired),1)])]),(0,l.Lk)("div",v_,[w_,(0,l.Lk)("button",{onClick:t[28]||(t[28]=a=>i.updateStatisById(n.dataStatisById.id)),type:"button",class:"btn btn-primary"},"Update")])])])])]),(0,l.Lk)("div",x_,[(0,l.Lk)("form",C_,[(0,l.Lk)("div",D_,[P_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[29]||(t[29]=a=>n.dataProfilById.min_efektif_start=a),type:"text",class:"form-control",id:"min-efektif-mulai",required:""},null,512),[[s.Jo,n.dataProfilById.min_efektif_start]]),(0,l.Lk)("div",T_,(0,m.v_)(n.errorRequired),1),(0,l.Lk)("button",{onClick:t[30]||(t[30]=a=>i.updateMinimalEfektif(n.dataProfilById.id)),type:"button",class:"btn btn-primary w-100 my-4"},"Update")])])]),(0,l.Lk)("div",I_,[(0,l.Lk)("form",S_,[(0,l.Lk)("div",A_,[E_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[31]||(t[31]=a=>n.dataProfilById.nominal_bonus=a),type:"text",class:"form-control",id:"input1",required:""},null,512),[[s.Jo,n.dataProfilById.nominal_bonus]]),(0,l.Lk)("div",j_,(0,m.v_)(n.errorRequired),1),(0,l.Lk)("button",{onClick:t[32]||(t[32]=a=>i.updateNominalBonus(n.dataProfilById.id)),type:"button",class:"btn btn-primary w-100 my-4"},"Update")])])])])])])])]),(0,l.bF)(d,{onCropSuccess:i.cropSuccess,onCropUploadSuccess:i.cropUploadSuccess,onCropUploadFail:i.cropUploadFail,modelValue:n.show,"onUpdate:modelValue":t[33]||(t[33]=a=>n.show=a),method:e.method,field:e.field,width:200,height:200,maxSize:e.maxSize,url:n.url,"lang-ext":e.langExt,headers:e.headers,"allow-img-format":e.allowImgFormat},null,8,["onCropSuccess","onCropUploadSuccess","onCropUploadFail","modelValue","method","field","maxSize","url","lang-ext","headers","allow-img-format"])])])}var K_={mixins:[gs],components:{KomponenJudul:Nt,"my-upload":rd.A},name:"pagePengaturanView",data(){return{namaPage:"Pengaturan",dataJabatan:[],dataJabatanById:{},dataKemampuan:[],dataKemampuanById:{},dataGaji:[],dataGajiById:{},dataProfilById:{},dataStatis:[],dataStatisById:{},dataProduk:[],dataProdukById:{},errorRequired:"",formData:{id:"",logo:"",nama_perusahaan:"",nama_alias:"",jenis_usaha:"",profil_perusahaan:"",pimpinan:"",nomor_telepon:"",email:"",website:"",alamat:""},url:"",show:!1,imgDataUrl:""}},props:{searchResults:{required:!0},field:{type:String,default:"file"},ki:{type:String,default:"0"},modelValue:{type:Boolean,default:!0},headers:{type:Object,default:()=>null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:2048},langType:{type:String,default:"id"},langExt:{type:Object,default:()=>({hint:"Klik atau seret file ke sini untuk mengunggah",loading:"Mengunggah…",noSupported:"Browser tidak didukung, silakan gunakan IE10+ atau browser lainnya",success:"Unggahan berhasil",fail:"Gagal mengunggah",preview:"Pratinjau",btn:{off:"Batal",close:"Tutup",back:"Kembali",save:"Simpan"},error:{onlyImg:"Gunakan format gambar.",outOfSize:"Gambar melebihi batas ukuran: ",lowestPx:"Ukuran gambar terlalu kecil. Setidaknya diharapkan: "}})},imgBgc:{type:String,default:"#000000"},withCredentials:{type:Boolean,default:!1},method:{type:String,default:"PATCH"},initialImgUrl:{type:String,default:""},allowImgFormat:{type:Array,default:()=>["JPG","PNG"]}},watch:{formData:{handler:"updateUrl",deep:!0}},methods:{getGaji(){M.A.get(`${F}gaji`).then((a=>{this.dataGaji=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getGajiById(a){M.A.get(`${F}gaji/${a}`).then((a=>{this.dataGajiById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateGajiById(a){if(""==this.dataGajiById.nominal)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}gaji/${a}`,{nominal:this.dataGajiById.nominal}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getGaji())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getProduk(){M.A.get(`${F}produk`).then((a=>{this.dataProduk=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getProdukById(a){M.A.get(`${F}produk/${a}`).then((a=>{this.dataProdukById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},tambahProduk(){if(""==this.dataProdukById.nama)return this.errorRequired="Pastikan data diisi...";M.A.post(`${F}produk`,{nama:this.dataProdukById.nama}).then((a=>{201===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getProduk())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateProduk(a){if(""==this.dataProdukById.nama)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}produk/${a}`,{nama:this.dataProdukById.nama}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getProduk())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},deleteProduk(a){$.confirm("Yakin dihapus?","Data akan dihapus secara permanen.").then((t=>{t.isConfirmed&&M.A.delete(`${F}produk/${a}`).then((a=>{204===a.status&&($.success("Berhasil!","Data telah dihapus."),this.getProduk())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}))},setDataProdukId(){this.dataProdukById.id="",this.dataProdukById.nama=""},getJabatan(){M.A.get(`${F}jabatan`).then((a=>{this.dataJabatan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getJabatanById(a){M.A.get(`${F}jabatan/${a}`).then((a=>{this.dataJabatanById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateJabatan(a){if(""==this.dataJabatanById.nama)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}jabatan/${a}`,{nama:this.dataJabatanById.nama}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getJabatan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getKemampuan(){M.A.get(`${F}Kemampuan`).then((a=>{this.dataKemampuan=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getKemampuanById(a){M.A.get(`${F}Kemampuan/${a}`).then((a=>{this.dataKemampuanById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateKemampuan(a){if(""==this.dataKemampuanById.nama)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}Kemampuan/${a}`,{nama:this.dataKemampuanById.nama}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getKemampuan())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getStatis(){M.A.get(`${F}statis`).then((a=>{this.dataStatis=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getStatisById(a){M.A.get(`${F}statis/${a}`).then((a=>{this.dataStatisById=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateStatisById(a){if(""==this.dataStatisById.shift||""==this.dataStatisById.jam_start||""==this.dataStatisById.jam_end||""==this.dataStatisById.min_efektif_start)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}statis/${a}`,{shift:this.dataStatisById.shift,jam_start:this.dataStatisById.jam_start,jam_end:this.dataStatisById.jam_end}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getStatis())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},getUrl(a){return`${F}${a}`},getProfilById(){M.A.get(`${F}profil/1`).then((a=>{this.dataProfilById=a.data.data,this.formData={id:this.dataProfilById.id,logo:this.dataProfilById.logo,nama_perusahaan:this.dataProfilById.nama_perusahaan,nama_alias:this.dataProfilById.nama_alias,jenis_usaha:this.dataProfilById.jenis_usaha,profil_perusahaan:this.dataProfilById.profil_perusahaan,pimpinan:this.dataProfilById.pimpinan,nomor_telepon:this.dataProfilById.nomor_telepon,email:this.dataProfilById.email,website:this.dataProfilById.website,alamat:this.dataProfilById.alamat}})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},simpanProfil(a){if(this.formData.id&&this.formData.nama_perusahaan&&this.formData.nama_alias&&this.formData.jenis_usaha&&this.formData.pimpinan&&this.formData.profil_perusahaan&&this.formData.nomor_telepon&&this.formData.email&&this.formData.website&&this.formData.alamat)try{M.A.patch(`${F}profil_update_by_id/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.getProfilById())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))}catch(t){sw.push({name:"Eror",params:{msg:t}})}else $.error("Gagal!","Pastikan data terisi semua.")},updateMinimalEfektif(a){if(""==this.dataProfilById.min_efektif_start)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}profil_update_min_efektif_start_by_id/${a}`,{min_efektif_start:this.dataProfilById.min_efektif_start}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="")})).then((()=>{this.getProfilById()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},updateNominalBonus(a){if(""==this.dataProfilById.nominal_bonus)return this.errorRequired="Pastikan data diisi...";M.A.patch(`${F}profil_update_nominal_bonus_by_id/${a}`,{nominal_bonus:this.dataProfilById.nominal_bonus}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="")})).then((()=>{this.getProfilById()})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},toggleLokasi(a){M.A.patch(`${F}profil_update_lokasi_by_id/${a}`,{lokasi:this.dataProfilById.lokasi}).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),this.errorRequired="",this.getProfilById())})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},toggleShow(){this.show=!this.show},cropSuccess(a){this.imgDataUrl=a},cropUploadSuccess(a){200===a.code&&(this.show=!this.show,$.success("Berhasil!",a.msg),this.getProfilById())},cropUploadFail(a){this.show=!this.show,$.error("Gagal!",a),this.getProfilById()},updateUrl(){this.url=`${F}profil_upload_logo/${this.formData.id}`}},created(){this.updateUrl()},mounted(){const a=localStorage.getItem("accessToken");a?(this.getJabatan(),this.getProduk(),this.getKemampuan(),this.getGaji(),this.getStatis(),this.getProfilById()):sw.push("/login")}};const M_=(0,n.A)(K_,[["render",B_]]);var F_=M_;const U_={id:"main-padding",class:"main"},N_={class:"section profile"},R_={class:"row"},$_={class:"col-xl-4"},J_={class:"card"},X_={class:"card-body profile-card pt-4 d-flex flex-column align-items-center"},q_=["src"],G_={class:"text-center"},V_=(0,l.Fv)('<div class="social-links mt-2"><a href="#" class="twitter"><i class="bi bi-twitter"></i></a><a href="#" class="facebook"><i class="bi bi-facebook"></i></a><a href="#" class="instagram"><i class="bi bi-instagram"></i></a><a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a></div>',1),O_={class:"col-xl-8"},H_={class:"card"},z_={class:"card-body pt-3"},W_=(0,l.Fv)('<ul class="nav nav-tabs nav-tabs-bordered"><li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-edit">Profil</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-overview">Biodata</button></li><li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-change-password">Ganti Password</button></li></ul>',1),Y_={class:"tab-content pt-2"},Q_={class:"tab-pane fade show active profile-edit pt-3",id:"profile-edit"},Z_={class:"row mb-3"},av=(0,l.Lk)("p",{class:"col-md-4 col-lg-3 col-form-label"},"Profile Image",-1),tv={class:"col-md-8 col-lg-9"},ev=["src"],sv={class:"pt-4"},lv=(0,l.Lk)("i",{class:"bi bi-upload"},null,-1),ov=[lv],nv=(0,l.Lk)("a",{href:"#",class:"btn btn-danger btn mx-1",title:"Remove my profile image"},[(0,l.Lk)("i",{class:"bi bi-trash"})],-1),iv={class:"tab-pane fade profile-overview",id:"profile-overview"},rv=(0,l.Lk)("h5",{class:"card-title"},"Biodata",-1),dv={class:"row"},cv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Nama Lenglkap",-1),mv={class:"col-lg-9 col-md-8"},uv={class:"row"},hv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Nomor NIK",-1),pv={class:"col-lg-9 col-md-8"},kv={class:"row"},gv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Jenis Kelamin",-1),bv={class:"col-lg-9 col-md-8"},fv={class:"row"},yv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Jabatan",-1),Lv={class:"col-lg-9 col-md-8"},_v={class:"row"},vv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Tempat Tanggal Lahir",-1),wv={class:"col-lg-9 col-md-8"},xv={class:"row"},Cv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Alamat KTP",-1),Dv={class:"col-lg-9 col-md-8"},Pv={class:"row"},Tv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"No Telp",-1),Iv={class:"col-lg-9 col-md-8"},Sv={class:"row"},Av=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Email",-1),Ev={class:"col-lg-9 col-md-8"},jv={class:"row"},Bv=(0,l.Lk)("div",{class:"col-lg-3 col-md-4 label"},"Nomor Rekening",-1),Kv={class:"col-lg-9 col-md-8"},Mv={class:"tab-pane fade pt-3",id:"profile-change-password"},Fv={class:"row mb-3"},Uv=(0,l.Lk)("label",{for:"currentPassword",class:"col-md-4 col-lg-3 col-form-label"},"Password Lama",-1),Nv={class:"col-md-8 col-lg-9"},Rv={class:"row mb-3"},$v=(0,l.Lk)("label",{for:"newPassword",class:"col-md-4 col-lg-3 col-form-label"},"Password Baru",-1),Jv={class:"col-md-8 col-lg-9"},Xv={key:0,class:"text-danger fst-italic text-start"},qv={class:"row mb-3"},Gv=(0,l.Lk)("label",{for:"renewPassword",class:"col-md-4 col-lg-3 col-form-label"},"Confirmasi Password",-1),Vv={class:"col-md-8 col-lg-9"},Ov={class:"text-danger fst-italic text-center"},Hv={class:"text-center"};function zv(a,t,e,o,n,i){const r=(0,l.g2)("komponen-judul"),d=(0,l.g2)("my-upload");return(0,l.uX)(),(0,l.CE)("main",U_,[(0,l.bF)(r,{title:n.namaPage},null,8,["title"]),(0,l.Lk)("section",N_,[(0,l.Lk)("div",R_,[(0,l.Lk)("div",$_,[(0,l.Lk)("div",J_,[(0,l.Lk)("div",X_,[(0,l.Lk)("img",{src:i.getUrl(n.dataMe?n.dataMe.doc.foto:""),alt:"Profile",class:"rounded-circle"},null,8,q_),(0,l.Lk)("h2",G_,(0,m.v_)(n.dataMe.nama),1),(0,l.Lk)("h3",null,(0,m.v_)(n.dataMe?n.dataMe.jabatan.nama:""),1),V_])])]),(0,l.Lk)("div",O_,[(0,l.Lk)("div",H_,[(0,l.Lk)("div",z_,[W_,(0,l.Lk)("div",Y_,[(0,l.Lk)("div",Q_,[(0,l.Lk)("div",Z_,[av,(0,l.Lk)("div",tv,[(0,l.Lk)("img",{src:i.getUrl(n.dataMe?n.dataMe.doc.foto:""),alt:"Profile"},null,8,ev),(0,l.Lk)("div",sv,[(0,l.Lk)("a",{onClick:t[0]||(t[0]=(...a)=>i.toggleShow&&i.toggleShow(...a)),class:"btn btn-primary btn mx-2",title:"Upload new profile image"},ov),nv])])])]),(0,l.Lk)("div",iv,[rv,(0,l.Lk)("div",dv,[cv,(0,l.Lk)("div",mv,(0,m.v_)(n.dataMe.nama),1)]),(0,l.Lk)("div",uv,[hv,(0,l.Lk)("div",pv,(0,m.v_)(n.dataMe.no_nik),1)]),(0,l.Lk)("div",kv,[gv,(0,l.Lk)("div",bv,(0,m.v_)(n.dataMe.jk),1)]),(0,l.Lk)("div",fv,[yv,(0,l.Lk)("div",Lv,(0,m.v_)(n.dataMe?n.dataMe.jabatan.nama:""),1)]),(0,l.Lk)("div",_v,[vv,(0,l.Lk)("div",wv,(0,m.v_)(n.dataMe&&n.dataMe.tmpLahir?n.dataMe.tmpLahir.nama.split(" ")[1]:"")+" , "+(0,m.v_)(i.convertLocal(n.dataMe?n.dataMe.tgl_lhr:"")),1)]),(0,l.Lk)("div",xv,[Cv,(0,l.Lk)("div",Dv,(0,m.v_)(n.dataMe?n.dataMe.alamat.nama:""),1)]),(0,l.Lk)("div",Pv,[Tv,(0,l.Lk)("div",Iv,(0,m.v_)(n.dataMe.no_telepon),1)]),(0,l.Lk)("div",Sv,[Av,(0,l.Lk)("div",Ev,(0,m.v_)(n.dataMe.email),1)]),(0,l.Lk)("div",jv,[Bv,(0,l.Lk)("div",Kv,(0,m.v_)(n.dataMe.no_rekening),1)])]),(0,l.Lk)("div",Mv,[(0,l.Lk)("form",null,[(0,l.Lk)("div",Fv,[Uv,(0,l.Lk)("div",Nv,[(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>n.formData.password_lama=a),id:"currentPassword"},null,512),[[s.Jo,n.formData.password_lama]])])]),(0,l.Lk)("div",Rv,[$v,(0,l.Lk)("div",Jv,[(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=a=>n.formData.password_baru=a),id:"newPassword",onInput:t[3]||(t[3]=(...a)=>i.validatePassword&&i.validatePassword(...a))},null,544),[[s.Jo,n.formData.password_baru]]),n.errResponse.err_password?((0,l.uX)(),(0,l.CE)("div",Xv,(0,m.v_)(n.errResponse.err_password),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",qv,[Gv,(0,l.Lk)("div",Vv,[(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=a=>n.formData.konfirmasi_password=a),id:"renewPassword"},null,512),[[s.Jo,n.formData.konfirmasi_password]])])]),(0,l.Lk)("div",Ov,(0,m.v_)(n.err_required),1),(0,l.Lk)("div",Hv,[(0,l.Lk)("button",{type:"button",onClick:t[5]||(t[5]=a=>i.updatePassword(n.dataMe.uuid)),class:"btn btn-primary"},"Save")])])])])])])])]),(0,l.bF)(d,{onCropSuccess:i.cropSuccess,onCropUploadSuccess:i.cropUploadSuccess,onCropUploadFail:i.cropUploadFail,modelValue:n.show,"onUpdate:modelValue":t[6]||(t[6]=a=>n.show=a),method:e.method,field:e.field,width:200,height:200,maxSize:e.maxSize,url:n.url,"lang-ext":e.langExt,headers:e.headers,"allow-img-format":e.allowImgFormat},null,8,["onCropSuccess","onCropUploadSuccess","onCropUploadFail","modelValue","method","field","maxSize","url","lang-ext","headers","allow-img-format"])])])}var Wv={name:"ProfilView",components:{KomponenJudul:Nt,"my-upload":rd.A},data(){return{namaPage:"Profil Saya",dataMe:"",dataMeKaryawan:{},jabatan:"",provinsi:"",kota:"",kecamatan:"",formData:{password_lama:"",password_baru:"",konfirmasi_password:""},errResponse:{err_password:""},err_required:"",imageLoaded:!1,url:"",show:!1,imgDataUrl:""}},props:{searchResults:{required:!0},field:{type:String,default:"file"},ki:{type:String,default:"0"},modelValue:{type:Boolean,default:!0},headers:{type:Object,default:()=>null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:2048},langType:{type:String,default:"id"},langExt:{type:Object,default:()=>({hint:"Klik atau seret file ke sini untuk mengunggah",loading:"Mengunggah…",noSupported:"Browser tidak didukung, silakan gunakan IE10+ atau browser lainnya",success:"Unggahan berhasil",fail:"Gagal mengunggah",preview:"Pratinjau",btn:{off:"Batal",close:"Tutup",back:"Kembali",save:"Simpan"},error:{onlyImg:"Gunakan format gambar.",outOfSize:"Gambar melebihi batas ukuran: ",lowestPx:"Ukuran gambar terlalu kecil. Setidaknya diharapkan: "}})},imgBgc:{type:String,default:"#000000"},withCredentials:{type:Boolean,default:!1},method:{type:String,default:"PATCH"},initialImgUrl:{type:String,default:""},allowImgFormat:{type:Array,default:()=>["JPG","PNG"]}},watch:{searchResults:"getMe",dataMe:{handler:"updateUrl",deep:!0}},methods:{clearForm(){this.formData={password_lama:"",password_baru:"",konfirmasi_password:"",err_required:""}},validatePassword(){const a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;a.test(this.formData.password_baru)?this.errResponse.err_password="":this.errResponse.err_password="Password harus terdiri dari setidaknya 8 karakter, minimal 1 huruf kapital, 1 huruf kecil, 1 angka, dan 1 karakter khusus."},updatePassword(a){this.formData.password_lama&&this.formData.password_baru&&this.formData.konfirmasi_password?this.formData.password_baru!=this.formData.konfirmasi_password?this.err_required="Konfirmasi password salah!":M.A.patch(`${F}user_ganti_password_by_uuid/${a}`,this.formData).then((a=>{200===a.status&&($.success("Berhasil!",a.data.msg),sw.push({name:"pageProfil",params:{randomString:"jSQWgc875gQL0rhI8QlNJ3iXNkfX1TBNu6ixF3sj2SMBLird8tcoGQpHIIzaoEzhJIeWu4NzMeiSF3p2TSNH7DNvCnulSxAIeF7S",msg:a.data.msg}}),this.clearForm())})).catch((a=>{a.response&&404===a.response.status?this.err_required="Password lama tidak diketahui!":sw.push({name:"Eror",params:{msg:a}})})):this.err_required="Pastikan data diisi!"},getUrl(a){return`${F}${a}`},getMe(){const a=localStorage.getItem("accessToken");M.A.get(`${F}me`,{headers:{"x-access-token":a}}).then((a=>{this.dataMe=a.data.data})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})}))},convertLocal(a){const t=a.split("-"),e=new Date(t[0],t[1]-1,t[2]),s=e.getDate(),l=e.getMonth(),o=e.getFullYear(),n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],i=n[l],r=`${s} ${i} ${o}`;return r},toggleShow(){this.show=!this.show},cropSuccess(a){this.imgDataUrl=a},cropUploadSuccess(a){200===a.code&&(this.show=!this.show,$.success("Berhasil!",a.msg),this.getMe())},cropUploadFail(a){this.show=!this.show,$.error("Gagal!",a),this.getMe()},updateUrl(){this.url=`${F}doc_foto_me_by_uuid/${this.dataMe.uuid}`}},created(){this.updateUrl()},mounted(){const a=localStorage.getItem("accessToken");a?this.getMe():sw.push("/login")}};const Yv=(0,n.A)(Wv,[["render",zv]]);var Qv=Yv,Zv=e(6278),aw=(0,Zv.y$)({state:{dataMe:null},mutations:{setDataMe(a,t){a.dataMe=t}},actions:{fetchDataMe(a){const t=localStorage.getItem("accessToken");t?M.A.get(`${F}me`,{headers:{"x-access-token":t}}).then((t=>{a.commit("setDataMe",t.data.data)})).catch((a=>{sw.push({name:"Eror",params:{msg:a}})})):sw.push("/login")}}});const tw=[{path:"/login",name:"LoginView",component:q},{path:"/eror/:msg",name:"Eror",component:go},{path:"/dashboard",name:"Main",component:Lt,beforeEnter:(a,t,e)=>{aw.state.dataMe?e():aw.dispatch("fetchDataMe").then((()=>{e()}))},children:[{path:"/",name:"pageDashboard",component:Wt},{path:"/presensi-me/:randomString",name:"pagePresensiMe",component:$e,meta:{middleware:[bo]}},{path:"/data-absensi-me/:randomString",name:"pageDataAbsensiMe",component:ys,meta:{middleware:[bo]}},{path:"/data-produksi-me/:randomString",name:"pageDataProduksiMe",component:Ml,meta:{middleware:[bo]}},{path:"/pengajuan-izin/:randomString",name:"pagePengajuanIzin",component:no,meta:{middleware:[bo]}},{path:"/data-karyawan/:randomString",name:"pageKaryawanAktif",component:md,meta:{middleware:[bo]}},{path:"/data-karyawan-exp/:randomString",name:"pageKaryawanNonAktif",component:$d,meta:{middleware:[bo]}},{path:"/data-karyawan-gaji/:randomString",name:"pageKaryawanGaji",component:dc,meta:{middleware:[bo]}},{path:"/data-karyawan-lokasi/:randomString",name:"pageKaryawanLokasi",component:$c,meta:{middleware:[bo]}},{path:"/data-users/:randomString",name:"pageDataUsers",component:Am,meta:{middleware:[bo]}},{path:"/data-karyawan-hak-akses/:randomString",name:"pageKaryawanHakAkses",component:au,meta:{middleware:[bo]}},{path:"/check-in/:randomString",name:"pageCheckIn",component:Ju,meta:{middleware:[bo]}},{path:"/check-out/:randomString",name:"pageCheckOut",component:xh,meta:{middleware:[bo]}},{path:"/pemulihan/:randomString",name:"pagePemulihan",component:ap,meta:{middleware:[bo]}},{path:"/data-absensi/:randomString",name:"pageDataAbsensi",component:Ck,meta:{middleware:[bo]}},{path:"/data-produksi/:randomString",name:"pageDataProduksi",component:Hg,meta:{middleware:[bo]}},{path:"/data-laporan-absensi/:randomString",name:"pageLapAbsensi",component:Jb,meta:{middleware:[bo]}},{path:"/data-laporan-gaji/:randomString",name:"pageLapGaji",component:Df,meta:{middleware:[bo]}},{path:"/pengaturan/:randomString",name:"pagePengaturanView",component:F_,meta:{middleware:[bo]}},{path:"/profil-me/:randomString",name:"pageProfil",component:Qv,meta:{middleware:[bo]}},{path:"/lokasi-tambah/:randomString",name:"KomponenTambahLokasi",component:an,meta:{middleware:[bo]}},{path:"/lokasi-edit/:randomString",name:"KomponenEditLokasi",component:In,meta:{middleware:[bo]}}]}],ew=(0,c.aE)({history:(0,c.LA)("/"),routes:tw,mode:"history"});var sw=ew,lw=e(6524),ow=e.n(lw),nw=(e(8736),e(3723));(0,nw.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(a){console.error("Error during service worker registration:",a)}});const iw=(0,s.Ef)(d);window.addEventListener("error",(a=>{if(a.message.includes("WebSocket connection to 'ws://172.16.63.216:8081/ws' failed"))return a.preventDefault(),!0})),document.addEventListener("contextmenu",(function(a){a.preventDefault()})),iw.use(ow()),iw.use(aw).use(sw).mount("#app")}},t={};function e(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={exports:{}};return a[s].call(o.exports,o,o.exports,e),o.exports}e.m=a,function(){var a=[];e.O=function(t,s,l,o){if(!s){var n=1/0;for(c=0;c<a.length;c++){s=a[c][0],l=a[c][1],o=a[c][2];for(var i=!0,r=0;r<s.length;r++)(!1&o||n>=o)&&Object.keys(e.O).every((function(a){return e.O[a](s[r])}))?s.splice(r--,1):(i=!1,o<n&&(n=o));if(i){a.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=a.length;c>0&&a[c-1][2]>o;c--)a[c]=a[c-1];a[c]=[s,l,o]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){var a,t=Object.getPrototypeOf?function(a){return Object.getPrototypeOf(a)}:function(a){return a.__proto__};e.t=function(s,l){if(1&l&&(s=this(s)),8&l)return s;if("object"===typeof s&&s){if(4&l&&s.__esModule)return s;if(16&l&&"function"===typeof s.then)return s}var o=Object.create(null);e.r(o);var n={};a=a||[null,t({}),t([]),t(t)];for(var i=2&l&&s;"object"==typeof i&&!~a.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(a){n[a]=function(){return s[a]}}));return n["default"]=function(){return s},e.d(o,n),o}}(),function(){e.d=function(a,t){for(var s in t)e.o(t,s)&&!e.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:t[s]})}}(),function(){e.f={},e.e=function(a){return Promise.all(Object.keys(e.f).reduce((function(t,s){return e.f[s](a,t),t}),[]))}}(),function(){e.u=function(a){return"js/"+a+"."+{668:"95f738cf",838:"8a59e279"}[a]+".js"}}(),function(){e.miniCssF=function(a){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){var a={},t="absensi_ui:";e.l=function(s,l,o,n){if(a[s])a[s].push(l);else{var i,r;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==s||m.getAttribute("data-webpack")==t+o){i=m;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,e.nc&&i.setAttribute("nonce",e.nc),i.setAttribute("data-webpack",t+o),i.src=s),a[s]=[l];var u=function(t,e){i.onerror=i.onload=null,clearTimeout(h);var l=a[s];if(delete a[s],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach((function(a){return a(e)})),t)return t(e)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),r&&document.head.appendChild(i)}}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var a={524:0};e.f.j=function(t,s){var l=e.o(a,t)?a[t]:void 0;if(0!==l)if(l)s.push(l[2]);else{var o=new Promise((function(e,s){l=a[t]=[e,s]}));s.push(l[2]=o);var n=e.p+e.u(t),i=new Error,r=function(s){if(e.o(a,t)&&(l=a[t],0!==l&&(a[t]=void 0),l)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",i.name="ChunkLoadError",i.type=o,i.request=n,l[1](i)}};e.l(n,r,"chunk-"+t,t)}},e.O.j=function(t){return 0===a[t]};var t=function(t,s){var l,o,n=s[0],i=s[1],r=s[2],d=0;if(n.some((function(t){return 0!==a[t]}))){for(l in i)e.o(i,l)&&(e.m[l]=i[l]);if(r)var c=r(e)}for(t&&t(s);d<n.length;d++)o=n[d],e.o(a,o)&&a[o]&&a[o][0](),a[o]=0;return e.O(c)},s=self["webpackChunkabsensi_ui"]=self["webpackChunkabsensi_ui"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],(function(){return e(6254)}));s=e.O(s)})();
//# sourceMappingURL=app.978cacb0.js.map